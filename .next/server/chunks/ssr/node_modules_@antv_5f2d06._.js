module.exports = {

"[project]/node_modules/@antv/event-emitter/esm/index.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "default": (()=>__TURBOPACK__default__export__)
});
var WILDCARD = '*';
/* event-emitter */ var EventEmitter = function() {
    function EventEmitter() {
        this._events = {};
    }
    /**
     * 监听一个事件
     * @param evt
     * @param callback
     * @param once
     */ EventEmitter.prototype.on = function(evt, callback, once) {
        if (!this._events[evt]) {
            this._events[evt] = [];
        }
        this._events[evt].push({
            callback: callback,
            once: !!once
        });
        return this;
    };
    /**
     * 监听一个事件一次
     * @param evt
     * @param callback
     */ EventEmitter.prototype.once = function(evt, callback) {
        return this.on(evt, callback, true);
    };
    /**
     * 触发一个事件
     * @param evt
     * @param args
     */ EventEmitter.prototype.emit = function(evt) {
        var _this = this;
        var args = [];
        for(var _i = 1; _i < arguments.length; _i++){
            args[_i - 1] = arguments[_i];
        }
        var events = this._events[evt] || [];
        var wildcardEvents = this._events[WILDCARD] || [];
        // 实际的处理 emit 方法
        var doEmit = function(es) {
            var length = es.length;
            for(var i = 0; i < length; i++){
                if (!es[i]) {
                    continue;
                }
                var _a = es[i], callback = _a.callback, once = _a.once;
                if (once) {
                    es.splice(i, 1);
                    if (es.length === 0) {
                        delete _this._events[evt];
                    }
                    length--;
                    i--;
                }
                callback.apply(_this, args);
            }
        };
        doEmit(events);
        doEmit(wildcardEvents);
    };
    /**
     * 取消监听一个事件，或者一个channel
     * @param evt
     * @param callback
     */ EventEmitter.prototype.off = function(evt, callback) {
        if (!evt) {
            // evt 为空全部清除
            this._events = {};
        } else {
            if (!callback) {
                // evt 存在，callback 为空，清除事件所有方法
                delete this._events[evt];
            } else {
                // evt 存在，callback 存在，清除匹配的
                var events = this._events[evt] || [];
                var length_1 = events.length;
                for(var i = 0; i < length_1; i++){
                    if (events[i].callback === callback) {
                        events.splice(i, 1);
                        length_1--;
                        i--;
                    }
                }
                if (events.length === 0) {
                    delete this._events[evt];
                }
            }
        }
        return this;
    };
    /* 当前所有的事件 */ EventEmitter.prototype.getEvents = function() {
        return this._events;
    };
    return EventEmitter;
}();
const __TURBOPACK__default__export__ = EventEmitter;
 //# sourceMappingURL=index.js.map
}}),
"[project]/node_modules/@antv/vendor/es/d3-hierarchy.mjs [app-ssr] (ecmascript) <locals>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
// `@antv/vendor/d3-hierarchy` (ESM)
// See upstream license: https://github.com/d3/d3-hierarchy/blob/main/LICENSE
//
// Our ESM package uses the underlying installed dependencies of `node_modules/d3-hierarchy`
__turbopack_esm__({});
;
}}),
"[project]/node_modules/@antv/vendor/es/d3-hierarchy.mjs [app-ssr] (ecmascript) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$hierarchy$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@antv/vendor/es/d3-hierarchy.mjs [app-ssr] (ecmascript) <locals>");
}}),
"[project]/node_modules/@antv/vendor/es/d3-hierarchy.mjs [app-ssr] (ecmascript) <exports>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({
    "Node": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$hierarchy$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Node"]),
    "cluster": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$hierarchy$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cluster"]),
    "hierarchy": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$hierarchy$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["hierarchy"]),
    "pack": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$hierarchy$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["pack"]),
    "packEnclose": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$hierarchy$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["packEnclose"]),
    "packSiblings": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$hierarchy$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["packSiblings"]),
    "partition": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$hierarchy$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["partition"]),
    "stratify": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$hierarchy$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["stratify"]),
    "tree": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$hierarchy$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tree"]),
    "treemap": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$hierarchy$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["treemap"]),
    "treemapBinary": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$hierarchy$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["treemapBinary"]),
    "treemapDice": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$hierarchy$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["treemapDice"]),
    "treemapResquarify": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$hierarchy$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["treemapResquarify"]),
    "treemapSlice": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$hierarchy$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["treemapSlice"]),
    "treemapSliceDice": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$hierarchy$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["treemapSliceDice"]),
    "treemapSquarify": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$hierarchy$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["treemapSquarify"])
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$hierarchy$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/d3-hierarchy/src/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$hierarchy$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@antv/vendor/es/d3-hierarchy.mjs [app-ssr] (ecmascript) <locals>");
}}),
"[project]/node_modules/@antv/vendor/es/d3-hierarchy.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({
    "Node": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$hierarchy$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["Node"]),
    "cluster": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$hierarchy$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["cluster"]),
    "hierarchy": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$hierarchy$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["hierarchy"]),
    "pack": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$hierarchy$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["pack"]),
    "packEnclose": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$hierarchy$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["packEnclose"]),
    "packSiblings": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$hierarchy$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["packSiblings"]),
    "partition": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$hierarchy$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["partition"]),
    "stratify": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$hierarchy$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["stratify"]),
    "tree": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$hierarchy$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["tree"]),
    "treemap": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$hierarchy$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["treemap"]),
    "treemapBinary": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$hierarchy$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["treemapBinary"]),
    "treemapDice": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$hierarchy$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["treemapDice"]),
    "treemapResquarify": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$hierarchy$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["treemapResquarify"]),
    "treemapSlice": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$hierarchy$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["treemapSlice"]),
    "treemapSliceDice": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$hierarchy$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["treemapSliceDice"]),
    "treemapSquarify": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$hierarchy$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["treemapSquarify"])
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$hierarchy$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/@antv/vendor/es/d3-hierarchy.mjs [app-ssr] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$hierarchy$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__ = __turbopack_import__("[project]/node_modules/@antv/vendor/es/d3-hierarchy.mjs [app-ssr] (ecmascript) <exports>");
}}),
"[project]/node_modules/@antv/vendor/es/d3-array.mjs [app-ssr] (ecmascript) <locals>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
// `@antv/vendor/d3-array` (ESM)
// See upstream license: https://github.com/d3/d3-array/blob/main/LICENSE
//
// Our ESM package uses the underlying installed dependencies of `node_modules/d3-array`
__turbopack_esm__({});
;
}}),
"[project]/node_modules/@antv/vendor/es/d3-array.mjs [app-ssr] (ecmascript) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$array$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@antv/vendor/es/d3-array.mjs [app-ssr] (ecmascript) <locals>");
}}),
"[project]/node_modules/@antv/vendor/es/d3-format.mjs [app-ssr] (ecmascript) <locals>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
// `@antv/vendor/d3-format` (ESM)
// See upstream license: https://github.com/d3/d3-format/blob/main/LICENSE
//
// Our ESM package uses the underlying installed dependencies of `node_modules/d3-format`
__turbopack_esm__({});
;
}}),
"[project]/node_modules/@antv/vendor/es/d3-format.mjs [app-ssr] (ecmascript) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$format$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@antv/vendor/es/d3-format.mjs [app-ssr] (ecmascript) <locals>");
}}),
"[project]/node_modules/@antv/vendor/es/d3-path.mjs [app-ssr] (ecmascript) <locals>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
// `@antv/vendor/d3-path` (ESM)
// See upstream license: https://github.com/d3/d3-path/blob/main/LICENSE
//
// Our ESM package uses the underlying installed dependencies of `node_modules/d3-path`
__turbopack_esm__({});
;
}}),
"[project]/node_modules/@antv/vendor/es/d3-path.mjs [app-ssr] (ecmascript) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$path$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@antv/vendor/es/d3-path.mjs [app-ssr] (ecmascript) <locals>");
}}),
"[project]/node_modules/@antv/vendor/es/d3-shape.mjs [app-ssr] (ecmascript) <locals>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
// `@antv/vendor/d3-shape` (ESM)
// See upstream license: https://github.com/d3/d3-shape/blob/main/LICENSE
//
// Our ESM package uses the underlying installed dependencies of `node_modules/d3-shape`
__turbopack_esm__({});
;
}}),
"[project]/node_modules/@antv/vendor/es/d3-shape.mjs [app-ssr] (ecmascript) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$shape$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@antv/vendor/es/d3-shape.mjs [app-ssr] (ecmascript) <locals>");
}}),
"[project]/node_modules/@antv/vendor/es/d3-scale-chromatic.mjs [app-ssr] (ecmascript) <locals>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
// `@antv/vendor/d3-scale-chromatic` (ESM)
// See upstream license: https://github.com/d3/d3-scale-chromatic/blob/main/LICENSE
//
// Our ESM package uses the underlying installed dependencies of `node_modules/d3-scale-chromatic`
__turbopack_esm__({});
;
}}),
"[project]/node_modules/@antv/vendor/es/d3-scale-chromatic.mjs [app-ssr] (ecmascript) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@antv/vendor/es/d3-scale-chromatic.mjs [app-ssr] (ecmascript) <locals>");
}}),
"[project]/node_modules/@antv/vendor/es/d3-scale-chromatic.mjs [app-ssr] (ecmascript) <exports>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({
    "interpolateBlues": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateBlues"]),
    "interpolateBrBG": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateBrBG"]),
    "interpolateBuGn": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateBuGn"]),
    "interpolateBuPu": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateBuPu"]),
    "interpolateCividis": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateCividis"]),
    "interpolateCool": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateCool"]),
    "interpolateCubehelixDefault": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateCubehelixDefault"]),
    "interpolateGnBu": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateGnBu"]),
    "interpolateGreens": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateGreens"]),
    "interpolateGreys": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateGreys"]),
    "interpolateInferno": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateInferno"]),
    "interpolateMagma": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateMagma"]),
    "interpolateOrRd": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateOrRd"]),
    "interpolateOranges": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateOranges"]),
    "interpolatePRGn": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolatePRGn"]),
    "interpolatePiYG": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolatePiYG"]),
    "interpolatePlasma": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolatePlasma"]),
    "interpolatePuBu": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolatePuBu"]),
    "interpolatePuBuGn": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolatePuBuGn"]),
    "interpolatePuOr": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolatePuOr"]),
    "interpolatePuRd": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolatePuRd"]),
    "interpolatePurples": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolatePurples"]),
    "interpolateRainbow": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateRainbow"]),
    "interpolateRdBu": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateRdBu"]),
    "interpolateRdGy": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateRdGy"]),
    "interpolateRdPu": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateRdPu"]),
    "interpolateRdYlBu": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateRdYlBu"]),
    "interpolateRdYlGn": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateRdYlGn"]),
    "interpolateReds": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateReds"]),
    "interpolateSinebow": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateSinebow"]),
    "interpolateSpectral": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateSpectral"]),
    "interpolateTurbo": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateTurbo"]),
    "interpolateViridis": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateViridis"]),
    "interpolateWarm": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateWarm"]),
    "interpolateYlGn": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateYlGn"]),
    "interpolateYlGnBu": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateYlGnBu"]),
    "interpolateYlOrBr": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateYlOrBr"]),
    "interpolateYlOrRd": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["interpolateYlOrRd"]),
    "schemeAccent": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemeAccent"]),
    "schemeBlues": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemeBlues"]),
    "schemeBrBG": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemeBrBG"]),
    "schemeBuGn": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemeBuGn"]),
    "schemeBuPu": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemeBuPu"]),
    "schemeCategory10": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemeCategory10"]),
    "schemeDark2": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemeDark2"]),
    "schemeGnBu": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemeGnBu"]),
    "schemeGreens": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemeGreens"]),
    "schemeGreys": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemeGreys"]),
    "schemeObservable10": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemeObservable10"]),
    "schemeOrRd": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemeOrRd"]),
    "schemeOranges": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemeOranges"]),
    "schemePRGn": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemePRGn"]),
    "schemePaired": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemePaired"]),
    "schemePastel1": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemePastel1"]),
    "schemePastel2": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemePastel2"]),
    "schemePiYG": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemePiYG"]),
    "schemePuBu": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemePuBu"]),
    "schemePuBuGn": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemePuBuGn"]),
    "schemePuOr": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemePuOr"]),
    "schemePuRd": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemePuRd"]),
    "schemePurples": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemePurples"]),
    "schemeRdBu": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemeRdBu"]),
    "schemeRdGy": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemeRdGy"]),
    "schemeRdPu": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemeRdPu"]),
    "schemeRdYlBu": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemeRdYlBu"]),
    "schemeRdYlGn": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemeRdYlGn"]),
    "schemeReds": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemeReds"]),
    "schemeSet1": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemeSet1"]),
    "schemeSet2": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemeSet2"]),
    "schemeSet3": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemeSet3"]),
    "schemeSpectral": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemeSpectral"]),
    "schemeTableau10": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemeTableau10"]),
    "schemeYlGn": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemeYlGn"]),
    "schemeYlGnBu": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemeYlGnBu"]),
    "schemeYlOrBr": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemeYlOrBr"]),
    "schemeYlOrRd": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["schemeYlOrRd"])
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2d$chromatic$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/d3-scale-chromatic/src/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@antv/vendor/es/d3-scale-chromatic.mjs [app-ssr] (ecmascript) <locals>");
}}),
"[project]/node_modules/@antv/vendor/es/d3-scale-chromatic.mjs [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({
    "interpolateBlues": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateBlues"]),
    "interpolateBrBG": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateBrBG"]),
    "interpolateBuGn": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateBuGn"]),
    "interpolateBuPu": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateBuPu"]),
    "interpolateCividis": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateCividis"]),
    "interpolateCool": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateCool"]),
    "interpolateCubehelixDefault": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateCubehelixDefault"]),
    "interpolateGnBu": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateGnBu"]),
    "interpolateGreens": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateGreens"]),
    "interpolateGreys": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateGreys"]),
    "interpolateInferno": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateInferno"]),
    "interpolateMagma": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateMagma"]),
    "interpolateOrRd": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateOrRd"]),
    "interpolateOranges": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateOranges"]),
    "interpolatePRGn": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolatePRGn"]),
    "interpolatePiYG": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolatePiYG"]),
    "interpolatePlasma": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolatePlasma"]),
    "interpolatePuBu": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolatePuBu"]),
    "interpolatePuBuGn": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolatePuBuGn"]),
    "interpolatePuOr": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolatePuOr"]),
    "interpolatePuRd": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolatePuRd"]),
    "interpolatePurples": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolatePurples"]),
    "interpolateRainbow": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateRainbow"]),
    "interpolateRdBu": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateRdBu"]),
    "interpolateRdGy": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateRdGy"]),
    "interpolateRdPu": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateRdPu"]),
    "interpolateRdYlBu": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateRdYlBu"]),
    "interpolateRdYlGn": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateRdYlGn"]),
    "interpolateReds": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateReds"]),
    "interpolateSinebow": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateSinebow"]),
    "interpolateSpectral": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateSpectral"]),
    "interpolateTurbo": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateTurbo"]),
    "interpolateViridis": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateViridis"]),
    "interpolateWarm": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateWarm"]),
    "interpolateYlGn": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateYlGn"]),
    "interpolateYlGnBu": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateYlGnBu"]),
    "interpolateYlOrBr": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateYlOrBr"]),
    "interpolateYlOrRd": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["interpolateYlOrRd"]),
    "schemeAccent": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemeAccent"]),
    "schemeBlues": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemeBlues"]),
    "schemeBrBG": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemeBrBG"]),
    "schemeBuGn": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemeBuGn"]),
    "schemeBuPu": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemeBuPu"]),
    "schemeCategory10": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemeCategory10"]),
    "schemeDark2": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemeDark2"]),
    "schemeGnBu": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemeGnBu"]),
    "schemeGreens": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemeGreens"]),
    "schemeGreys": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemeGreys"]),
    "schemeObservable10": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemeObservable10"]),
    "schemeOrRd": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemeOrRd"]),
    "schemeOranges": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemeOranges"]),
    "schemePRGn": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemePRGn"]),
    "schemePaired": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemePaired"]),
    "schemePastel1": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemePastel1"]),
    "schemePastel2": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemePastel2"]),
    "schemePiYG": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemePiYG"]),
    "schemePuBu": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemePuBu"]),
    "schemePuBuGn": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemePuBuGn"]),
    "schemePuOr": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemePuOr"]),
    "schemePuRd": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemePuRd"]),
    "schemePurples": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemePurples"]),
    "schemeRdBu": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemeRdBu"]),
    "schemeRdGy": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemeRdGy"]),
    "schemeRdPu": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemeRdPu"]),
    "schemeRdYlBu": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemeRdYlBu"]),
    "schemeRdYlGn": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemeRdYlGn"]),
    "schemeReds": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemeReds"]),
    "schemeSet1": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemeSet1"]),
    "schemeSet2": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemeSet2"]),
    "schemeSet3": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemeSet3"]),
    "schemeSpectral": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemeSpectral"]),
    "schemeTableau10": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemeTableau10"]),
    "schemeYlGn": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemeYlGn"]),
    "schemeYlGnBu": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemeYlGnBu"]),
    "schemeYlOrBr": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemeYlOrBr"]),
    "schemeYlOrRd": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__["schemeYlOrRd"])
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/@antv/vendor/es/d3-scale-chromatic.mjs [app-ssr] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$scale$2d$chromatic$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$exports$3e$__ = __turbopack_import__("[project]/node_modules/@antv/vendor/es/d3-scale-chromatic.mjs [app-ssr] (ecmascript) <exports>");
}}),
"[project]/node_modules/@antv/vendor/es/d3-geo.mjs [app-ssr] (ecmascript) <locals>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
// `@antv/vendor/d3-geo` (ESM)
// See upstream license: https://github.com/d3/d3-geo/blob/main/LICENSE
//
// Our ESM package uses the underlying installed dependencies of `node_modules/d3-geo`
__turbopack_esm__({});
;
}}),
"[project]/node_modules/@antv/vendor/es/d3-geo.mjs [app-ssr] (ecmascript) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$geo$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@antv/vendor/es/d3-geo.mjs [app-ssr] (ecmascript) <locals>");
}}),
"[project]/node_modules/@antv/vendor/es/d3-force.mjs [app-ssr] (ecmascript) <locals>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
// `@antv/vendor/d3-force` (ESM)
// See upstream license: https://github.com/d3/d3-force/blob/main/LICENSE
//
// Our ESM package uses the underlying installed dependencies of `node_modules/d3-force`
__turbopack_esm__({});
;
}}),
"[project]/node_modules/@antv/vendor/es/d3-force.mjs [app-ssr] (ecmascript) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$force$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@antv/vendor/es/d3-force.mjs [app-ssr] (ecmascript) <locals>");
}}),
"[project]/node_modules/@antv/vendor/es/d3-dsv.mjs [app-ssr] (ecmascript) <locals>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
// `@antv/vendor/d3-dsv` (ESM)
// See upstream license: https://github.com/d3/d3-dsv/blob/main/LICENSE
//
// Our ESM package uses the underlying installed dependencies of `node_modules/d3-dsv`
__turbopack_esm__({});
;
}}),
"[project]/node_modules/@antv/vendor/es/d3-dsv.mjs [app-ssr] (ecmascript) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$dsv$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@antv/vendor/es/d3-dsv.mjs [app-ssr] (ecmascript) <locals>");
}}),
"[project]/node_modules/@antv/g2-extension-plot/esm/utils/hierarchy/partition.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "CHILD_NODE_COUNT": (()=>CHILD_NODE_COUNT),
    "NODE_ANCESTORS_FIELD": (()=>NODE_ANCESTORS_FIELD),
    "NODE_INDEX_FIELD": (()=>NODE_INDEX_FIELD),
    "getAllNodes": (()=>getAllNodes),
    "getField": (()=>getField),
    "partition": (()=>partition)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$hierarchy$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/@antv/vendor/es/d3-hierarchy.mjs [app-ssr] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$string$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isString$3e$__ = __turbopack_import__("[project]/node_modules/@antv/util/esm/lodash/is-string.js [app-ssr] (ecmascript) <export default as isString>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$array$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isArray$3e$__ = __turbopack_import__("[project]/node_modules/@antv/util/esm/lodash/is-array.js [app-ssr] (ecmascript) <export default as isArray>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$filter$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__filter$3e$__ = __turbopack_import__("[project]/node_modules/@antv/util/esm/lodash/filter.js [app-ssr] (ecmascript) <export default as filter>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$mix$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__assign$3e$__ = __turbopack_import__("[project]/node_modules/@antv/util/esm/lodash/mix.js [app-ssr] (ecmascript) <export default as assign>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$hierarchy$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/vendor/es/d3-hierarchy.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$size$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__size$3e$__ = __turbopack_import__("[project]/node_modules/@antv/util/esm/lodash/size.js [app-ssr] (ecmascript) <export default as size>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$reduce$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__reduce$3e$__ = __turbopack_import__("[project]/node_modules/@antv/util/esm/lodash/reduce.js [app-ssr] (ecmascript) <export default as reduce>");
;
;
const DEFAULT_OPTIONS = {
    field: 'value',
    size: [
        1,
        1
    ],
    round: false,
    padding: 0,
    // Default desc.
    sort: (a, b)=>b.value - a.value,
    as: [
        'x',
        'y'
    ],
    // Whether to ignore parentValue. When set to true, the weight of the parent node is determined by the child element.
    ignoreParentValue: true
};
const NODE_INDEX_FIELD = 'nodeIndex';
const CHILD_NODE_COUNT = 'childNodeCount';
const NODE_ANCESTORS_FIELD = 'nodeAncestor';
const INVALID_FIELD_ERR_MSG = 'Invalid field: it must be a string!';
function getField(options, defaultField) {
    const { field, fields } = options;
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$string$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isString$3e$__["isString"])(field)) {
        return field;
    }
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$array$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isArray$3e$__["isArray"])(field)) {
        console.warn(INVALID_FIELD_ERR_MSG);
        return field[0];
    }
    console.warn(`${INVALID_FIELD_ERR_MSG} will try to get fields instead.`);
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$string$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isString$3e$__["isString"])(fields)) {
        return fields;
    }
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$array$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isArray$3e$__["isArray"])(fields) && fields.length) {
        return fields[0];
    }
    if (defaultField) {
        return defaultField;
    }
    throw new TypeError(INVALID_FIELD_ERR_MSG);
}
function getAllNodes(root) {
    const nodes = [];
    if (root && root.each) {
        let parent;
        let index;
        // d3-hierarchy: Invokes the specified function for node and each descendant in **breadth-first order**
        root.each((node)=>{
            var _a, _b;
            if (node.parent !== parent) {
                parent = node.parent;
                index = 0;
            } else {
                index += 1;
            }
            const ancestors = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$filter$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__filter$3e$__["filter"])((((_a = node.ancestors) === null || _a === void 0 ? void 0 : _a.call(node)) || []).map((d)=>nodes.find((n)=>n.name === d.name) || d), ({ depth })=>depth > 0 && depth < node.depth);
            node[NODE_ANCESTORS_FIELD] = ancestors;
            node[CHILD_NODE_COUNT] = ((_b = node.children) === null || _b === void 0 ? void 0 : _b.length) || 0;
            node[NODE_INDEX_FIELD] = index;
            nodes.push(node);
        });
    } else if (root && root.eachNode) {
        // @antv/hierarchy
        root.eachNode((node)=>{
            nodes.push(node);
        });
    }
    return nodes;
}
function partition(data, options) {
    options = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$mix$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__assign$3e$__["assign"])({}, DEFAULT_OPTIONS, options);
    const as = options.as;
    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$array$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isArray$3e$__["isArray"])(as) || as.length !== 2) {
        throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');
    }
    let field;
    try {
        field = getField(options);
    } catch (e) {
        console.warn(e);
    }
    const partition = (data)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$hierarchy$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__.partition().size(options.size).round(options.round).padding(options.padding)(/**
     * The sum function must be specified in the d3Hierarchy layout to compute node values by calling the specified value function
     * from the current node in post-order traversal order for the current node and for each descendant node and returning the current node.
     * for example:
     * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}.
     * The computed value obtained by the parent is sum(node(parent)) + sum(node(child1)) + sum(node(child2)).
     * In the sum function, d is the data passed in by the user and children is the reserved field.
     */ __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$vendor$2f$es$2f$d3$2d$hierarchy$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__.hierarchy(data).sum((d)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$size$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__size$3e$__["size"])(d.children) ? options.ignoreParentValue ? 0 : d[field] - (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$reduce$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__reduce$3e$__["reduce"])(d.children, (a, b)=>a + b[field], 0) : d[field]).sort(options.sort));
    const root = partition(data);
    /*
     * points:
     *   3  2
     *   0  1
     */ const x = as[0];
    const y = as[1];
    root.each((node)=>{
        var _a, _b;
        node[x] = [
            node.x0,
            node.x1,
            node.x1,
            node.x0
        ];
        node[y] = [
            node.y1,
            node.y1,
            node.y0,
            node.y0
        ];
        node.name = node.name || ((_a = node.data) === null || _a === void 0 ? void 0 : _a.name) || ((_b = node.data) === null || _b === void 0 ? void 0 : _b.label);
        node.data.name = node.name;
        [
            'x0',
            'x1',
            'y0',
            'y1'
        ].forEach((prop)=>{
            if (as.indexOf(prop) === -1) {
                delete node[prop];
            }
        });
    });
    return getAllNodes(root);
} //# sourceMappingURL=partition.js.map
}}),
"[project]/node_modules/@antv/g2-extension-plot/esm/mark/sunburst.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "SUNBURST_ANCESTOR_FIELD": (()=>SUNBURST_ANCESTOR_FIELD),
    "SUNBURST_PATH_FIELD": (()=>SUNBURST_PATH_FIELD),
    "SUNBURST_TYPE": (()=>SUNBURST_TYPE),
    "SUNBURST_TYPE_FIELD": (()=>SUNBURST_TYPE_FIELD),
    "SUNBURST_Y_FIELD": (()=>SUNBURST_Y_FIELD),
    "Sunburst": (()=>Sunburst),
    "transformData": (()=>transformData)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2d$extension$2d$plot$2f$esm$2f$utils$2f$hierarchy$2f$partition$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g2-extension-plot/esm/utils/hierarchy/partition.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$get$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__get$3e$__ = __turbopack_import__("[project]/node_modules/@antv/util/esm/lodash/get.js [app-ssr] (ecmascript) <export default as get>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$deep$2d$mix$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__deepMix$3e$__ = __turbopack_import__("[project]/node_modules/@antv/util/esm/lodash/deep-mix.js [app-ssr] (ecmascript) <export default as deepMix>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$pick$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__pick$3e$__ = __turbopack_import__("[project]/node_modules/@antv/util/esm/lodash/pick.js [app-ssr] (ecmascript) <export default as pick>");
var __rest = this && this.__rest || function(s, e) {
    var t = {};
    for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function") for(var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++){
        if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];
    }
    return t;
};
;
;
const SUNBURST_TYPE = "sunburst";
const SUNBURST_TYPE_FIELD = "markType";
const SUNBURST_Y_FIELD = "value";
const SUNBURST_PATH_FIELD = "path";
const SUNBURST_ANCESTOR_FIELD = "ancestor-node";
function transformData(options) {
    const { data, encode } = options;
    const { color, value } = encode;
    const type = "partition";
    const nodes = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2d$extension$2d$plot$2f$esm$2f$utils$2f$hierarchy$2f$partition$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["partition"])(data, {
        field: value,
        // @ts-ignore
        type: `hierarchy.${type}`,
        as: [
            "x",
            "y"
        ]
    });
    const result = [];
    nodes.forEach((node)=>{
        var _a, _b, _c, _d;
        if (node.depth === 0) {
            return null;
        }
        let path = node.data.name;
        const pathList = [
            path
        ];
        let ancestorNode = Object.assign({}, node);
        while(ancestorNode.depth > 1){
            path = `${(_a = ancestorNode.parent.data) === null || _a === void 0 ? void 0 : _a.name} / ${path}`;
            pathList.unshift((_b = ancestorNode.parent.data) === null || _b === void 0 ? void 0 : _b.name);
            ancestorNode = ancestorNode.parent;
        }
        const nodeInfo = Object.assign(Object.assign(Object.assign({}, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$pick$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__pick$3e$__["pick"])(node.data, [
            value
        ])), {
            [SUNBURST_PATH_FIELD]: path,
            [SUNBURST_ANCESTOR_FIELD]: ancestorNode.data.name
        }), node);
        if (color && color !== SUNBURST_ANCESTOR_FIELD) {
            nodeInfo[color] = node.data[color] || ((_d = (_c = node.parent) === null || _c === void 0 ? void 0 : _c.data) === null || _d === void 0 ? void 0 : _d[color]);
        }
        result.push(nodeInfo);
    });
    return result.map((d)=>{
        const x = d.x.slice(0, 2);
        const y = [
            d.y[2],
            d.y[0]
        ];
        // 当出现 0 数值时，x 会出现相等的情况，导致渲染成的图形异常。
        if (x[0] === x[1]) {
            y[0] = y[1] = (d.y[2] + d.y[0]) / 2;
        }
        return Object.assign(Object.assign({}, d), {
            x,
            y,
            fillOpacity: Math.pow(0.85, d.depth)
        });
    });
}
const DEFAULT_OPTIONS = {
    id: SUNBURST_TYPE,
    encode: {
        x: "x",
        y: "y",
        key: SUNBURST_PATH_FIELD,
        color: SUNBURST_ANCESTOR_FIELD,
        value: "value"
    },
    axis: {
        x: false,
        y: false
    },
    style: {
        [SUNBURST_TYPE_FIELD]: SUNBURST_TYPE,
        stroke: "#fff",
        lineWidth: 0.5,
        fillOpacity: "fillOpacity",
        [__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2d$extension$2d$plot$2f$esm$2f$utils$2f$hierarchy$2f$partition$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHILD_NODE_COUNT"]]: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2d$extension$2d$plot$2f$esm$2f$utils$2f$hierarchy$2f$partition$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHILD_NODE_COUNT"],
        depth: "depth"
    },
    state: {
        active: {
            zIndex: 2,
            stroke: "#000"
        },
        inactive: {
            zIndex: 1,
            stroke: "#fff"
        }
    },
    legend: false,
    interaction: {
        drillDown: true
    },
    coordinate: {
        type: "polar",
        innerRadius: 0.2
    }
};
const Sunburst = (options)=>{
    const { encode: encodeOption, data = [] } = options, resOptions = __rest(options, [
        "encode",
        "data"
    ]);
    const coordinate = Object.assign(Object.assign({}, resOptions.coordinate), {
        // Reac Bug InnerRadius = 0.
        innerRadius: Math.max((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$get$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__get$3e$__["get"])(resOptions, [
            "coordinate",
            "innerRadius"
        ], 0.2), 0.00001)
    });
    const encode = Object.assign(Object.assign({}, DEFAULT_OPTIONS.encode), encodeOption);
    const { value } = encode;
    const rectData = transformData({
        encode,
        data
    });
    return [
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$deep$2d$mix$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__deepMix$3e$__["deepMix"])({}, DEFAULT_OPTIONS, Object.assign(Object.assign({
            type: "rect",
            data: rectData,
            encode,
            tooltip: {
                title: "path",
                items: [
                    (d)=>{
                        return {
                            name: value,
                            value: d[value]
                        };
                    }
                ]
            }
        }, resOptions), {
            coordinate
        }))
    ];
};
Sunburst.props = {}; //# sourceMappingURL=sunburst.js.map
}}),
"[project]/node_modules/@antv/g2-extension-plot/esm/interaction/drillDown.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "DrillDown": (()=>DrillDown)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2d$extension$2d$plot$2f$esm$2f$utils$2f$hierarchy$2f$partition$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g2-extension-plot/esm/utils/hierarchy/partition.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2d$extension$2d$plot$2f$esm$2f$mark$2f$sunburst$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g2-extension-plot/esm/mark/sunburst.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$get$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__get$3e$__ = __turbopack_import__("[project]/node_modules/@antv/util/esm/lodash/get.js [app-ssr] (ecmascript) <export default as get>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2f$esm$2f$utils$2f$selection$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g2/esm/utils/selection.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2f$esm$2f$runtime$2f$constant$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g2/esm/runtime/constant.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$deep$2d$mix$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__deepMix$3e$__ = __turbopack_import__("[project]/node_modules/@antv/util/esm/lodash/deep-mix.js [app-ssr] (ecmascript) <export default as deepMix>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$keys$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__keys$3e$__ = __turbopack_import__("[project]/node_modules/@antv/util/esm/lodash/keys.js [app-ssr] (ecmascript) <export default as keys>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$pick$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__pick$3e$__ = __turbopack_import__("[project]/node_modules/@antv/util/esm/lodash/pick.js [app-ssr] (ecmascript) <export default as pick>");
var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
;
;
;
;
// Get sunburst element.
const getElementsSunburst = (plot)=>{
    return plot.querySelectorAll(".element").filter((item)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$get$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__get$3e$__["get"])(item, [
            "style",
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2d$extension$2d$plot$2f$esm$2f$mark$2f$sunburst$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SUNBURST_TYPE_FIELD"]
        ]) === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2d$extension$2d$plot$2f$esm$2f$mark$2f$sunburst$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SUNBURST_TYPE"]);
};
function selectPlotArea(root) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2f$esm$2f$utils$2f$selection$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["select"])(root).select(`.${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2f$esm$2f$runtime$2f$constant$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PLOT_CLASS_NAME"]}`).node();
}
// Default breadCrumb config.
const DEFAULT_BREADCRUMB = {
    rootText: "root",
    style: {
        fill: "rgba(0, 0, 0, 0.85)",
        fontSize: 12,
        y: 1
    },
    active: {
        fill: "rgba(0, 0, 0, 0.5)"
    }
};
function DrillDown(drillDownOptions = {}) {
    const { breadCrumb: textConfig = {}, isFixedColor = false } = drillDownOptions;
    const breadCrumb = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$deep$2d$mix$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__deepMix$3e$__["deepMix"])({}, DEFAULT_BREADCRUMB, textConfig);
    return (context)=>{
        const { update, setState, container, view, options } = context;
        const document = container.ownerDocument;
        const plotArea = selectPlotArea(container);
        const sunburstMark = options.marks.find(({ id })=>id === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2d$extension$2d$plot$2f$esm$2f$mark$2f$sunburst$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SUNBURST_TYPE"]);
        const { state } = sunburstMark;
        // Create breadCrumbTextsGroup,save textSeparator、drillTexts.
        const textGroup = document.createElement("g");
        plotArea.appendChild(textGroup);
        // Modify the data and scale according to the path and the level of the current click, so as to achieve the effect of drilling down and drilling up and initialization.
        const drillDownClick = (path, depth)=>__awaiter(this, void 0, void 0, function*() {
                // Clear text.
                textGroup.removeChildren();
                // More path creation text.
                if (path) {
                    // Create root text.
                    const rootText = document.createElement("text", {
                        style: Object.assign({
                            x: 0,
                            text: breadCrumb.rootText,
                            // @ts-ignore
                            depth: 0
                        }, breadCrumb.style)
                    });
                    textGroup.appendChild(rootText);
                    let name = "";
                    const pathArray = path === null || path === void 0 ? void 0 : path.split(" / ");
                    let y = breadCrumb.style.y;
                    let x = textGroup.getBBox().width;
                    const maxWidth = plotArea.getBBox().width;
                    // Create path: 'type1 / type2 / type3' -> '/ type1 / type2 / type3'.
                    const drillTexts = pathArray.map((text, index)=>{
                        const textSeparator = document.createElement("text", {
                            style: Object.assign(Object.assign({
                                x,
                                text: " / "
                            }, breadCrumb.style), {
                                y
                            })
                        });
                        textGroup.appendChild(textSeparator);
                        x += textSeparator.getBBox().width;
                        name = `${name}${text} / `;
                        const drillText = document.createElement("text", {
                            name: name.replace(/\s\/\s$/, ""),
                            style: Object.assign(Object.assign({
                                text,
                                x,
                                // @ts-ignore
                                depth: index + 1
                            }, breadCrumb.style), {
                                y
                            })
                        });
                        textGroup.appendChild(drillText);
                        x += drillText.getBBox().width;
                        /**
                     * Page width exceeds maximum, line feed.
                     * | ----maxWidth---- |
                     * | / tyep1 / tyep2 / type3 |
                     * ->
                     * | ----maxWidth---- |
                     * | / tyep1 / tyep2  |
                     * | / type3 |
                     */ if (x > maxWidth) {
                            y = textGroup.getBBox().height;
                            x = 0;
                            textSeparator.attr({
                                x,
                                y
                            });
                            x += textSeparator.getBBox().width;
                            drillText.attr({
                                x,
                                y
                            });
                            x += drillText.getBBox().width;
                        }
                        return drillText;
                    });
                    // Add Active, Add DrillDown
                    [
                        rootText,
                        ...drillTexts
                    ].forEach((item, index)=>{
                        // Last drillText
                        if (index === drillTexts.length) return;
                        const originalAttrs = Object.assign({}, item.attributes);
                        item.attr("cursor", "pointer");
                        item.addEventListener("mouseenter", ()=>{
                            item.attr(breadCrumb.active);
                        });
                        item.addEventListener("mouseleave", ()=>{
                            item.attr(originalAttrs);
                        });
                        item.addEventListener("click", ()=>{
                            drillDownClick(item.name, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$get$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__get$3e$__["get"])(item, [
                                "style",
                                "depth"
                            ]));
                        });
                    });
                }
                // Update marks.
                setState("drillDown", (viewOptions)=>{
                    const { marks } = viewOptions;
                    // Add filter transform for every marks,
                    // which will skip for mark without color channel.
                    const newMarks = marks.map((mark)=>{
                        if (mark.id !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2d$extension$2d$plot$2f$esm$2f$mark$2f$sunburst$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SUNBURST_TYPE"] && mark.type !== "rect") return mark;
                        // Inset after aggregate transform, such as group, and bin.
                        const { data } = mark;
                        const newScale = Object.fromEntries([
                            "color"
                        ].map((channel)=>[
                                channel,
                                {
                                    domain: view.scale[channel].getOptions().domain
                                }
                            ]));
                        const newData = data.filter((item)=>{
                            const key = item.path;
                            // isFixedColor true change drillDown color.
                            if (!isFixedColor) {
                                item[__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2d$extension$2d$plot$2f$esm$2f$mark$2f$sunburst$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SUNBURST_ANCESTOR_FIELD"]] = key.split(" / ")[depth];
                            }
                            if (!path) return true;
                            const reg = new RegExp(`^${path}.+`);
                            return reg.test(key);
                        });
                        // DrillDown by filtering the data and scale.
                        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$deep$2d$mix$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__deepMix$3e$__["deepMix"])({}, mark, isFixedColor ? {
                            data: newData,
                            scale: newScale
                        } : {
                            data: newData
                        });
                    });
                    return Object.assign(Object.assign({}, viewOptions), {
                        marks: newMarks
                    });
                });
                yield update();
            });
        const createDrillClick = (e)=>{
            const item = e.target;
            // Element need style.markType === 'sunburst', markType === 'rect', have children.
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$get$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__get$3e$__["get"])(item, [
                "style",
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2d$extension$2d$plot$2f$esm$2f$mark$2f$sunburst$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SUNBURST_TYPE_FIELD"]
            ]) !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2d$extension$2d$plot$2f$esm$2f$mark$2f$sunburst$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SUNBURST_TYPE"] || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$get$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__get$3e$__["get"])(item, [
                "markType"
            ]) !== "rect" || !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$get$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__get$3e$__["get"])(item, [
                "style",
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2d$extension$2d$plot$2f$esm$2f$utils$2f$hierarchy$2f$partition$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHILD_NODE_COUNT"]
            ])) return;
            const path = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$get$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__get$3e$__["get"])(item, [
                "__data__",
                "key"
            ]);
            const depth = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$get$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__get$3e$__["get"])(item, [
                "style",
                "depth"
            ]);
            item.style.cursor = "pointer";
            drillDownClick(path, depth);
        };
        // Add click drill interaction.
        plotArea.addEventListener("click", createDrillClick);
        // Change attributes keys.
        const changeStyleKey = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$keys$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__keys$3e$__["keys"])(Object.assign(Object.assign({}, state.active), state.inactive));
        const createActive = ()=>{
            const elements = getElementsSunburst(plotArea);
            elements.forEach((element)=>{
                const childNodeCount = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$get$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__get$3e$__["get"])(element, [
                    "style",
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2d$extension$2d$plot$2f$esm$2f$utils$2f$hierarchy$2f$partition$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CHILD_NODE_COUNT"]
                ]);
                const cursor = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$get$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__get$3e$__["get"])(element, [
                    "style",
                    "cursor"
                ]);
                if (cursor !== "pointer" && childNodeCount) {
                    element.style.cursor = "pointer";
                    const originalAttrs = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$pick$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__pick$3e$__["pick"])(element.attributes, changeStyleKey);
                    element.addEventListener("mouseenter", ()=>{
                        element.attr(state.active);
                    });
                    element.addEventListener("mouseleave", ()=>{
                        element.attr((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$deep$2d$mix$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__deepMix$3e$__["deepMix"])(originalAttrs, state.inactive));
                    });
                }
            });
        };
        // Animate elements update, Add active.
        plotArea.addEventListener("mousemove", createActive);
        return ()=>{
            textGroup.remove();
            plotArea.removeEventListener("click", createDrillClick);
            plotArea.removeEventListener("mousemove", createActive);
        };
    };
} //# sourceMappingURL=drillDown.js.map
}}),
"[project]/node_modules/@antv/g2-extension-plot/esm/lib.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "plotlib": (()=>plotlib)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2d$extension$2d$plot$2f$esm$2f$mark$2f$sunburst$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g2-extension-plot/esm/mark/sunburst.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2d$extension$2d$plot$2f$esm$2f$interaction$2f$drillDown$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g2-extension-plot/esm/interaction/drillDown.js [app-ssr] (ecmascript)");
;
;
function plotlib() {
    return {
        "interaction.drillDown": __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2d$extension$2d$plot$2f$esm$2f$interaction$2f$drillDown$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DrillDown"],
        "mark.sunburst": __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2d$extension$2d$plot$2f$esm$2f$mark$2f$sunburst$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Sunburst"]
    };
} //# sourceMappingURL=lib.js.map
}}),
"[project]/node_modules/@antv/g2-extension-plot/esm/mark/index.js [app-ssr] (ecmascript) <locals>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({});
;
 //# sourceMappingURL=index.js.map
}}),
"[project]/node_modules/@antv/g2-extension-plot/esm/mark/index.js [app-ssr] (ecmascript) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2d$extension$2d$plot$2f$esm$2f$mark$2f$sunburst$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g2-extension-plot/esm/mark/sunburst.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2d$extension$2d$plot$2f$esm$2f$mark$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@antv/g2-extension-plot/esm/mark/index.js [app-ssr] (ecmascript) <locals>");
}}),
"[project]/node_modules/@antv/g2-extension-plot/esm/interaction/index.js [app-ssr] (ecmascript) <locals>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({});
;
 //# sourceMappingURL=index.js.map
}}),
"[project]/node_modules/@antv/g2-extension-plot/esm/interaction/index.js [app-ssr] (ecmascript) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2d$extension$2d$plot$2f$esm$2f$interaction$2f$drillDown$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g2-extension-plot/esm/interaction/drillDown.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2d$extension$2d$plot$2f$esm$2f$interaction$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@antv/g2-extension-plot/esm/interaction/index.js [app-ssr] (ecmascript) <locals>");
}}),
"[project]/node_modules/@antv/g2-extension-plot/esm/index.js [app-ssr] (ecmascript) <locals>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({});
;
;
;
 //# sourceMappingURL=index.js.map
}}),
"[project]/node_modules/@antv/g2-extension-plot/esm/index.js [app-ssr] (ecmascript) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2d$extension$2d$plot$2f$esm$2f$lib$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g2-extension-plot/esm/lib.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2d$extension$2d$plot$2f$esm$2f$mark$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/@antv/g2-extension-plot/esm/mark/index.js [app-ssr] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2d$extension$2d$plot$2f$esm$2f$interaction$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/@antv/g2-extension-plot/esm/interaction/index.js [app-ssr] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g2$2d$extension$2d$plot$2f$esm$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@antv/g2-extension-plot/esm/index.js [app-ssr] (ecmascript) <locals>");
}}),
"[project]/node_modules/@antv/g-math/dist/index.esm.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
/*!
 * @antv/g-math
 * @description Geometry util
 * @version 3.0.1
 * @date 5/9/2025, 8:18:51 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */ __turbopack_esm__({
    "arcBox": (()=>box$5),
    "arcNearestPoint": (()=>nearestPoint$3),
    "arcTangentAngle": (()=>tangentAngle$4),
    "cubicBox": (()=>box$3),
    "cubicLength": (()=>length$3),
    "cubicNearestPoint": (()=>nearestPoint$1),
    "cubicPointAt": (()=>pointAt$2),
    "cubicPointDistance": (()=>pointDistance$3),
    "cubicTangentAngle": (()=>tangentAngle$2),
    "distance": (()=>distance),
    "lineBox": (()=>box$4),
    "lineLength": (()=>length$4),
    "linePointAt": (()=>pointAt$3),
    "linePointDistance": (()=>pointDistance$4),
    "linePointToLine": (()=>pointToLine),
    "lineTangentAngle": (()=>tangentAngle$3),
    "polygonBox": (()=>box$1),
    "polygonLength": (()=>length$1),
    "polygonPointAt": (()=>pointAt),
    "polygonPointDistance": (()=>pointDistance$1),
    "polygonTangentAngle": (()=>tangentAngle),
    "polylineBox": (()=>box$2),
    "polylineLength": (()=>length$2),
    "polylinePointAt": (()=>pointAt$1),
    "polylinePointDistance": (()=>pointDistance$2),
    "polylineTangentAngle": (()=>tangentAngle$1),
    "quadBox": (()=>box),
    "quadLength": (()=>length),
    "quadNearestPoint": (()=>nearestPoint),
    "quadPointDistance": (()=>pointDistance)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$slicedToArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/slicedToArray.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$toConsumableArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/toConsumableArray.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec2$3e$__ = __turbopack_import__("[project]/node_modules/gl-matrix/esm/vec2.js [app-ssr] (ecmascript) <export * as vec2>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$number$2d$equal$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNumberEqual$3e$__ = __turbopack_import__("[project]/node_modules/@antv/util/esm/lodash/is-number-equal.js [app-ssr] (ecmascript) <export default as isNumberEqual>");
;
;
;
;
function distance(x1, y1, x2, y2) {
    var dx = x1 - x2;
    var dy = y1 - y2;
    return Math.sqrt(dx * dx + dy * dy);
}
function getBBoxByArray(xArr, yArr) {
    var minX = Math.min.apply(Math, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$toConsumableArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(xArr));
    var minY = Math.min.apply(Math, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$toConsumableArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(yArr));
    var maxX = Math.max.apply(Math, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$toConsumableArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(xArr));
    var maxY = Math.max.apply(Math, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$toConsumableArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(yArr));
    return {
        x: minX,
        y: minY,
        width: maxX - minX,
        height: maxY - minY
    };
}
function piMod(angle) {
    return (angle + Math.PI * 2) % (Math.PI * 2);
}
function copysign(v1, v2) {
    var absv = Math.abs(v1);
    return v2 > 0 ? absv : absv * -1;
}
function nearestPoint$4(x, y, rx, ry, x0, y0) {
    var a = rx;
    var b = ry;
    // 假如椭圆半径为0则返回圆心
    if (a === 0 || b === 0) {
        return {
            x: x,
            y: y
        };
    }
    // 转换成 0， 0 为中心的椭圆计算
    var relativeX = x0 - x;
    var relativeY = y0 - y;
    var px = Math.abs(relativeX);
    var py = Math.abs(relativeY);
    var squareA = a * a;
    var squareB = b * b;
    // const angle0 = Math.atan2(relativeY, relativeX);
    var t = Math.PI / 4;
    var nearestX = 0; // 椭圆上的任一点
    var nearestY = 0;
    // 迭代 4 次
    for(var i = 0; i < 4; i++){
        nearestX = a * Math.cos(t);
        nearestY = b * Math.sin(t);
        var ex = (squareA - squareB) * Math.pow(Math.cos(t), 3) / a;
        var ey = (squareB - squareA) * Math.pow(Math.sin(t), 3) / b;
        var rx1 = nearestX - ex;
        var ry1 = nearestY - ey;
        var qx = px - ex;
        var qy = py - ey;
        var r = Math.hypot(ry1, rx1);
        var q = Math.hypot(qy, qx);
        var delta_c = r * Math.asin((rx1 * qy - ry1 * qx) / (r * q));
        var delta_t = delta_c / Math.sqrt(squareA + squareB - nearestX * nearestX - nearestY * nearestY);
        t += delta_t;
        t = Math.min(Math.PI / 2, Math.max(0, t));
    }
    return {
        x: x + copysign(nearestX, relativeX),
        y: y + copysign(nearestY, relativeY)
    };
}
// 偏导数 x
function derivativeXAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle) {
    return -1 * rx * Math.cos(xRotation) * Math.sin(angle) - ry * Math.sin(xRotation) * Math.cos(angle);
}
// 偏导数 y
function derivativeYAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle) {
    return -1 * rx * Math.sin(xRotation) * Math.sin(angle) + ry * Math.cos(xRotation) * Math.cos(angle);
}
// x 的极值
function xExtrema(rx, ry, xRotation) {
    return Math.atan(-ry / rx * Math.tan(xRotation));
}
// y 的极值
function yExtrema(rx, ry, xRotation) {
    return Math.atan(ry / (rx * Math.tan(xRotation)));
}
// 根据角度求 x 坐标
function xAt(cx, cy, rx, ry, xRotation, angle) {
    return rx * Math.cos(xRotation) * Math.cos(angle) - ry * Math.sin(xRotation) * Math.sin(angle) + cx;
}
// 根据角度求 y 坐标
function yAt(cx, cy, rx, ry, xRotation, angle) {
    return rx * Math.sin(xRotation) * Math.cos(angle) + ry * Math.cos(xRotation) * Math.sin(angle) + cy;
}
// 获取点在椭圆上的角度
function getAngle(rx, ry, x0, y0) {
    var angle = Math.atan2(y0 * rx, x0 * ry);
    // 转换到 0 - 2PI 内
    return (angle + Math.PI * 2) % (Math.PI * 2);
}
// 根据角度获取，x,y
function getPoint(rx, ry, angle) {
    return {
        x: rx * Math.cos(angle),
        y: ry * Math.sin(angle)
    };
}
// 旋转
function rotate(x, y, angle) {
    var cos = Math.cos(angle);
    var sin = Math.sin(angle);
    return [
        x * cos - y * sin,
        x * sin + y * cos
    ];
}
function box$5(cx, cy, rx, ry, xRotation, startAngle, endAngle) {
    var xDim = xExtrema(rx, ry, xRotation);
    var minX = Infinity;
    var maxX = -Infinity;
    var xs = [
        startAngle,
        endAngle
    ];
    for(var i = -Math.PI * 2; i <= Math.PI * 2; i += Math.PI){
        var xAngle = xDim + i;
        if (startAngle < endAngle) {
            if (startAngle < xAngle && xAngle < endAngle) {
                xs.push(xAngle);
            }
        } else if (endAngle < xAngle && xAngle < startAngle) {
            xs.push(xAngle);
        }
    }
    for(var _i = 0; _i < xs.length; _i++){
        var x = xAt(cx, cy, rx, ry, xRotation, xs[_i]);
        if (x < minX) {
            minX = x;
        }
        if (x > maxX) {
            maxX = x;
        }
    }
    var yDim = yExtrema(rx, ry, xRotation);
    var minY = Infinity;
    var maxY = -Infinity;
    var ys = [
        startAngle,
        endAngle
    ];
    for(var _i2 = -Math.PI * 2; _i2 <= Math.PI * 2; _i2 += Math.PI){
        var yAngle = yDim + _i2;
        if (startAngle < endAngle) {
            if (startAngle < yAngle && yAngle < endAngle) {
                ys.push(yAngle);
            }
        } else if (endAngle < yAngle && yAngle < startAngle) {
            ys.push(yAngle);
        }
    }
    for(var _i3 = 0; _i3 < ys.length; _i3++){
        var y = yAt(cx, cy, rx, ry, xRotation, ys[_i3]);
        if (y < minY) {
            minY = y;
        }
        if (y > maxY) {
            maxY = y;
        }
    }
    return {
        x: minX,
        y: minY,
        width: maxX - minX,
        height: maxY - minY
    };
}
function nearestPoint$3(cx, cy, rx, ry, xRotation, startAngle, endAngle, x0, y0) {
    // 将最近距离问题转换成到椭圆中心 0,0 没有旋转的椭圆问题
    var relativeVector = rotate(x0 - cx, y0 - cy, -xRotation);
    var _relativeVector = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$slicedToArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(relativeVector, 2), x1 = _relativeVector[0], y1 = _relativeVector[1];
    // 计算点到椭圆的最近的点
    var relativePoint = nearestPoint$4(0, 0, rx, ry, x1, y1);
    // 获取点在椭圆上的角度
    var angle = getAngle(rx, ry, relativePoint.x, relativePoint.y);
    // 点没有在圆弧上
    if (angle < startAngle) {
        // 小于起始圆弧
        relativePoint = getPoint(rx, ry, startAngle);
    } else if (angle > endAngle) {
        // 大于结束圆弧
        relativePoint = getPoint(rx, ry, endAngle);
    }
    // 旋转到 xRotation 的角度
    var vector = rotate(relativePoint.x, relativePoint.y, xRotation);
    return {
        x: vector[0] + cx,
        y: vector[1] + cy
    };
}
function tangentAngle$4(cx, cy, rx, ry, xRotation, startAngle, endAngle, t) {
    var angle = (endAngle - startAngle) * t + startAngle;
    var dx = derivativeXAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle);
    var dy = derivativeYAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle);
    return piMod(Math.atan2(dy, dx));
}
var EPSILON = 0.0001;
/**
 * 使用牛顿切割法求最近的点
 * @param {number[]} xArr      点的 x 数组
 * @param {number[]} yArr      点的 y 数组
 * @param {number}   x         指定的点 x
 * @param {number}   y         指定的点 y
 * @param {Function} tCallback 差值函数
 */ function nearestPoint$2(xArr, yArr, x, y, tCallback, length) {
    var t = -1;
    var d = Infinity;
    var v0 = [
        x,
        y
    ];
    var segNum = 20;
    if (length && length > 200) {
        segNum = length / 10;
    }
    var increaseRate = 1 / segNum;
    var interval = increaseRate / 10;
    for(var i = 0; i <= segNum; i++){
        var _t = i * increaseRate;
        var v1 = [
            tCallback.apply(void 0, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$toConsumableArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(xArr.concat([
                _t
            ]))),
            tCallback.apply(void 0, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$toConsumableArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(yArr.concat([
                _t
            ])))
        ];
        var d1 = distance(v0[0], v0[1], v1[0], v1[1]);
        if (d1 < d) {
            t = _t;
            d = d1;
        }
    }
    // 提前终止
    if (t === 0) {
        return {
            x: xArr[0],
            y: yArr[0]
        };
    }
    if (t === 1) {
        var count = xArr.length;
        return {
            x: xArr[count - 1],
            y: yArr[count - 1]
        };
    }
    d = Infinity;
    for(var _i = 0; _i < 32; _i++){
        if (interval < EPSILON) {
            break;
        }
        var prev = t - interval;
        var next = t + interval;
        var _v = [
            tCallback.apply(void 0, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$toConsumableArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(xArr.concat([
                prev
            ]))),
            tCallback.apply(void 0, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$toConsumableArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(yArr.concat([
                prev
            ])))
        ];
        var _d = distance(v0[0], v0[1], _v[0], _v[1]);
        if (prev >= 0 && _d < d) {
            t = prev;
            d = _d;
        } else {
            var v2 = [
                tCallback.apply(void 0, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$toConsumableArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(xArr.concat([
                    next
                ]))),
                tCallback.apply(void 0, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$toConsumableArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(yArr.concat([
                    next
                ])))
            ];
            var d2 = distance(v0[0], v0[1], v2[0], v2[1]);
            if (next <= 1 && d2 < d) {
                t = next;
                d = d2;
            } else {
                interval *= 0.5;
            }
        }
    }
    return {
        x: tCallback.apply(void 0, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$toConsumableArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(xArr.concat([
            t
        ]))),
        y: tCallback.apply(void 0, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$toConsumableArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(yArr.concat([
            t
        ])))
    };
}
// 近似求解 https://community.khronos.org/t/3d-cubic-bezier-segment-length/62363/2
function snapLength(xArr, yArr) {
    var totalLength = 0;
    var count = xArr.length;
    for(var i = 0; i < count; i++){
        var x = xArr[i];
        var y = yArr[i];
        var nextX = xArr[(i + 1) % count];
        var nextY = yArr[(i + 1) % count];
        totalLength += distance(x, y, nextX, nextY);
    }
    return totalLength / 2;
}
function box$4(x1, y1, x2, y2) {
    return getBBoxByArray([
        x1,
        x2
    ], [
        y1,
        y2
    ]);
}
function length$4(x1, y1, x2, y2) {
    return distance(x1, y1, x2, y2);
}
function pointAt$3(x1, y1, x2, y2, t) {
    return {
        x: (1 - t) * x1 + t * x2,
        y: (1 - t) * y1 + t * y2
    };
}
function pointDistance$4(x1, y1, x2, y2, x, y) {
    // 投影距离 x1, y1 的向量，假设 p, p1, p2 三个点，投影点为 a
    // p1a = p1p.p1p2/|p1p2| * (p1p 的单位向量)
    var cross = (x2 - x1) * (x - x1) + (y2 - y1) * (y - y1);
    if (cross < 0) {
        return distance(x1, y1, x, y);
    }
    var lengthSquare = (x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1);
    if (cross > lengthSquare) {
        return distance(x2, y2, x, y);
    }
    return pointToLine(x1, y1, x2, y2, x, y);
}
function pointToLine(x1, y1, x2, y2, x, y) {
    var d = [
        x2 - x1,
        y2 - y1
    ];
    // 如果端点相等，则判定点到点的距离
    if (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec2$3e$__["vec2"].exactEquals(d, [
        0,
        0
    ])) {
        return Math.sqrt((x - x1) * (x - x1) + (y - y1) * (y - y1));
    }
    var u = [
        -d[1],
        d[0]
    ];
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec2$3e$__["vec2"].normalize(u, u);
    var a = [
        x - x1,
        y - y1
    ];
    return Math.abs(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec2$3e$__["vec2"].dot(a, u));
}
function tangentAngle$3(x1, y1, x2, y2) {
    return Math.atan2(y2 - y1, x2 - x1);
}
function cubicAt(p0, p1, p2, p3, t) {
    var onet = 1 - t; // t * t * t 的性能大概是 Math.pow(t, 3) 的三倍
    return onet * onet * onet * p0 + 3 * p1 * t * onet * onet + 3 * p2 * t * t * onet + p3 * t * t * t;
}
function derivativeAt(p0, p1, p2, p3, t) {
    var onet = 1 - t;
    return 3 * (onet * onet * (p1 - p0) + 2 * onet * t * (p2 - p1) + t * t * (p3 - p2));
}
function extrema$1(p0, p1, p2, p3) {
    var a = -3 * p0 + 9 * p1 - 9 * p2 + 3 * p3;
    var b = 6 * p0 - 12 * p1 + 6 * p2;
    var c = 3 * p1 - 3 * p0;
    var extremas = [];
    var t1;
    var t2;
    var discSqrt;
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$number$2d$equal$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNumberEqual$3e$__["isNumberEqual"])(a, 0)) {
        if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$number$2d$equal$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNumberEqual$3e$__["isNumberEqual"])(b, 0)) {
            t1 = -c / b;
            if (t1 >= 0 && t1 <= 1) {
                extremas.push(t1);
            }
        }
    } else {
        var disc = b * b - 4 * a * c;
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$number$2d$equal$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNumberEqual$3e$__["isNumberEqual"])(disc, 0)) {
            extremas.push(-b / (2 * a));
        } else if (disc > 0) {
            discSqrt = Math.sqrt(disc);
            t1 = (-b + discSqrt) / (2 * a);
            t2 = (-b - discSqrt) / (2 * a);
            if (t1 >= 0 && t1 <= 1) {
                extremas.push(t1);
            }
            if (t2 >= 0 && t2 <= 1) {
                extremas.push(t2);
            }
        }
    }
    return extremas;
}
// 分割贝塞尔曲线
function divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, t) {
    // 划分点
    var xt = cubicAt(x1, x2, x3, x4, t);
    var yt = cubicAt(y1, y2, y3, y4, t);
    // 计算两点之间的差值点
    var c1 = pointAt$3(x1, y1, x2, y2, t);
    var c2 = pointAt$3(x2, y2, x3, y3, t);
    var c3 = pointAt$3(x3, y3, x4, y4, t);
    var c12 = pointAt$3(c1.x, c1.y, c2.x, c2.y, t);
    var c23 = pointAt$3(c2.x, c2.y, c3.x, c3.y, t);
    return [
        [
            x1,
            y1,
            c1.x,
            c1.y,
            c12.x,
            c12.y,
            xt,
            yt
        ],
        [
            xt,
            yt,
            c23.x,
            c23.y,
            c3.x,
            c3.y,
            x4,
            y4
        ]
    ];
}
// 使用迭代法取贝塞尔曲线的长度，二阶和三阶分开写，更清晰和便于调试
function cubicLength(x1, y1, x2, y2, x3, y3, x4, y4, iterationCount) {
    if (iterationCount === 0) {
        return snapLength([
            x1,
            x2,
            x3,
            x4
        ], [
            y1,
            y2,
            y3,
            y4
        ]);
    }
    var cubics = divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, 0.5);
    var left = [].concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$toConsumableArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(cubics[0]), [
        iterationCount - 1
    ]);
    var right = [].concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$toConsumableArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(cubics[1]), [
        iterationCount - 1
    ]);
    return cubicLength.apply(void 0, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$toConsumableArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(left)) + cubicLength.apply(void 0, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$toConsumableArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(right));
}
function box$3(x1, y1, x2, y2, x3, y3, x4, y4) {
    var xArr = [
        x1,
        x4
    ];
    var yArr = [
        y1,
        y4
    ];
    var xExtrema = extrema$1(x1, x2, x3, x4);
    var yExtrema = extrema$1(y1, y2, y3, y4);
    for(var i = 0; i < xExtrema.length; i++){
        xArr.push(cubicAt(x1, x2, x3, x4, xExtrema[i]));
    }
    for(var _i = 0; _i < yExtrema.length; _i++){
        yArr.push(cubicAt(y1, y2, y3, y4, yExtrema[_i]));
    }
    return getBBoxByArray(xArr, yArr);
}
function length$3(x1, y1, x2, y2, x3, y3, x4, y4) {
    // 迭代三次，划分成 8 段求长度
    return cubicLength(x1, y1, x2, y2, x3, y3, x4, y4, 3);
}
function nearestPoint$1(x1, y1, x2, y2, x3, y3, x4, y4, x0, y0, length) {
    return nearestPoint$2([
        x1,
        x2,
        x3,
        x4
    ], [
        y1,
        y2,
        y3,
        y4
    ], x0, y0, cubicAt, length);
}
function pointDistance$3(x1, y1, x2, y2, x3, y3, x4, y4, x0, y0, length) {
    var point = nearestPoint$1(x1, y1, x2, y2, x3, y3, x4, y4, x0, y0, length);
    return distance(point.x, point.y, x0, y0);
}
function pointAt$2(x1, y1, x2, y2, x3, y3, x4, y4, t) {
    return {
        x: cubicAt(x1, x2, x3, x4, t),
        y: cubicAt(y1, y2, y3, y4, t)
    };
}
function tangentAngle$2(x1, y1, x2, y2, x3, y3, x4, y4, t) {
    var dx = derivativeAt(x1, x2, x3, x4, t);
    var dy = derivativeAt(y1, y2, y3, y4, t);
    return piMod(Math.atan2(dy, dx));
}
function analyzePoints(points) {
    // 计算每段的长度和总的长度
    var totalLength = 0;
    var segments = [];
    for(var i = 0; i < points.length - 1; i++){
        var from = points[i];
        var to = points[i + 1];
        var length = distance(from[0], from[1], to[0], to[1]);
        var seg = {
            from: from,
            to: to,
            length: length
        };
        segments.push(seg);
        totalLength += length;
    }
    return {
        segments: segments,
        totalLength: totalLength
    };
}
function lengthOfSegment(points) {
    if (points.length < 2) {
        return 0;
    }
    var totalLength = 0;
    for(var i = 0; i < points.length - 1; i++){
        var from = points[i];
        var to = points[i + 1];
        totalLength += distance(from[0], from[1], to[0], to[1]);
    }
    return totalLength;
}
/**
 * 按照比例在数据片段中获取点
 * @param {array} points 点的集合
 * @param {number} t 百分比 0-1
 * @return {object} 点的坐标
 */ function pointAtSegments(points, t) {
    // 边界判断
    if (t > 1 || t < 0 || points.length < 2) {
        return null;
    }
    var _analyzePoints = analyzePoints(points), segments = _analyzePoints.segments, totalLength = _analyzePoints.totalLength;
    // 多个点有可能重合
    if (totalLength === 0) {
        return {
            x: points[0][0],
            y: points[0][1]
        };
    }
    // 计算比例
    var startRatio = 0;
    var point = null;
    for(var i = 0; i < segments.length; i++){
        var seg = segments[i];
        var from = seg.from, to = seg.to;
        var currentRatio = seg.length / totalLength;
        if (t >= startRatio && t <= startRatio + currentRatio) {
            var localRatio = (t - startRatio) / currentRatio;
            point = pointAt$3(from[0], from[1], to[0], to[1], localRatio);
            break;
        }
        startRatio += currentRatio;
    }
    return point;
}
/**
 * 按照比例在数据片段中获取切线的角度
 * @param {array} points 点的集合
 * @param {number} t 百分比 0-1
 */ function angleAtSegments(points, t) {
    // 边界判断
    if (t > 1 || t < 0 || points.length < 2) {
        return 0;
    }
    var _analyzePoints2 = analyzePoints(points), segments = _analyzePoints2.segments, totalLength = _analyzePoints2.totalLength;
    // 计算比例
    var startRatio = 0;
    var angle = 0;
    for(var i = 0; i < segments.length; i++){
        var seg = segments[i];
        var from = seg.from, to = seg.to;
        var currentRatio = seg.length / totalLength;
        if (t >= startRatio && t <= startRatio + currentRatio) {
            angle = Math.atan2(to[1] - from[1], to[0] - from[0]);
            break;
        }
        startRatio += currentRatio;
    }
    return angle;
}
function distanceAtSegment(points, x, y) {
    var minDistance = Infinity;
    for(var i = 0; i < points.length - 1; i++){
        var point = points[i];
        var nextPoint = points[i + 1];
        var _distance = pointDistance$4(point[0], point[1], nextPoint[0], nextPoint[1], x, y);
        if (_distance < minDistance) {
            minDistance = _distance;
        }
    }
    return minDistance;
}
function box$2(points) {
    var xArr = [];
    var yArr = [];
    for(var i = 0; i < points.length; i++){
        var point = points[i];
        xArr.push(point[0]);
        yArr.push(point[1]);
    }
    return getBBoxByArray(xArr, yArr);
}
function length$2(points) {
    return lengthOfSegment(points);
}
function pointAt$1(points, t) {
    return pointAtSegments(points, t);
}
function pointDistance$2(points, x, y) {
    return distanceAtSegment(points, x, y);
}
function tangentAngle$1(points, t) {
    return angleAtSegments(points, t);
}
function getAllPoints(points) {
    var tmp = points.slice(0);
    if (points.length) {
        tmp.push(points[0]);
    }
    return tmp;
}
function box$1(points) {
    return box$2(points);
}
function length$1(points) {
    return lengthOfSegment(getAllPoints(points));
}
function pointAt(points, t) {
    return pointAtSegments(getAllPoints(points), t);
}
function pointDistance$1(points, x, y) {
    return distanceAtSegment(getAllPoints(points), x, y);
}
function tangentAngle(points, t) {
    return angleAtSegments(getAllPoints(points), t);
}
// 差值公式
function quadraticAt(p0, p1, p2, t) {
    var onet = 1 - t;
    return onet * onet * p0 + 2 * t * onet * p1 + t * t * p2;
}
// 求极值
function extrema(p0, p1, p2) {
    var a = p0 + p2 - 2 * p1;
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$number$2d$equal$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNumberEqual$3e$__["isNumberEqual"])(a, 0)) {
        return [
            0.5
        ];
    }
    var rst = (p0 - p1) / a;
    if (rst <= 1 && rst >= 0) {
        return [
            rst
        ];
    }
    return [];
}
// 分割贝塞尔曲线
function divideQuadratic(x1, y1, x2, y2, x3, y3, t) {
    // 划分点
    var xt = quadraticAt(x1, x2, x3, t);
    var yt = quadraticAt(y1, y2, y3, t);
    // 分割的第一条曲线的控制点
    var controlPoint1 = pointAt$3(x1, y1, x2, y2, t);
    // 分割的第二条曲线的控制点
    var controlPoint2 = pointAt$3(x2, y2, x3, y3, t);
    return [
        [
            x1,
            y1,
            controlPoint1.x,
            controlPoint1.y,
            xt,
            yt
        ],
        [
            xt,
            yt,
            controlPoint2.x,
            controlPoint2.y,
            x3,
            y3
        ]
    ];
}
// 使用迭代法取贝塞尔曲线的长度
function quadraticLength(x1, y1, x2, y2, x3, y3, iterationCount) {
    if (iterationCount === 0) {
        return (distance(x1, y1, x2, y2) + distance(x2, y2, x3, y3) + distance(x1, y1, x3, y3)) / 2;
    }
    var quadratics = divideQuadratic(x1, y1, x2, y2, x3, y3, 0.5);
    var left = quadratics[0];
    var right = quadratics[1];
    left.push(iterationCount - 1);
    right.push(iterationCount - 1);
    return quadraticLength.apply(void 0, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$toConsumableArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(left)) + quadraticLength.apply(void 0, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$toConsumableArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(right));
}
function box(x1, y1, x2, y2, x3, y3) {
    var xExtrema = extrema(x1, x2, x3)[0];
    var yExtrema = extrema(y1, y2, y3)[0];
    // 控制点不加入 box 的计算
    var xArr = [
        x1,
        x3
    ];
    var yArr = [
        y1,
        y3
    ];
    if (xExtrema !== undefined) {
        xArr.push(quadraticAt(x1, x2, x3, xExtrema));
    }
    if (yExtrema !== undefined) {
        yArr.push(quadraticAt(y1, y2, y3, yExtrema));
    }
    return getBBoxByArray(xArr, yArr);
}
function length(x1, y1, x2, y2, x3, y3) {
    return quadraticLength(x1, y1, x2, y2, x3, y3, 3);
}
function nearestPoint(x1, y1, x2, y2, x3, y3, x0, y0) {
    return nearestPoint$2([
        x1,
        x2,
        x3
    ], [
        y1,
        y2,
        y3
    ], x0, y0, quadraticAt);
}
function pointDistance(x1, y1, x2, y2, x3, y3, x0, y0) {
    var point = nearestPoint(x1, y1, x2, y2, x3, y3, x0, y0);
    return distance(point.x, point.y, x0, y0);
}
;
 //# sourceMappingURL=index.esm.js.map
}}),
"[project]/node_modules/@antv/g-camera-api/dist/index.esm.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
/*!
 * @antv/g-camera-api
 * @description A simple implementation of Camera API.
 * @version 2.0.41
 * @date 7/30/2025, 1:34:37 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */ __turbopack_esm__({
    "AdvancedCamera": (()=>AdvancedCamera)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-lite/dist/index.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/classCallCheck.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/createClass.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$callSuper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/callSuper.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$inherits$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/inherits.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$quat$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__quat$3e$__ = __turbopack_import__("[project]/node_modules/gl-matrix/esm/quat.js [app-ssr] (ecmascript) <export * as quat>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__ = __turbopack_import__("[project]/node_modules/gl-matrix/esm/mat4.js [app-ssr] (ecmascript) <export * as mat4>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__ = __turbopack_import__("[project]/node_modules/gl-matrix/esm/vec3.js [app-ssr] (ecmascript) <export * as vec3>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$string$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isString$3e$__ = __turbopack_import__("[project]/node_modules/@antv/util/esm/lodash/is-string.js [app-ssr] (ecmascript) <export default as isString>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$number$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNumber$3e$__ = __turbopack_import__("[project]/node_modules/@antv/util/esm/lodash/is-number.js [app-ssr] (ecmascript) <export default as isNumber>");
;
;
;
;
;
;
;
/**
 * Provides camera action & animation.
 */ var AdvancedCamera = /*#__PURE__*/ function(_Camera) {
    function AdvancedCamera() {
        var _this;
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, AdvancedCamera);
        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){
            args[_key] = arguments[_key];
        }
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$callSuper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, AdvancedCamera, [].concat(args));
        /**
     * switch between multiple landmarks
     */ _this.landmarks = [];
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$inherits$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(AdvancedCamera, _Camera);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(AdvancedCamera, [
        {
            key: "rotate",
            value: /**
     * Changes the azimuth and elevation with respect to the current camera axes
     * @param {Number} azimuth the relative azimuth
     * @param {Number} elevation the relative elevation
     * @param {Number} roll the relative roll
     */ function rotate(azimuth, elevation, roll) {
                this.relElevation = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getAngle"])(elevation);
                this.relAzimuth = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getAngle"])(azimuth);
                this.relRoll = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getAngle"])(roll);
                this.elevation += this.relElevation;
                this.azimuth += this.relAzimuth;
                this.roll += this.relRoll;
                if (this.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CameraType"].EXPLORING) {
                    var rotX = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$quat$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__quat$3e$__["quat"].setAxisAngle(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$quat$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__quat$3e$__["quat"].create(), [
                        1,
                        0,
                        0
                    ], (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["deg2rad"])((this.rotateWorld ? 1 : -1) * this.relElevation));
                    var rotY = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$quat$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__quat$3e$__["quat"].setAxisAngle(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$quat$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__quat$3e$__["quat"].create(), [
                        0,
                        1,
                        0
                    ], (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["deg2rad"])((this.rotateWorld ? 1 : -1) * this.relAzimuth));
                    var rotZ = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$quat$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__quat$3e$__["quat"].setAxisAngle(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$quat$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__quat$3e$__["quat"].create(), [
                        0,
                        0,
                        1
                    ], (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["deg2rad"])(this.relRoll));
                    var rotQ = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$quat$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__quat$3e$__["quat"].multiply(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$quat$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__quat$3e$__["quat"].create(), rotY, rotX);
                    rotQ = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$quat$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__quat$3e$__["quat"].multiply(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$quat$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__quat$3e$__["quat"].create(), rotQ, rotZ);
                    var rotMatrix = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].fromQuat(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].create(), rotQ);
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].translate(this.matrix, this.matrix, [
                        0,
                        0,
                        -this.distance
                    ]);
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].multiply(this.matrix, this.matrix, rotMatrix);
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].translate(this.matrix, this.matrix, [
                        0,
                        0,
                        this.distance
                    ]);
                } else {
                    if (Math.abs(this.elevation) > 90) {
                        return this;
                    }
                    this.computeMatrix();
                }
                this._getAxes();
                if (this.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CameraType"].ORBITING || this.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CameraType"].EXPLORING) {
                    this._getPosition();
                } else if (this.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CameraType"].TRACKING) {
                    this._getFocalPoint();
                }
                this._update();
                return this;
            }
        },
        {
            key: "pan",
            value: function pan(tx, ty) {
                var coords = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createVec3"])(tx, ty, 0);
                var pos = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].clone(this.position);
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].add(pos, pos, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].scale(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].create(), this.right, coords[0]));
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].add(pos, pos, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].scale(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].create(), this.up, coords[1]));
                this._setPosition(pos);
                this.triggerUpdate();
                return this;
            }
        },
        {
            key: "dolly",
            value: function dolly(value) {
                var n = this.forward;
                var pos = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].clone(this.position);
                var step = value * this.dollyingStep;
                var updatedDistance = this.distance + value * this.dollyingStep;
                // 限制视点距离范围
                step = Math.max(Math.min(updatedDistance, this.maxDistance), this.minDistance) - this.distance;
                pos[0] += step * n[0];
                pos[1] += step * n[1];
                pos[2] += step * n[2];
                this._setPosition(pos);
                if (this.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CameraType"].ORBITING || this.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CameraType"].EXPLORING) {
                    // 重新计算视点距离
                    this._getDistance();
                } else if (this.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CameraType"].TRACKING) {
                    // 保持视距，移动视点位置
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].add(this.focalPoint, pos, this.distanceVector);
                }
                this.triggerUpdate();
                return this;
            }
        },
        {
            key: "cancelLandmarkAnimation",
            value: function cancelLandmarkAnimation() {
                if (this.landmarkAnimationID !== undefined) {
                    this.canvas.cancelAnimationFrame(this.landmarkAnimationID);
                }
            }
        },
        {
            key: "createLandmark",
            value: function createLandmark(name) {
                var _position$, _position$2, _focalPoint$, _focalPoint$2;
                var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
                var _params$position = params.position, position = _params$position === void 0 ? this.position : _params$position, _params$focalPoint = params.focalPoint, focalPoint = _params$focalPoint === void 0 ? this.focalPoint : _params$focalPoint, roll = params.roll, zoom = params.zoom;
                var camera = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["runtime"].CameraContribution();
                camera.setType(this.type, undefined);
                camera.setPosition(position[0], (_position$ = position[1]) !== null && _position$ !== void 0 ? _position$ : this.position[1], (_position$2 = position[2]) !== null && _position$2 !== void 0 ? _position$2 : this.position[2]);
                camera.setFocalPoint(focalPoint[0], (_focalPoint$ = focalPoint[1]) !== null && _focalPoint$ !== void 0 ? _focalPoint$ : this.focalPoint[1], (_focalPoint$2 = focalPoint[2]) !== null && _focalPoint$2 !== void 0 ? _focalPoint$2 : this.focalPoint[2]);
                camera.setRoll(roll !== null && roll !== void 0 ? roll : this.roll);
                camera.setZoom(zoom !== null && zoom !== void 0 ? zoom : this.zoom);
                var landmark = {
                    name: name,
                    matrix: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].clone(camera.getWorldTransform()),
                    right: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].clone(camera.right),
                    up: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].clone(camera.up),
                    forward: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].clone(camera.forward),
                    position: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].clone(camera.getPosition()),
                    focalPoint: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].clone(camera.getFocalPoint()),
                    distanceVector: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].clone(camera.getDistanceVector()),
                    distance: camera.getDistance(),
                    dollyingStep: camera.getDollyingStep(),
                    azimuth: camera.getAzimuth(),
                    elevation: camera.getElevation(),
                    roll: camera.getRoll(),
                    relAzimuth: camera.relAzimuth,
                    relElevation: camera.relElevation,
                    relRoll: camera.relRoll,
                    zoom: camera.getZoom()
                };
                this.landmarks.push(landmark);
                return landmark;
            }
        },
        {
            key: "gotoLandmark",
            value: function gotoLandmark(name) {
                var _this2 = this;
                var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
                var landmark = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$string$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isString$3e$__["isString"])(name) ? this.landmarks.find(function(l) {
                    return l.name === name;
                }) : name;
                if (landmark) {
                    var _ref = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$number$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNumber$3e$__["isNumber"])(options) ? {
                        duration: options
                    } : options, _ref$easing = _ref.easing, easing = _ref$easing === void 0 ? 'linear' : _ref$easing, _ref$duration = _ref.duration, duration = _ref$duration === void 0 ? 100 : _ref$duration, _ref$easingFunction = _ref.easingFunction, easingFunction = _ref$easingFunction === void 0 ? undefined : _ref$easingFunction, _ref$onfinish = _ref.onfinish, onfinish = _ref$onfinish === void 0 ? undefined : _ref$onfinish, _ref$onframe = _ref.onframe, onframe = _ref$onframe === void 0 ? undefined : _ref$onframe;
                    var epsilon = 0.01;
                    // cancel ongoing animation
                    this.cancelLandmarkAnimation();
                    var destPosition = landmark.position;
                    var destFocalPoint = landmark.focalPoint;
                    var destZoom = landmark.zoom;
                    var destRoll = landmark.roll;
                    var easingFunc = easingFunction || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["runtime"].EasingFunction(easing);
                    var timeStart;
                    var end = function end() {
                        _this2.setFocalPoint(destFocalPoint);
                        _this2.setPosition(destPosition);
                        _this2.setRoll(destRoll);
                        _this2.setZoom(destZoom);
                        _this2.computeMatrix();
                        _this2.triggerUpdate();
                        onfinish === null || onfinish === void 0 || onfinish();
                    };
                    if (duration === 0) return end();
                    var _animate = function animate(timestamp) {
                        if (timeStart === undefined) {
                            timeStart = timestamp;
                        }
                        var elapsed = timestamp - timeStart;
                        if (elapsed >= duration) {
                            end();
                            return;
                        }
                        // use the same ease function in animation system
                        var t = easingFunc(elapsed / duration);
                        var interFocalPoint = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].create();
                        var interPosition = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].create();
                        var interZoom = 1;
                        var interRoll = 0;
                        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].lerp(interFocalPoint, _this2.focalPoint, destFocalPoint, t);
                        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].lerp(interPosition, _this2.position, destPosition, t);
                        interRoll = _this2.roll * (1 - t) + destRoll * t;
                        interZoom = _this2.zoom * (1 - t) + destZoom * t;
                        _this2.setFocalPoint(interFocalPoint);
                        _this2.setPosition(interPosition);
                        _this2.setRoll(interRoll);
                        _this2.setZoom(interZoom);
                        var dist = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].dist(interFocalPoint, destFocalPoint) + __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].dist(interPosition, destPosition);
                        if (dist <= epsilon && destZoom === undefined && destRoll === undefined) {
                            return end();
                        }
                        _this2.computeMatrix();
                        _this2.triggerUpdate();
                        if (elapsed < duration) {
                            onframe === null || onframe === void 0 || onframe(t);
                            _this2.landmarkAnimationID = _this2.canvas.requestAnimationFrame(_animate);
                        }
                    };
                    this.canvas.requestAnimationFrame(_animate);
                }
            }
        }
    ]);
}(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Camera"]);
__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["runtime"].CameraContribution = AdvancedCamera;
;
 //# sourceMappingURL=index.esm.js.map
}}),
"[project]/node_modules/@antv/g-dom-mutation-observer-api/dist/index.esm.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
/*!
 * @antv/g-dom-mutation-observer-api
 * @description A simple implementation of DOM MutationObserver API.
 * @version 2.0.38
 * @date 7/30/2025, 1:34:51 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */ __turbopack_esm__({
    "MutationObserver": (()=>MutationObserver),
    "MutationRecord": (()=>MutationRecord),
    "Registration": (()=>Registration)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/classCallCheck.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/createClass.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-lite/dist/index.esm.js [app-ssr] (ecmascript)");
;
;
;
var MutationRecord = /*#__PURE__*/ function() {
    function MutationRecord(type, target) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, MutationRecord);
        this.addedNodes = [];
        this.attributeName = null;
        this.attributeNamespace = null;
        this.nextSibling = null;
        this.oldValue = null;
        this.previousSibling = null;
        this.removedNodes = [];
        this.type = type;
        this.target = target;
    }
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(MutationRecord, null, [
        {
            key: "copy",
            value: function copy(original) {
                var record = new MutationRecord(original.type, original.target);
                record.addedNodes = original.addedNodes.slice();
                record.removedNodes = original.removedNodes.slice();
                record.previousSibling = original.previousSibling;
                record.nextSibling = original.nextSibling;
                record.attributeName = original.attributeName;
                record.attributeNamespace = original.attributeNamespace;
                record.oldValue = original.oldValue;
                return record;
            }
        }
    ]);
}();
var uidCounter = 0;
var registrationsTable = new WeakMap();
var Registration = /*#__PURE__*/ function() {
    function Registration(observer, target, options) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, Registration);
        this.transientObservedNodes = [];
        this.observer = observer;
        this.target = target;
        this.options = options;
    }
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(Registration, [
        {
            key: "enqueue",
            value: function enqueue(record) {
                var records = this.observer.records;
                var length = records.length;
                // There are cases where we replace the last record with the new record.
                // For example if the record represents the same mutation we need to use
                // the one with the oldValue. If we get same record (this can happen as we
                // walk up the tree) we ignore the new record.
                if (records.length > 0) {
                    var lastRecord = records[length - 1];
                    var recordToReplaceLast = selectRecord(lastRecord, record);
                    if (recordToReplaceLast) {
                        records[length - 1] = recordToReplaceLast;
                        return;
                    }
                } else {
                    scheduleCallback(this.observer);
                }
                records[length] = record;
            }
        },
        {
            key: "addListeners",
            value: function addListeners() {
                this.addListeners_(this.target);
            }
        },
        {
            key: "addListeners_",
            value: function addListeners_(node) {
                var options = this.options;
                if (options.attributes) node.addEventListener(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ElementEvent"].ATTR_MODIFIED, this, true);
                // if (options.characterData) node.addEventListener('DOMCharacterDataModified', this, true);
                if (options.childList) node.addEventListener(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ElementEvent"].INSERTED, this, true);
                if (options.childList || options.subtree) node.addEventListener(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ElementEvent"].REMOVED, this, true);
            }
        },
        {
            key: "removeListeners",
            value: function removeListeners() {
                this.removeListeners_(this.target);
            }
        },
        {
            key: "removeListeners_",
            value: function removeListeners_(node) {
                var options = this.options;
                if (options.attributes) node.removeEventListener(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ElementEvent"].ATTR_MODIFIED, this, true);
                // if (options.characterData) node.removeEventListener('DOMCharacterDataModified', this, true);
                if (options.childList) node.removeEventListener(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ElementEvent"].INSERTED, this, true);
                if (options.childList || options.subtree) node.removeEventListener(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ElementEvent"].REMOVED, this, true);
            }
        },
        {
            key: "removeTransientObservers",
            value: function removeTransientObservers() {
                var transientObservedNodes = this.transientObservedNodes;
                this.transientObservedNodes = [];
                transientObservedNodes.forEach(function(node) {
                    // Transient observers are never added to the target.
                    this.removeListeners_(node);
                    var registrations = registrationsTable.get(node);
                    for(var i = 0; i < registrations.length; i++){
                        if (registrations[i] === this) {
                            registrations.splice(i, 1);
                            break;
                        }
                    }
                }, this);
            }
        },
        {
            key: "handleEvent",
            value: function handleEvent(e) {
                // Stop propagation since we are managing the propagation manually.
                // This means that other mutation events on the page will not work
                // correctly but that is by design.
                e.stopImmediatePropagation();
                var record;
                var target;
                switch(e.type){
                    case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ElementEvent"].ATTR_MODIFIED:
                        // http://dom.spec.whatwg.org/#concept-mo-queue-attributes
                        var name = e.attrName;
                        // @ts-ignore
                        var namespace = e.relatedNode.namespaceURI;
                        target = e.target;
                        // 1.
                        record = getRecord('attributes', target);
                        record.attributeName = name;
                        record.attributeNamespace = namespace;
                        // 2.
                        var oldValue = e.attrChange === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["MutationEvent"].ADDITION ? null : e.prevValue;
                        forEachAncestorAndObserverEnqueueRecord(target, function(options) {
                            // 3.1, 4.2
                            if (!options.attributes) return;
                            // 3.2, 4.3
                            if (options.attributeFilter && options.attributeFilter.length && options.attributeFilter.indexOf(name) === -1 && options.attributeFilter.indexOf(namespace) === -1) {
                                return;
                            }
                            // 3.3, 4.4
                            if (options.attributeOldValue) return getRecordWithOldValue(oldValue);
                            // 3.4, 4.5
                            return record;
                        });
                        break;
                    // case 'DOMCharacterDataModified':
                    //   // http://dom.spec.whatwg.org/#concept-mo-queue-characterdata
                    //   var target = e.target;
                    //   // 1.
                    //   var record = getRecord('characterData', target);
                    //   // 2.
                    //   var oldValue = e.prevValue;
                    //   forEachAncestorAndObserverEnqueueRecord(target, function(options) {
                    //     // 3.1, 4.2
                    //     if (!options.characterData)
                    //       return;
                    //     // 3.2, 4.3
                    //     if (options.characterDataOldValue)
                    //       return getRecordWithOldValue(oldValue);
                    //     // 3.3, 4.4
                    //     return record;
                    //   });
                    //   break;
                    case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ElementEvent"].REMOVED:
                    // this.addTransientObserver(e.target as IElement);
                    // Fall through.
                    case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ElementEvent"].INSERTED:
                        // http://dom.spec.whatwg.org/#concept-mo-queue-childlist
                        target = e.relatedNode;
                        var changedNode = e.target;
                        var addedNodes;
                        var removedNodes;
                        if (e.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ElementEvent"].INSERTED) {
                            addedNodes = [
                                changedNode
                            ];
                            removedNodes = [];
                        } else {
                            addedNodes = [];
                            removedNodes = [
                                changedNode
                            ];
                        }
                        var previousSibling = changedNode.previousSibling;
                        var nextSibling = changedNode.nextSibling;
                        // 1.
                        record = getRecord('childList', target);
                        record.addedNodes = addedNodes;
                        record.removedNodes = removedNodes;
                        record.previousSibling = previousSibling;
                        record.nextSibling = nextSibling;
                        forEachAncestorAndObserverEnqueueRecord(target, function(options) {
                            // 2.1, 3.2
                            if (!options.childList) return;
                            // 2.2, 3.3
                            return record;
                        });
                }
                clearRecords();
            }
        }
    ]);
}();
/**
 * @see https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver
 * @see https://github.com/googlearchive/MutationObservers/blob/master/MutationObserver.js
 */ var MutationObserver = /*#__PURE__*/ function() {
    function MutationObserver(callback) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, MutationObserver);
        this.nodes = [];
        this.records = [];
        this.uid = uidCounter++;
        this.callback = callback;
    }
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(MutationObserver, [
        {
            key: "observe",
            value: function observe(target, options) {
                // 1.1
                if (!options.childList && !options.attributes && !options.characterData || // 1.2
                options.attributeOldValue && !options.attributes || // 1.3
                options.attributeFilter && options.attributeFilter.length && !options.attributes || // 1.4
                options.characterDataOldValue && !options.characterData) {
                    throw new SyntaxError();
                }
                var registrations = registrationsTable.get(target);
                if (!registrations) registrationsTable.set(target, registrations = []);
                // 2
                // If target's list of registered observers already includes a registered
                // observer associated with the context object, replace that registered
                // observer's options with options.
                var registration;
                for(var i = 0; i < registrations.length; i++){
                    if (registrations[i].observer === this) {
                        registration = registrations[i];
                        registration.removeListeners();
                        registration.options = options;
                        break;
                    }
                }
                // 3.
                // Otherwise, add a new registered observer to target's list of registered
                // observers with the context object as the observer and options as the
                // options, and add target to context object's list of nodes on which it
                // is registered.
                if (!registration) {
                    registration = new Registration(this, target, options);
                    registrations.push(registration);
                    this.nodes.push(target);
                }
                registration.addListeners();
            }
        },
        {
            key: "disconnect",
            value: function disconnect() {
                var _this = this;
                this.nodes.forEach(function(node) {
                    var registrations = registrationsTable.get(node);
                    for(var i = 0; i < registrations.length; i++){
                        var registration = registrations[i];
                        if (registration.observer === _this) {
                            registration.removeListeners();
                            registrations.splice(i, 1);
                            break;
                        }
                    }
                }, this);
                this.records = [];
            }
        },
        {
            key: "takeRecords",
            value: function takeRecords() {
                var copyOfRecords = this.records;
                this.records = [];
                return copyOfRecords;
            }
        }
    ]);
}();
// We keep track of the two (possibly one) records used in a single mutation.
var currentRecord;
var recordWithOldValue;
/**
 * Creates a record without |oldValue| and caches it as |currentRecord| for
 * later use.
 */ function getRecord(type, target) {
    return currentRecord = new MutationRecord(type, target);
}
/**
 * Gets or creates a record with |oldValue| based in the |currentRecord|
 */ function getRecordWithOldValue(oldValue) {
    if (recordWithOldValue) return recordWithOldValue;
    recordWithOldValue = MutationRecord.copy(currentRecord);
    recordWithOldValue.oldValue = oldValue;
    return recordWithOldValue;
}
function clearRecords() {
    currentRecord = recordWithOldValue = undefined;
}
/**
 * Whether the record represents a record from the current
 * mutation event.
 */ function recordRepresentsCurrentMutation(record) {
    return record === recordWithOldValue || record === currentRecord;
}
/**
 * Selects which record, if any, to replace the last record in the queue.
 * This returns |null| if no record should be replaced.
 */ function selectRecord(lastRecord, newRecord) {
    if (lastRecord === newRecord) return lastRecord;
    // Check if the the record we are adding represents the same record. If
    // so, we keep the one with the oldValue in it.
    if (recordWithOldValue && recordRepresentsCurrentMutation(lastRecord)) return recordWithOldValue;
    return null;
}
function removeTransientObserversFor(observer) {
    observer.nodes.forEach(function(node) {
        var registrations = registrationsTable.get(node);
        if (!registrations) return;
        registrations.forEach(function(registration) {
            if (registration.observer === observer) registration.removeTransientObservers();
        });
    });
}
/**
 * This function is used for the "For each registered observer observer (with
 * observer's options as options) in target's list of registered observers,
 * run these substeps:" and the "For each ancestor ancestor of target, and for
 * each registered observer observer (with options options) in ancestor's list
 * of registered observers, run these substeps:" part of the algorithms. The
 * |options.subtree| is checked to ensure that the callback is called
 * correctly.
 *
 * @param {Node} target
 * @param {function(MutationObserverInit):MutationRecord} callback
 */ function forEachAncestorAndObserverEnqueueRecord(target, callback) {
    for(var node = target; node; node = node.parentNode){
        var registrations = registrationsTable.get(node);
        if (registrations) {
            for(var j = 0; j < registrations.length; j++){
                var registration = registrations[j];
                var _options = registration.options;
                // Only target ignores subtree.
                if (node !== target && !_options.subtree) continue;
                var record = callback(_options);
                if (record) registration.enqueue(record);
            }
        }
    }
}
// This is used to ensure that we never schedule 2 callas to setImmediate
var isScheduled = false;
// Keep track of observers that needs to be notified next time.
var scheduledObservers = [];
/**
 * Schedules |dispatchCallback| to be called in the future.
 */ function scheduleCallback(observer) {
    scheduledObservers.push(observer);
    if (!isScheduled) {
        isScheduled = true;
        // setImmediate(dispatchCallbacks);
        if (typeof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["runtime"].globalThis !== 'undefined') {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["runtime"].globalThis.setTimeout(dispatchCallbacks);
        } else {
            dispatchCallbacks();
        }
    }
}
function dispatchCallbacks() {
    // http://dom.spec.whatwg.org/#mutation-observers
    isScheduled = false; // Used to allow a new setImmediate call above.
    var observers = scheduledObservers;
    scheduledObservers = [];
    // Sort observers based on their creation UID (incremental).
    observers.sort(function(o1, o2) {
        return o1.uid - o2.uid;
    });
    var anyNonEmpty = false;
    observers.forEach(function(observer) {
        // 2.1, 2.2
        var queue = observer.takeRecords();
        // 2.3. Remove all transient registered observers whose observer is mo.
        removeTransientObserversFor(observer);
        // 2.4
        if (queue.length) {
            // @ts-ignore
            observer.callback(queue, observer);
            anyNonEmpty = true;
        }
    });
    // 3.
    if (anyNonEmpty) dispatchCallbacks();
}
;
 //# sourceMappingURL=index.esm.js.map
}}),
"[project]/node_modules/@antv/g-web-animations-api/dist/index.esm.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
/*!
 * @antv/g-web-animations-api
 * @description A simple implementation of Web Animations API.
 * @version 2.1.28
 * @date 7/30/2025, 1:36:24 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */ __turbopack_esm__({
    "Animation": (()=>Animation),
    "AnimationEvent": (()=>AnimationEvent),
    "AnimationTimeline": (()=>AnimationTimeline),
    "EasingFunctions": (()=>EasingFunctions),
    "KeyframeEffect": (()=>KeyframeEffect),
    "compareAnimations": (()=>compareAnimations),
    "makeTiming": (()=>makeTiming),
    "normalizeKeyframes": (()=>normalizeKeyframes),
    "normalizeTimingInput": (()=>normalizeTimingInput),
    "numericTimingToObject": (()=>numericTimingToObject)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-lite/dist/index.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/classCallCheck.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/createClass.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$callSuper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/callSuper.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$inherits$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/inherits.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$toConsumableArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/toConsumableArray.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$slicedToArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/slicedToArray.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$clamp$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__clamp$3e$__ = __turbopack_import__("[project]/node_modules/@antv/util/esm/lodash/clamp.js [app-ssr] (ecmascript) <export default as clamp>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$number$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNumber$3e$__ = __turbopack_import__("[project]/node_modules/@antv/util/esm/lodash/is-number.js [app-ssr] (ecmascript) <export default as isNumber>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__ = __turbopack_import__("[project]/node_modules/@antv/util/esm/lodash/is-nil.js [app-ssr] (ecmascript) <export default as isNil>");
;
;
;
;
;
;
;
;
/**
 * @see https://developer.mozilla.org/en-US/docs/Web/API/AnimationPlaybackEvent
 */ // @ts-ignore
var AnimationEvent = /*#__PURE__*/ function(_FederatedEvent) {
    function AnimationEvent(manager, target, currentTime, timelineTime) {
        var _this;
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, AnimationEvent);
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$callSuper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, AnimationEvent, [
            manager
        ]);
        // @ts-ignore
        _this.currentTime = currentTime;
        _this.timelineTime = timelineTime;
        _this.target = target;
        _this.type = 'finish';
        _this.bubbles = false;
        // @ts-ignore
        _this.currentTarget = target;
        _this.defaultPrevented = false;
        _this.eventPhase = _this.AT_TARGET;
        _this.timeStamp = Date.now();
        _this.currentTime = currentTime;
        _this.timelineTime = timelineTime;
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$inherits$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(AnimationEvent, _FederatedEvent);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(AnimationEvent);
}(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FederatedEvent"]);
var sequenceNumber = 0;
/**
 * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/Animation
 */ var Animation = /*#__PURE__*/ function() {
    function Animation(effect, timeline) {
        var _this$effect;
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, Animation);
        this.currentTimePending = false;
        /**
     * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/playState
     */ // playState: AnimationPlayState;
        this._idle = true;
        this._paused = false;
        this._finishedFlag = true;
        /**
     * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/currentTime
     */ this._currentTime = 0;
        this._playbackRate = 1;
        this._inTimeline = true;
        this.effect = effect;
        effect.animation = this;
        this.timeline = timeline;
        this.id = "".concat(sequenceNumber++);
        this._inEffect = !!this.effect.update(0);
        this._totalDuration = Number((_this$effect = this.effect) === null || _this$effect === void 0 ? void 0 : _this$effect.getComputedTiming().endTime);
        this._holdTime = 0;
        this._paused = false;
        this.oldPlayState = 'idle';
        this.updatePromises();
    }
    /**
   * state machine,
   * resolve/reject ready/finished Promise according to current state
   */ return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(Animation, [
        {
            key: "pending",
            get: /**
     * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/effect
     */ /**
     * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/timeline
     */ /**
     * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/id
     */ // animation: InternalAnimation | null;
            /**
     * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/pending
     */ function get() {
                return this._startTime === null && !this._paused && this.playbackRate !== 0 || this.currentTimePending;
            }
        },
        {
            key: "playState",
            get: function get() {
                if (this._idle) return 'idle';
                if (this._isFinished) return 'finished';
                if (this._paused) return 'paused';
                return 'running';
            }
        },
        {
            key: "ready",
            get: /**
     * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/ready
     * @example
      animation.pause();
      animation.ready.then(function() {
        // Displays 'running'
        alert(animation.playState);
      });
      animation.play();
     */ function get() {
                var _this = this;
                if (!this.readyPromise) {
                    if (this.timeline.animationsWithPromises.indexOf(this) === -1) {
                        this.timeline.animationsWithPromises.push(this);
                    }
                    this.readyPromise = new Promise(function(resolve, reject) {
                        _this.resolveReadyPromise = function() {
                            resolve(_this);
                        };
                        _this.rejectReadyPromise = function() {
                            reject(new Error());
                        };
                    });
                    if (!this.pending) {
                        this.resolveReadyPromise();
                    }
                }
                return this.readyPromise;
            }
        },
        {
            key: "finished",
            get: function get() {
                var _this2 = this;
                if (!this.finishedPromise) {
                    if (this.timeline.animationsWithPromises.indexOf(this) === -1) {
                        this.timeline.animationsWithPromises.push(this);
                    }
                    this.finishedPromise = new Promise(function(resolve, reject) {
                        _this2.resolveFinishedPromise = function() {
                            resolve(_this2);
                        };
                        _this2.rejectFinishedPromise = function() {
                            reject(new Error());
                        };
                    });
                    if (this.playState === 'finished') {
                        this.resolveFinishedPromise();
                    }
                }
                return this.finishedPromise;
            }
        },
        {
            key: "currentTime",
            get: function get() {
                this.updatePromises();
                return this._idle || this.currentTimePending ? null : this._currentTime;
            },
            set: function set(newTime) {
                newTime = Number(newTime);
                if (isNaN(newTime)) return;
                this.timeline.restart();
                if (!this._paused && this._startTime !== null) {
                    var _this$timeline;
                    this._startTime = Number((_this$timeline = this.timeline) === null || _this$timeline === void 0 ? void 0 : _this$timeline.currentTime) - newTime / this.playbackRate;
                }
                this.currentTimePending = false;
                if (this._currentTime === newTime) {
                    return;
                }
                if (this._idle) {
                    this._idle = false;
                    this._paused = true;
                }
                this.tickCurrentTime(newTime, true);
                this.timeline.applyDirtiedAnimation(this);
            }
        },
        {
            key: "startTime",
            get: function get() {
                return this._startTime;
            },
            set: function set(newTime) {
                if (newTime !== null) {
                    this.updatePromises();
                    newTime = Number(newTime);
                    if (isNaN(newTime)) return;
                    if (this._paused || this._idle) return;
                    this._startTime = newTime;
                    this.tickCurrentTime((Number(this.timeline.currentTime) - this._startTime) * this.playbackRate);
                    this.timeline.applyDirtiedAnimation(this);
                    this.updatePromises();
                }
            }
        },
        {
            key: "playbackRate",
            get: function get() {
                return this._playbackRate;
            },
            set: function set(value) {
                if (value === this._playbackRate) {
                    return;
                }
                this.updatePromises();
                var oldCurrentTime = this.currentTime;
                this._playbackRate = value;
                this.startTime = null;
                if (this.playState !== 'paused' && this.playState !== 'idle') {
                    this._finishedFlag = false;
                    this._idle = false;
                    this.ensureAlive();
                    this.timeline.applyDirtiedAnimation(this);
                }
                if (oldCurrentTime !== null) {
                    this.currentTime = oldCurrentTime;
                }
                this.updatePromises();
            }
        },
        {
            key: "_isFinished",
            get: function get() {
                return !this._idle && (this._playbackRate > 0 && Number(this._currentTime) >= this._totalDuration || this._playbackRate < 0 && Number(this._currentTime) <= 0);
            }
        },
        {
            key: "totalDuration",
            get: function get() {
                return this._totalDuration;
            }
        },
        {
            key: "_needsTick",
            get: function get() {
                return this.pending || this.playState === 'running' || !this._finishedFlag;
            }
        },
        {
            key: "updatePromises",
            value: function updatePromises() {
                var _this$effect$target;
                if ((_this$effect$target = this.effect.target) !== null && _this$effect$target !== void 0 && _this$effect$target.destroyed) {
                    this.readyPromise = undefined;
                    this.finishedPromise = undefined;
                    return false;
                }
                var oldPlayState = this.oldPlayState;
                var newPlayState = this.pending ? 'pending' : this.playState;
                if (this.readyPromise && newPlayState !== oldPlayState) {
                    if (newPlayState === 'idle') {
                        this.rejectReadyPromise();
                        this.readyPromise = undefined;
                    } else if (oldPlayState === 'pending') {
                        this.resolveReadyPromise();
                    } else if (newPlayState === 'pending') {
                        this.readyPromise = undefined;
                    }
                }
                if (this.finishedPromise && newPlayState !== oldPlayState) {
                    if (newPlayState === 'idle') {
                        this.rejectFinishedPromise();
                        this.finishedPromise = undefined;
                    } else if (newPlayState === 'finished') {
                        this.resolveFinishedPromise();
                    } else if (oldPlayState === 'finished') {
                        this.finishedPromise = undefined;
                    }
                }
                this.oldPlayState = newPlayState;
                return this.readyPromise || this.finishedPromise;
            }
        },
        {
            key: "play",
            value: function play() {
                this.updatePromises();
                this._paused = false;
                if (this._isFinished || this._idle) {
                    this.rewind();
                    this._startTime = null;
                }
                this._finishedFlag = false;
                this._idle = false;
                this.ensureAlive();
                this.timeline.applyDirtiedAnimation(this);
                if (this.timeline.animations.indexOf(this) === -1) {
                    this.timeline.animations.push(this);
                }
                this.updatePromises();
            }
        },
        {
            key: "pause",
            value: function pause() {
                this.updatePromises();
                if (this.currentTime) {
                    this._holdTime = this.currentTime;
                }
                if (!this._isFinished && !this._paused && !this._idle) {
                    this.currentTimePending = true;
                } else if (this._idle) {
                    this.rewind();
                    this._idle = false;
                }
                this._startTime = null;
                this._paused = true;
                this.updatePromises();
            }
        },
        {
            key: "finish",
            value: function finish() {
                this.updatePromises();
                if (this._idle) return;
                this.currentTime = this._playbackRate > 0 ? this._totalDuration : 0;
                this._startTime = this._totalDuration - this.currentTime;
                this.currentTimePending = false;
                this.timeline.applyDirtiedAnimation(this);
                this.updatePromises();
            }
        },
        {
            key: "cancel",
            value: function cancel() {
                var _this3 = this;
                this.updatePromises();
                if (!this._inEffect) return;
                this._inEffect = false;
                this._idle = true;
                this._paused = false;
                this._finishedFlag = true;
                this._currentTime = 0;
                this._startTime = null;
                this.effect.update(null);
                // effects are invalid after cancellation as the animation state
                // needs to un-apply.
                this.timeline.applyDirtiedAnimation(this);
                this.updatePromises();
                /**
       * 1. Reject the current finished promise with a DOMException named "AbortError".
       * 2. Let current finished promise be a new promise
       * @see https://w3c.github.io/csswg-drafts/web-animations-1/#canceling-an-animation-section
       */ // if (this.finishedPromise) {
                //   this.rejectFinishedPromise();
                //   this.finishedPromise = undefined;
                // }
                if (this.oncancel) {
                    var event = new AnimationEvent(null, this, this.currentTime, null);
                    setTimeout(function() {
                        _this3.oncancel(event);
                    });
                }
            }
        },
        {
            key: "reverse",
            value: function reverse() {
                this.updatePromises();
                var oldCurrentTime = this.currentTime;
                this.playbackRate *= -1;
                this.play();
                if (oldCurrentTime !== null) {
                    this.currentTime = oldCurrentTime;
                }
                this.updatePromises();
            }
        },
        {
            key: "updatePlaybackRate",
            value: function updatePlaybackRate(playbackRate) {
                this.playbackRate = playbackRate;
            }
        },
        {
            key: "targetAnimations",
            value: function targetAnimations() {
                var _this$effect2;
                var target = (_this$effect2 = this.effect) === null || _this$effect2 === void 0 ? void 0 : _this$effect2.target;
                return target.getAnimations();
            }
        },
        {
            key: "markTarget",
            value: function markTarget() {
                var animations = this.targetAnimations();
                if (animations.indexOf(this) === -1) {
                    animations.push(this);
                }
            }
        },
        {
            key: "unmarkTarget",
            value: function unmarkTarget() {
                var animations = this.targetAnimations();
                var index = animations.indexOf(this);
                if (index !== -1) {
                    animations.splice(index, 1);
                }
            }
        },
        {
            key: "tick",
            value: function tick(timelineTime, isAnimationFrame) {
                if (!this._idle && !this._paused) {
                    if (this._startTime === null) {
                        if (isAnimationFrame) {
                            this.startTime = timelineTime - this._currentTime / this.playbackRate;
                        }
                    } else if (!this._isFinished) {
                        this.tickCurrentTime((timelineTime - this._startTime) * this.playbackRate);
                    }
                }
                if (isAnimationFrame) {
                    this.currentTimePending = false;
                    this.fireEvents(timelineTime);
                }
            }
        },
        {
            key: "rewind",
            value: function rewind() {
                if (this.playbackRate >= 0) {
                    this.currentTime = 0;
                } else if (this._totalDuration < Infinity) {
                    this.currentTime = this._totalDuration;
                } else {
                    throw new Error('Unable to rewind negative playback rate animation with infinite duration');
                }
            }
        },
        {
            key: "persist",
            value: function persist() {
                throw new Error(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ERROR_MSG_METHOD_NOT_IMPLEMENTED"]);
            }
        },
        {
            key: "addEventListener",
            value: function addEventListener(type, listener, options) {
                throw new Error(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ERROR_MSG_METHOD_NOT_IMPLEMENTED"]);
            }
        },
        {
            key: "removeEventListener",
            value: function removeEventListener(type, listener, options) {
                throw new Error(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ERROR_MSG_METHOD_NOT_IMPLEMENTED"]);
            }
        },
        {
            key: "dispatchEvent",
            value: function dispatchEvent(event) {
                throw new Error(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ERROR_MSG_METHOD_NOT_IMPLEMENTED"]);
            }
        },
        {
            key: "commitStyles",
            value: // replaceState: AnimationReplaceState;
            function commitStyles() {
                throw new Error(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ERROR_MSG_METHOD_NOT_IMPLEMENTED"]);
            }
        },
        {
            key: "ensureAlive",
            value: function ensureAlive() {
                // If an animation is playing backwards and is not fill backwards/both
                // then it should go out of effect when it reaches the start of its
                // active interval (currentTime === 0).
                if (this.playbackRate < 0 && this.currentTime === 0) {
                    var _this$effect3;
                    this._inEffect = !!((_this$effect3 = this.effect) !== null && _this$effect3 !== void 0 && _this$effect3.update(-1));
                } else {
                    var _this$effect4;
                    this._inEffect = !!((_this$effect4 = this.effect) !== null && _this$effect4 !== void 0 && _this$effect4.update(this.currentTime));
                }
                if (!this._inTimeline && (this._inEffect || !this._finishedFlag)) {
                    this._inTimeline = true;
                    this.timeline.animations.push(this);
                }
            }
        },
        {
            key: "tickCurrentTime",
            value: function tickCurrentTime(newTime, ignoreLimit) {
                if (newTime !== this._currentTime) {
                    this._currentTime = newTime;
                    if (this._isFinished && !ignoreLimit) {
                        this._currentTime = this._playbackRate > 0 ? this._totalDuration : 0;
                    }
                    this.ensureAlive();
                }
            }
        },
        {
            key: "fireEvents",
            value: function fireEvents(baseTime) {
                var _this4 = this;
                if (this._isFinished) {
                    if (!this._finishedFlag) {
                        if (this.onfinish) {
                            var event = new AnimationEvent(null, this, this.currentTime, baseTime);
                            setTimeout(function() {
                                if (_this4.onfinish) {
                                    _this4.onfinish(event);
                                }
                            });
                        }
                        this._finishedFlag = true;
                    }
                } else {
                    if (this.onframe && this.playState === 'running') {
                        var _event = new AnimationEvent(null, this, this.currentTime, baseTime);
                        this.onframe(_event);
                    }
                    this._finishedFlag = false;
                }
            }
        }
    ]);
}();
/**
 * https://github.com/gre/bezier-easing
 * BezierEasing - use bezier curve for transition easing function
 * by Gaëtan Renaudeau 2014 - 2015 – MIT License
 */ // These values are established by empiricism with tests (tradeoff: performance VS precision)
var NEWTON_ITERATIONS = 4;
var NEWTON_MIN_SLOPE = 0.001;
var SUBDIVISION_PRECISION = 0.0000001;
var SUBDIVISION_MAX_ITERATIONS = 10;
var kSplineTableSize = 11;
var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);
var float32ArraySupported = typeof Float32Array === 'function';
var A = function A(aA1, aA2) {
    return 1.0 - 3.0 * aA2 + 3.0 * aA1;
};
var B = function B(aA1, aA2) {
    return 3.0 * aA2 - 6.0 * aA1;
};
var C = function C(aA1) {
    return 3.0 * aA1;
};
// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.
var calcBezier = function calcBezier(aT, aA1, aA2) {
    return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;
};
// Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.
var getSlope = function getSlope(aT, aA1, aA2) {
    return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);
};
var binarySubdivide = function binarySubdivide(aX, aA, aB, mX1, mX2) {
    var currentX;
    var currentT;
    var i = 0;
    do {
        currentT = aA + (aB - aA) / 2.0;
        currentX = calcBezier(currentT, mX1, mX2) - aX;
        if (currentX > 0.0) aB = currentT;
        else aA = currentT;
    }while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS)
    return currentT;
};
var newtonRaphsonIterate = function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {
    for(var i = 0; i < NEWTON_ITERATIONS; ++i){
        var currentSlope = getSlope(aGuessT, mX1, mX2);
        if (currentSlope === 0.0) return aGuessT;
        var currentX = calcBezier(aGuessT, mX1, mX2) - aX;
        aGuessT -= currentX / currentSlope;
    }
    return aGuessT;
};
var bezier = function bezier(mX1, mY1, mX2, mY2) {
    if (!(mX1 >= 0 && mX1 <= 1 && mX2 >= 0 && mX2 <= 1)) throw new Error('bezier x values must be in [0, 1] range');
    if (mX1 === mY1 && mX2 === mY2) return function(t) {
        return t;
    };
    // Precompute samples table
    var sampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);
    for(var i = 0; i < kSplineTableSize; ++i){
        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);
    }
    var getTForX = function getTForX(aX) {
        var intervalStart = 0.0;
        var currentSample = 1;
        var lastSample = kSplineTableSize - 1;
        for(; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample)intervalStart += kSampleStepSize;
        --currentSample;
        // Interpolate to provide an initial guess for t
        var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);
        var guessForT = intervalStart + dist * kSampleStepSize;
        var initialSlope = getSlope(guessForT, mX1, mX2);
        if (initialSlope >= NEWTON_MIN_SLOPE) return newtonRaphsonIterate(aX, guessForT, mX1, mX2);
        if (initialSlope === 0.0) return guessForT;
        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);
    };
    return function(t) {
        // Because JavaScript number are imprecise, we should guarantee the extremes are right.
        if (t === 0 || t === 1) return t;
        return calcBezier(getTForX(t), mY1, mY2);
    };
};
var convertToDash = function convertToDash(str) {
    str = str.replace(/([A-Z])/g, function(letter) {
        return "-".concat(letter.toLowerCase());
    });
    // Remove first dash
    return str.charAt(0) === '-' ? str.substring(1) : str;
};
/**
  Easing Functions from anime.js, they are tried and true, so, its better to use them instead of other alternatives
*/ var Quad = function Quad(t) {
    return Math.pow(t, 2);
};
var Cubic = function Cubic(t) {
    return Math.pow(t, 3);
};
var Quart = function Quart(t) {
    return Math.pow(t, 4);
};
var Quint = function Quint(t) {
    return Math.pow(t, 5);
};
var Expo = function Expo(t) {
    return Math.pow(t, 6);
};
var Sine = function Sine(t) {
    return 1 - Math.cos(t * Math.PI / 2);
};
var Circ = function Circ(t) {
    return 1 - Math.sqrt(1 - t * t);
};
var Back = function Back(t) {
    return t * t * (3 * t - 2);
};
var Bounce = function Bounce(t) {
    var pow2;
    var b = 4;
    while(t < ((pow2 = Math.pow(2, --b)) - 1) / 11){}
    return 1 / Math.pow(4, 3 - b) - 7.5625 * Math.pow((pow2 * 3 - 2) / 22 - t, 2);
};
var Elastic = function Elastic(t) {
    var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
    var _params = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$slicedToArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(params, 2), _params$ = _params[0], amplitude = _params$ === void 0 ? 1 : _params$, _params$2 = _params[1], period = _params$2 === void 0 ? 0.5 : _params$2;
    var a = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$clamp$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__clamp$3e$__["clamp"])(Number(amplitude), 1, 10);
    var p = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$clamp$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__clamp$3e$__["clamp"])(Number(period), 0.1, 2);
    if (t === 0 || t === 1) return t;
    return -a * Math.pow(2, 10 * (t - 1)) * Math.sin((t - 1 - p / (Math.PI * 2) * Math.asin(1 / a)) * (Math.PI * 2) / p);
};
var Spring = function Spring(t) {
    var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
    var duration = arguments.length > 2 ? arguments[2] : undefined;
    var _params2 = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$slicedToArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(params, 4), _params2$ = _params2[0], mass = _params2$ === void 0 ? 1 : _params2$, _params2$2 = _params2[1], stiffness = _params2$2 === void 0 ? 100 : _params2$2, _params2$3 = _params2[2], damping = _params2$3 === void 0 ? 10 : _params2$3, _params2$4 = _params2[3], velocity = _params2$4 === void 0 ? 0 : _params2$4;
    mass = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$clamp$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__clamp$3e$__["clamp"])(mass, 0.1, 1000);
    stiffness = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$clamp$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__clamp$3e$__["clamp"])(stiffness, 0.1, 1000);
    damping = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$clamp$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__clamp$3e$__["clamp"])(damping, 0.1, 1000);
    velocity = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$clamp$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__clamp$3e$__["clamp"])(velocity, 0.1, 1000);
    var w0 = Math.sqrt(stiffness / mass);
    var zeta = damping / (2 * Math.sqrt(stiffness * mass));
    var wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;
    var a = 1;
    var b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;
    var progress = duration ? duration * t / 1000 : t;
    if (zeta < 1) {
        progress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));
    } else {
        progress = (a + b * progress) * Math.exp(-progress * w0);
    }
    if (t === 0 || t === 1) return t;
    return 1 - progress;
};
/**
 * Cache the durations at set easing parameters
 */ // export const EasingDurationCache: Map<string | TypeEasingFunction, number> = new Map();
/**
 * The threshold for an infinite loop
 */ // const INTINITE_LOOP_LIMIT = 10000;
/** Convert easing parameters to Array of numbers, e.g. "spring(2, 500)" to [2, 500] */ // export const parseEasingParameters = (str: string) => {
//   const match = /(\(|\s)([^)]+)\)?/.exec(str);
//   return match
//     ? match[2].split(',').map((value) => {
//         const num = parseFloat(value);
//         return !Number.isNaN(num) ? num : value.trim();
//       })
//     : [];
// };
/**
 * The spring easing function will only look smooth at certain durations, with certain parameters.
 * This functions returns the optimal duration to create a smooth springy animation based on physics
 *
 * Note: it can also be used to determine the optimal duration of other types of easing function, but be careful of 'in-'
 * easing functions, because of the nature of the function it can sometimes create an infinite loop, I suggest only using
 * `getEasingDuration` for `spring`, specifically 'out-spring' and 'spring'
 */ // export const getEasingDuration = (easing: string | TypeEasingFunction = 'spring') => {
//   if (EasingDurationCache.has(easing)) return EasingDurationCache.get(easing);
//   // eslint-disable-next-line @typescript-eslint/no-use-before-define
//   const easingFunction = typeof easing == 'function' ? easing : getEasingFunction(easing as string);
//   const params = typeof easing == 'function' ? [] : parseEasingParameters(easing);
//   const frame = 1 / 6;
//   let elapsed = 0;
//   let rest = 0;
//   let count = 0;
//   while (++count < INTINITE_LOOP_LIMIT) {
//     elapsed += frame;
//     if (easingFunction(elapsed, params, undefined) === 1) {
//       rest++;
//       if (rest >= 16) break;
//     } else {
//       rest = 0;
//     }
//   }
//   const duration = elapsed * frame * 1000;
//   EasingDurationCache.set(easing, duration);
//   return duration;
// };
/**
  These Easing Functions are based off of the Sozi Project's easing functions
  https://github.com/sozi-projects/Sozi/blob/d72e44ebd580dc7579d1e177406ad41e632f961d/src/js/player/Timing.js
*/ var Steps = function Steps(t) {
    var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
    var _ref = params, _ref2 = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$slicedToArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_ref, 2), _ref2$ = _ref2[0], steps = _ref2$ === void 0 ? 10 : _ref2$, type = _ref2[1];
    var trunc = type === 'start' ? Math.ceil : Math.floor;
    return trunc((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$clamp$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__clamp$3e$__["clamp"])(t, 0, 1) * steps) / steps;
};
// @ts-ignore
var Bezier = function Bezier(t) {
    var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
    var _params3 = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$slicedToArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(params, 4), mX1 = _params3[0], mY1 = _params3[1], mX2 = _params3[2], mY2 = _params3[3];
    return bezier(mX1, mY1, mX2, mY2)(t);
};
/** The default `ease-in` easing function */ var easein = bezier(0.42, 0.0, 1.0, 1.0);
/** Converts easing functions to their `out`counter parts */ var EaseOut = function EaseOut(ease) {
    return function(t) {
        var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
        var duration = arguments.length > 2 ? arguments[2] : undefined;
        return 1 - ease(1 - t, params, duration);
    };
};
/** Converts easing functions to their `in-out` counter parts */ var EaseInOut = function EaseInOut(ease) {
    return function(t) {
        var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
        var duration = arguments.length > 2 ? arguments[2] : undefined;
        return t < 0.5 ? ease(t * 2, params, duration) / 2 : 1 - ease(t * -2 + 2, params, duration) / 2;
    };
};
/** Converts easing functions to their `out-in` counter parts */ var EaseOutIn = function EaseOutIn(ease) {
    return function(t) {
        var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
        var duration = arguments.length > 2 ? arguments[2] : undefined;
        return t < 0.5 ? (1 - ease(1 - t * 2, params, duration)) / 2 : (ease(t * 2 - 1, params, duration) + 1) / 2;
    };
};
/**
 * The default list of easing functions, do note this is different from {@link EASING}
 */ var EasingFunctions = {
    steps: Steps,
    'step-start': function stepStart(t) {
        return Steps(t, [
            1,
            'start'
        ]);
    },
    'step-end': function stepEnd(t) {
        return Steps(t, [
            1,
            'end'
        ]);
    },
    linear: function linear(t) {
        return t;
    },
    'cubic-bezier': Bezier,
    ease: function ease(t) {
        return Bezier(t, [
            0.25,
            0.1,
            0.25,
            1.0
        ]);
    },
    "in": easein,
    out: EaseOut(easein),
    'in-out': EaseInOut(easein),
    'out-in': EaseOutIn(easein),
    'in-quad': Quad,
    'out-quad': EaseOut(Quad),
    'in-out-quad': EaseInOut(Quad),
    'out-in-quad': EaseOutIn(Quad),
    'in-cubic': Cubic,
    'out-cubic': EaseOut(Cubic),
    'in-out-cubic': EaseInOut(Cubic),
    'out-in-cubic': EaseOutIn(Cubic),
    'in-quart': Quart,
    'out-quart': EaseOut(Quart),
    'in-out-quart': EaseInOut(Quart),
    'out-in-quart': EaseOutIn(Quart),
    'in-quint': Quint,
    'out-quint': EaseOut(Quint),
    'in-out-quint': EaseInOut(Quint),
    'out-in-quint': EaseOutIn(Quint),
    'in-expo': Expo,
    'out-expo': EaseOut(Expo),
    'in-out-expo': EaseInOut(Expo),
    'out-in-expo': EaseOutIn(Expo),
    'in-sine': Sine,
    'out-sine': EaseOut(Sine),
    'in-out-sine': EaseInOut(Sine),
    'out-in-sine': EaseOutIn(Sine),
    'in-circ': Circ,
    'out-circ': EaseOut(Circ),
    'in-out-circ': EaseInOut(Circ),
    'out-in-circ': EaseOutIn(Circ),
    'in-back': Back,
    'out-back': EaseOut(Back),
    'in-out-back': EaseInOut(Back),
    'out-in-back': EaseOutIn(Back),
    'in-bounce': Bounce,
    'out-bounce': EaseOut(Bounce),
    'in-out-bounce': EaseInOut(Bounce),
    'out-in-bounce': EaseOutIn(Bounce),
    'in-elastic': Elastic,
    'out-elastic': EaseOut(Elastic),
    'in-out-elastic': EaseInOut(Elastic),
    'out-in-elastic': EaseOutIn(Elastic),
    spring: Spring,
    'spring-in': Spring,
    'spring-out': EaseOut(Spring),
    'spring-in-out': EaseInOut(Spring),
    'spring-out-in': EaseOutIn(Spring)
};
/**
 * Convert string easing to their proper form
 */ var complexEasingSyntax = function complexEasingSyntax(ease) {
    return convertToDash(ease).replace(/^ease-/, '') // Remove the "ease-" keyword
    .replace(/(\(|\s).+/, '') // Remove the function brackets and parameters
    .toLowerCase().trim();
};
/** Re-maps a number from one range to another. Numbers outside the range are not clamped to 0 and 1, because out-of-range values are often intentional and useful. */ var getEasingFunction = function getEasingFunction(ease) {
    return EasingFunctions[complexEasingSyntax(ease)] || EasingFunctions.linear;
};
// /**
//  * Allows you to register new easing functions
//  */
// export const registerEasingFunction = (key: string, fn: TypeEasingFunction) => {
//   Object.assign(EasingFunctions, {
//     [key]: fn,
//   });
// };
// /**
//  * Allows you to register multiple new easing functions
//  */
// export const registerEasingFunctions = (...obj: typeof EasingFunctions[]) => {
//   Object.assign(EasingFunctions, ...obj);
// };
var linear = function linear(x) {
    return x;
};
var Start = 1;
var Middle = 0.5;
var End = 0;
function step(count, pos) {
    return function(x) {
        if (x >= 1) {
            return 1;
        }
        var stepSize = 1 / count;
        x += pos * stepSize;
        return x - x % stepSize;
    };
}
var numberString = '\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*';
var cubicBezierRe = new RegExp("cubic-bezier\\(".concat(numberString, ",").concat(numberString, ",").concat(numberString, ",").concat(numberString, "\\)"));
var step1Re = /steps\(\s*(\d+)\s*\)/;
var step2Re = /steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;
function parseEasingFunction(normalizedEasing) {
    var cubicData = cubicBezierRe.exec(normalizedEasing);
    if (cubicData) {
        // @ts-ignore
        return bezier.apply(void 0, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$toConsumableArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(cubicData.slice(1).map(Number)));
    }
    var step1Data = step1Re.exec(normalizedEasing);
    if (step1Data) {
        return step(Number(step1Data[1]), End);
    }
    var step2Data = step2Re.exec(normalizedEasing);
    if (step2Data) {
        // @ts-ignore
        return step(Number(step2Data[1]), {
            start: Start,
            middle: Middle,
            end: End
        }[step2Data[2]]);
    }
    return getEasingFunction(normalizedEasing);
}
function calculateActiveDuration(timing) {
    // @ts-ignore
    return Math.abs(repeatedDuration(timing) / (timing.playbackRate || 1));
}
function repeatedDuration(timing) {
    var _timing$iterations;
    // https://drafts.csswg.org/web-animations/#calculating-the-active-duration
    if (timing.duration === 0 || timing.iterations === 0) {
        return 0;
    }
    // @see https://developer.mozilla.org/en-US/docs/Web/API/EffectTiming/duration#value
    // if (timing.duration === 'auto') {
    //   timing.duration = 0;
    // }
    return (timing.duration === 'auto' ? 0 : Number(timing.duration)) * ((_timing$iterations = timing.iterations) !== null && _timing$iterations !== void 0 ? _timing$iterations : 1);
}
var PhaseNone = 0;
var PhaseBefore = 1;
var PhaseAfter = 2;
var PhaseActive = 3;
function calculatePhase(activeDuration, localTime, timing) {
    // https://drafts.csswg.org/web-animations/#animation-effect-phases-and-states
    if (localTime === null) {
        return PhaseNone;
    }
    var endTime = timing.endTime;
    if (localTime < Math.min(timing.delay, endTime)) {
        return PhaseBefore;
    }
    if (localTime >= Math.min(timing.delay + activeDuration + timing.endDelay, endTime)) {
        return PhaseAfter;
    }
    return PhaseActive;
}
function calculateActiveTime(activeDuration, fillMode, localTime, phase, delay) {
    // https://drafts.csswg.org/web-animations/#calculating-the-active-time
    switch(phase){
        case PhaseBefore:
            if (fillMode === 'backwards' || fillMode === 'both') return 0;
            return null;
        case PhaseActive:
            return localTime - delay;
        case PhaseAfter:
            if (fillMode === 'forwards' || fillMode === 'both') return activeDuration;
            return null;
        case PhaseNone:
            return null;
    }
}
function calculateOverallProgress(iterationDuration, phase, iterations, activeTime, iterationStart) {
    // https://drafts.csswg.org/web-animations/#calculating-the-overall-progress
    var overallProgress = iterationStart;
    if (iterationDuration === 0) {
        if (phase !== PhaseBefore) {
            overallProgress += iterations;
        }
    } else {
        overallProgress += activeTime / iterationDuration;
    }
    return overallProgress;
}
function calculateSimpleIterationProgress(overallProgress, iterationStart, phase, iterations, activeTime, iterationDuration) {
    // https://drafts.csswg.org/web-animations/#calculating-the-simple-iteration-progress
    var simpleIterationProgress = overallProgress === Infinity ? iterationStart % 1 : overallProgress % 1;
    if (simpleIterationProgress === 0 && phase === PhaseAfter && iterations !== 0 && (activeTime !== 0 || iterationDuration === 0)) {
        simpleIterationProgress = 1;
    }
    return simpleIterationProgress;
}
function calculateCurrentIteration(phase, iterations, simpleIterationProgress, overallProgress) {
    // https://drafts.csswg.org/web-animations/#calculating-the-current-iteration
    if (phase === PhaseAfter && iterations === Infinity) {
        return Infinity;
    }
    if (simpleIterationProgress === 1) {
        return Math.floor(overallProgress) - 1;
    }
    return Math.floor(overallProgress);
}
function calculateDirectedProgress(playbackDirection, currentIteration, simpleIterationProgress) {
    // https://drafts.csswg.org/web-animations/#calculating-the-directed-progress
    var currentDirection = playbackDirection;
    if (playbackDirection !== 'normal' && playbackDirection !== 'reverse') {
        var d = currentIteration;
        if (playbackDirection === 'alternate-reverse') {
            d += 1;
        }
        currentDirection = 'normal';
        if (d !== Infinity && d % 2 !== 0) {
            currentDirection = 'reverse';
        }
    }
    if (currentDirection === 'normal') {
        return simpleIterationProgress;
    }
    return 1 - simpleIterationProgress;
}
function calculateIterationProgress(activeDuration, localTime, timing) {
    var phase = calculatePhase(activeDuration, localTime, timing);
    var activeTime = calculateActiveTime(activeDuration, timing.fill, localTime, phase, timing.delay);
    if (activeTime === null) return null;
    var duration = timing.duration === 'auto' ? 0 : timing.duration;
    var overallProgress = calculateOverallProgress(duration, phase, timing.iterations, activeTime, timing.iterationStart);
    var simpleIterationProgress = calculateSimpleIterationProgress(overallProgress, timing.iterationStart, phase, timing.iterations, activeTime, duration);
    var currentIteration = calculateCurrentIteration(phase, timing.iterations, simpleIterationProgress, overallProgress);
    var directedProgress = calculateDirectedProgress(timing.direction, currentIteration, simpleIterationProgress);
    timing.currentIteration = currentIteration;
    timing.progress = directedProgress;
    // https://drafts.csswg.org/web-animations/#calculating-the-transformed-progress
    // https://drafts.csswg.org/web-animations/#calculating-the-iteration-progress
    return timing.easingFunction(directedProgress);
}
function convertEffectInput(keyframes, timing, target) {
    var propertySpecificKeyframeGroups = makePropertySpecificKeyframeGroups(keyframes, timing);
    var interpolations = makeInterpolations(propertySpecificKeyframeGroups, target);
    return function(target, fraction) {
        if (fraction !== null) {
            interpolations.filter(function(interpolation) {
                return fraction >= interpolation.applyFrom && fraction < interpolation.applyTo;
            }).forEach(function(interpolation) {
                var offsetFraction = fraction - interpolation.startOffset;
                var localDuration = interpolation.endOffset - interpolation.startOffset;
                var scaledLocalTime = localDuration === 0 ? 0 : offsetFraction / localDuration;
                // apply updated attribute
                target.setAttribute(interpolation.property, interpolation.interpolation(scaledLocalTime), false, false // disable memoize
                );
            // if (interpolation.property === 'visibility') {
            //   console.log(
            //     scaledLocalTime,
            //     interpolation.interpolation(scaledLocalTime),
            //   );
            // }
            });
        } else {
            for(var property in propertySpecificKeyframeGroups)if (isNotReservedWord(property)) {
                // clear attribute
                target.setAttribute(property, null);
            }
        }
    };
}
function isNotReservedWord(member) {
    return member !== 'offset' && member !== 'easing' && member !== 'composite' && member !== 'computedOffset';
}
function makePropertySpecificKeyframeGroups(keyframes, timing) {
    var propertySpecificKeyframeGroups = {};
    for(var i = 0; i < keyframes.length; i++){
        for(var member in keyframes[i]){
            if (isNotReservedWord(member)) {
                var propertySpecificKeyframe = {
                    offset: keyframes[i].offset,
                    computedOffset: keyframes[i].computedOffset,
                    easing: keyframes[i].easing,
                    easingFunction: parseEasingFunction(keyframes[i].easing) || timing.easingFunction,
                    value: keyframes[i][member]
                };
                propertySpecificKeyframeGroups[member] = propertySpecificKeyframeGroups[member] || [];
                propertySpecificKeyframeGroups[member].push(propertySpecificKeyframe);
            }
        }
    }
    return propertySpecificKeyframeGroups;
}
function makeInterpolations(propertySpecificKeyframeGroups, target) {
    var interpolations = [];
    for(var groupName in propertySpecificKeyframeGroups){
        var keyframes = propertySpecificKeyframeGroups[groupName];
        for(var i = 0; i < keyframes.length - 1; i++){
            var startIndex = i;
            var endIndex = i + 1;
            var startOffset = keyframes[startIndex].computedOffset;
            var endOffset = keyframes[endIndex].computedOffset;
            var applyFrom = startOffset;
            var applyTo = endOffset;
            if (i === 0) {
                applyFrom = -Infinity;
                if (endOffset === 0) {
                    endIndex = startIndex;
                }
            }
            if (i === keyframes.length - 2) {
                applyTo = Infinity;
                if (startOffset === 1) {
                    startIndex = endIndex;
                }
            }
            interpolations.push({
                applyFrom: applyFrom,
                applyTo: applyTo,
                startOffset: keyframes[startIndex].computedOffset,
                endOffset: keyframes[endIndex].computedOffset,
                easingFunction: keyframes[startIndex].easingFunction,
                property: groupName,
                interpolation: propertyInterpolation(groupName, keyframes[startIndex].value, keyframes[endIndex].value, target)
            });
        }
    }
    interpolations.sort(function(leftInterpolation, rightInterpolation) {
        return leftInterpolation.startOffset - rightInterpolation.startOffset;
    });
    return interpolations;
}
var InterpolationFactory = function InterpolationFactory(from, to, convertToString) {
    return function(f) {
        var interpolated = interpolate(from, to, f);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$number$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNumber$3e$__["isNumber"])(interpolated) ? interpolated : convertToString(interpolated);
    };
};
function propertyInterpolation(property, left, right, target) {
    var metadata = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["propertyMetadataCache"][property];
    if (metadata && metadata.syntax && metadata["int"]) {
        var propertyHandler = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["runtime"].styleValueRegistry.getPropertySyntax(metadata.syntax);
        if (propertyHandler) {
            var parser = propertyHandler.parser;
            var usedLeft = parser ? parser(left, target) : left;
            var usedRight = parser ? parser(right, target) : right;
            // merger [left, right, n2string()]
            var interpolationArgs = propertyHandler.mixer(usedLeft, usedRight, target);
            if (interpolationArgs) {
                var interp = InterpolationFactory.apply(void 0, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$toConsumableArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(interpolationArgs));
                return function(t) {
                    if (t === 0) return left;
                    if (t === 1) return right;
                    return interp(t);
                };
            }
        }
    }
    // eslint-disable-next-line @typescript-eslint/no-use-before-define
    return InterpolationFactory(false, true, function(bool) {
        return bool ? right : left;
    });
}
/**
 * interpolate with number, boolean, number[], boolean[]
 */ function interpolate(from, to, f) {
    if (typeof from === 'number' && typeof to === 'number') {
        return from * (1 - f) + to * f;
    }
    if (typeof from === 'boolean' && typeof to === 'boolean' || typeof from === 'string' && typeof to === 'string' // skip string, eg. path ['M', 10, 10]
    ) {
        return f < 0.5 ? from : to;
    }
    if (Array.isArray(from) && Array.isArray(to)) {
        // interpolate arrays/matrix
        var fromLength = from.length;
        var toLength = to.length;
        var length = Math.max(fromLength, toLength);
        var r = [];
        for(var i = 0; i < length; i++){
            r.push(interpolate(from[i < fromLength ? i : fromLength - 1], to[i < toLength ? i : toLength - 1], f));
        }
        return r;
    }
    throw new Error("Mismatched interpolation arguments ".concat(from, ":").concat(to));
}
/**
 * @see https://developer.mozilla.org/en-US/docs/Web/API/EffectTiming
 */ var AnimationEffectTiming = /*#__PURE__*/ function() {
    function AnimationEffectTiming() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, AnimationEffectTiming);
        /**
     * @see https://developer.mozilla.org/en-US/docs/Web/API/EffectTiming/delay
     */ this.delay = 0;
        /**
     * @see https://developer.mozilla.org/en-US/docs/Web/API/EffectTiming/direction
     */ this.direction = 'normal';
        /**
     * @see https://developer.mozilla.org/en-US/docs/Web/API/EffectTiming/duration
     */ this.duration = 'auto';
        /**
     * @see https://developer.mozilla.org/en-US/docs/Web/API/EffectTiming/easing
     */ this._easing = 'linear';
        this.easingFunction = linear;
        /**
     * @see https://developer.mozilla.org/en-US/docs/Web/API/EffectTiming/endDelay
     */ this.endDelay = 0;
        /**
     * @see https://developer.mozilla.org/en-US/docs/Web/API/EffectTiming/fill
     */ this.fill = 'auto';
        /**
     * @see https://developer.mozilla.org/en-US/docs/Web/API/EffectTiming/iterationStart
     */ this.iterationStart = 0;
        /**
     * @see https://developer.mozilla.org/en-US/docs/Web/API/EffectTiming/iterations
     */ this.iterations = 1;
        this.currentIteration = null;
        this.progress = null;
    }
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(AnimationEffectTiming, [
        {
            key: "easing",
            get: function get() {
                return this._easing;
            },
            set: function set(value) {
                this.easingFunction = parseEasingFunction(value);
                this._easing = value;
            }
        }
    ]);
}();
/**
 * @example
  {
    translateY: [200, 300],
    scale: [1, 10],
  }

 * groups' length can be different, the following config should generate 3 frames:
  @example
  {
    translateY: [200, 300, 400],
    scale: [1, 10],
  }
 */ function convertToArrayForm(effectInput) {
    var normalizedEffectInput = [];
    for(var property in effectInput){
        // skip reserved props
        if (property in [
            'easing',
            'offset',
            'composite'
        ]) {
            continue;
        }
        // @ts-ignore
        var values = effectInput[property];
        if (!Array.isArray(values)) {
            values = [
                values
            ];
        }
        var numKeyframes = values.length;
        for(var i = 0; i < numKeyframes; i++){
            if (!normalizedEffectInput[i]) {
                var keyframe = {};
                if ('offset' in effectInput) {
                    keyframe.offset = Number(effectInput.offset);
                }
                if ('easing' in effectInput) {
                    // @ts-ignore
                    keyframe.easing = effectInput.easing;
                }
                if ('composite' in effectInput) {
                    // @ts-ignore
                    keyframe.composite = effectInput.composite;
                }
                normalizedEffectInput[i] = keyframe;
            }
            if (values[i] !== undefined && values[i] !== null) {
                normalizedEffectInput[i][property] = values[i];
            }
        }
    }
    normalizedEffectInput.sort(function(a, b) {
        return (a.computedOffset || 0) - (b.computedOffset || 0);
    });
    return normalizedEffectInput;
}
function normalizeKeyframes(effectInput, timing) {
    if (effectInput === null) {
        return [];
    }
    if (!Array.isArray(effectInput)) {
        effectInput = convertToArrayForm(effectInput);
    }
    var keyframes = effectInput.map(function(originalKeyframe) {
        var keyframe = {};
        if (timing !== null && timing !== void 0 && timing.composite) {
            // This will be auto if the composite operation specified on the effect is being used.
            // @see https://developer.mozilla.org/en-US/docs/Web/API/Web_Animations_API/Keyframe_Formats
            keyframe.composite = 'auto';
        }
        for(var member in originalKeyframe){
            var memberValue = originalKeyframe[member];
            if (member === 'offset') {
                if (memberValue !== null) {
                    memberValue = Number(memberValue);
                    if (!isFinite(memberValue)) throw new Error('Keyframe offsets must be numbers.');
                    if (memberValue < 0 || memberValue > 1) throw new Error('Keyframe offsets must be between 0 and 1.');
                    keyframe.computedOffset = memberValue;
                }
            } else if (member === 'composite') {
                // TODO: Support add & accumulate in KeyframeEffect.composite
                // @see https://developer.mozilla.org/en-US/docs/Web/API/KeyframeEffect/composite
                if ([
                    'replace',
                    'add',
                    'accumulate',
                    'auto'
                ].indexOf(memberValue) === -1) {
                    throw new Error("".concat(memberValue, " compositing is not supported"));
                }
            } else ;
            // assign to keyframe, no need to parse shorthand value
            keyframe[member] = memberValue;
        }
        if (keyframe.offset === undefined) {
            keyframe.offset = null;
        }
        if (keyframe.easing === undefined) {
            // override with timing.easing
            keyframe.easing = (timing === null || timing === void 0 ? void 0 : timing.easing) || 'linear';
        }
        if (keyframe.composite === undefined) {
            keyframe.composite = 'auto';
        }
        return keyframe;
    });
    var everyFrameHasOffset = true;
    var previousOffset = -Infinity;
    for(var i = 0; i < keyframes.length; i++){
        var offset = keyframes[i].offset;
        if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__["isNil"])(offset)) {
            if (offset < previousOffset) {
                throw new TypeError('Keyframes are not loosely sorted by offset. Sort or specify offsets.');
            }
            previousOffset = offset;
        } else {
            everyFrameHasOffset = false;
        }
    }
    keyframes = keyframes.filter(function(keyframe) {
        return Number(keyframe.offset) >= 0 && Number(keyframe.offset) <= 1;
    });
    function spaceKeyframes() {
        var _keyframes$offset;
        var _keyframes = keyframes, length = _keyframes.length;
        keyframes[length - 1].computedOffset = Number((_keyframes$offset = keyframes[length - 1].offset) !== null && _keyframes$offset !== void 0 ? _keyframes$offset : 1);
        if (length > 1) {
            var _keyframes$0$offset;
            keyframes[0].computedOffset = Number((_keyframes$0$offset = keyframes[0].offset) !== null && _keyframes$0$offset !== void 0 ? _keyframes$0$offset : 0);
        }
        var previousIndex = 0;
        var previousOffset = Number(keyframes[0].computedOffset);
        for(var _i = 1; _i < length; _i++){
            var _offset = keyframes[_i].computedOffset;
            if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__["isNil"])(_offset) && !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__["isNil"])(previousOffset)) {
                for(var j = 1; j < _i - previousIndex; j++)keyframes[previousIndex + j].computedOffset = previousOffset + (Number(_offset) - previousOffset) * j / (_i - previousIndex);
                previousIndex = _i;
                previousOffset = Number(_offset);
            }
        }
    }
    if (!everyFrameHasOffset) spaceKeyframes();
    return keyframes;
}
var fills = 'backwards|forwards|both|none'.split('|');
var directions = 'reverse|alternate|alternate-reverse'.split('|');
function makeTiming(timingInput, forGroup) {
    var timing = new AnimationEffectTiming();
    if (forGroup) {
        timing.fill = 'both';
        timing.duration = 'auto';
    }
    if (typeof timingInput === 'number' && !isNaN(timingInput)) {
        timing.duration = timingInput;
    } else if (timingInput !== undefined) {
        Object.keys(timingInput).forEach(function(property) {
            if (timingInput[property] !== undefined && timingInput[property] !== null && timingInput[property] !== 'auto') {
                if (typeof timing[property] === 'number' || property === 'duration') {
                    if (typeof timingInput[property] !== 'number' || isNaN(timingInput[property])) {
                        return;
                    }
                }
                if (property === 'fill' && fills.indexOf(timingInput[property]) === -1) {
                    return;
                }
                if (property === 'direction' && directions.indexOf(timingInput[property]) === -1) {
                    return;
                }
                // @ts-ignore
                timing[property] = timingInput[property];
            }
        });
    }
    return timing;
}
function normalizeTimingInput(timingInput, forGroup) {
    timingInput = numericTimingToObject(timingInput !== null && timingInput !== void 0 ? timingInput : {
        duration: 'auto'
    });
    return makeTiming(timingInput, forGroup);
}
function numericTimingToObject(timingInput) {
    if (typeof timingInput === 'number') {
        if (isNaN(timingInput)) {
            timingInput = {
                duration: 'auto'
            };
        } else {
            timingInput = {
                duration: timingInput
            };
        }
    }
    return timingInput;
}
/**
 * @see https://developer.mozilla.org/en-US/docs/Web/API/KeyframeEffect
 * @example
  const circleDownKeyframes = new KeyframeEffect(
    circle, // element to animate
    [
      { transform: 'translateY(0)' }, // keyframe
      { transform: 'translateY(100)' } // keyframe
    ],
    { duration: 3000, fill: 'forwards' } // keyframe options
  );
 *
 */ var KeyframeEffect = /*#__PURE__*/ function() {
    // pseudoElement: string | null;
    function KeyframeEffect(target, effectInput, timingInput) {
        var _this = this;
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, KeyframeEffect);
        this.composite = 'replace';
        this.iterationComposite = 'replace';
        this.target = target;
        this.timing = normalizeTimingInput(timingInput, false);
        this.timing.effect = this;
        this.timing.activeDuration = calculateActiveDuration(this.timing);
        this.timing.endTime = Math.max(0, this.timing.delay + this.timing.activeDuration + this.timing.endDelay);
        this.normalizedKeyframes = normalizeKeyframes(effectInput, this.timing);
        this.interpolations = convertEffectInput(this.normalizedKeyframes, this.timing, this.target);
        // 不支持 proxy 时降级成 this.timing
        var Proxy = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["runtime"].globalThis.Proxy;
        this.computedTiming = Proxy ? new Proxy(this.timing, {
            get: function get(target, prop) {
                if (prop === 'duration') {
                    return target.duration === 'auto' ? 0 : target.duration;
                }
                if (prop === 'fill') {
                    return target.fill === 'auto' ? 'none' : target.fill;
                }
                if (prop === 'localTime') {
                    return _this.animation && _this.animation.currentTime || null;
                }
                if (prop === 'currentIteration') {
                    if (!_this.animation || _this.animation.playState !== 'running') {
                        return null;
                    }
                    return target.currentIteration || 0;
                }
                if (prop === 'progress') {
                    if (!_this.animation || _this.animation.playState !== 'running') {
                        return null;
                    }
                    return target.progress || 0;
                }
                return target[prop];
            },
            set: function set() {
                return true;
            }
        }) : this.timing;
    }
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(KeyframeEffect, [
        {
            key: "applyInterpolations",
            value: function applyInterpolations() {
                this.interpolations(this.target, Number(this.timeFraction));
            }
        },
        {
            key: "update",
            value: function update(localTime) {
                if (localTime === null) {
                    return false;
                }
                this.timeFraction = calculateIterationProgress(this.timing.activeDuration, localTime, this.timing);
                return this.timeFraction !== null;
            }
        },
        {
            key: "getKeyframes",
            value: function getKeyframes() {
                return this.normalizedKeyframes;
            }
        },
        {
            key: "setKeyframes",
            value: function setKeyframes(keyframes) {
                this.normalizedKeyframes = normalizeKeyframes(keyframes);
            }
        },
        {
            key: "getComputedTiming",
            value: function getComputedTiming() {
                return this.computedTiming;
            }
        },
        {
            key: "getTiming",
            value: function getTiming() {
                return this.timing;
            }
        },
        {
            key: "updateTiming",
            value: function updateTiming(timing) {
                var _this2 = this;
                Object.keys(timing || {}).forEach(function(name) {
                    _this2.timing[name] = timing[name];
                });
            }
        }
    ]);
}();
function compareAnimations(leftAnimation, rightAnimation) {
    return Number(leftAnimation.id) - Number(rightAnimation.id);
}
/**
 * @see https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/web-animations-js/index.d.ts
 */ var AnimationTimeline = /*#__PURE__*/ function() {
    function AnimationTimeline(document) {
        var _this = this;
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, AnimationTimeline);
        /**
     * all active animations
     */ this.animations = [];
        this.ticking = false;
        this.timelineTicking = false;
        this.hasRestartedThisFrame = false;
        this.animationsWithPromises = [];
        this.inTick = false;
        this.pendingEffects = [];
        this.currentTime = null;
        this.rafId = 0;
        this.rafCallbacks = [];
        this.webAnimationsNextTick = function(t) {
            _this.currentTime = t;
            _this.discardAnimations();
            if (_this.animations.length === 0) {
                _this.timelineTicking = false;
            } else {
                _this.requestAnimationFrame(_this.webAnimationsNextTick);
            }
        };
        this.processRafCallbacks = function(t) {
            var processing = _this.rafCallbacks;
            _this.rafCallbacks = [];
            if (t < Number(_this.currentTime)) t = Number(_this.currentTime);
            _this.animations.sort(compareAnimations);
            _this.animations = _this.tick(t, true, _this.animations)[0];
            processing.forEach(function(entry) {
                entry[1](t);
            });
            _this.applyPendingEffects();
        };
        this.document = document;
    }
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(AnimationTimeline, [
        {
            key: "getAnimations",
            value: function getAnimations() {
                this.discardAnimations();
                return this.animations.slice();
            }
        },
        {
            key: "isTicking",
            value: function isTicking() {
                return this.inTick;
            }
        },
        {
            key: "play",
            value: function play(target, keyframes, options) {
                var effect = new KeyframeEffect(target, keyframes, options);
                var animation = new Animation(effect, this);
                this.animations.push(animation);
                this.restartWebAnimationsNextTick();
                animation.updatePromises();
                animation.play();
                animation.updatePromises();
                return animation;
            }
        },
        {
            key: "applyDirtiedAnimation",
            value: function applyDirtiedAnimation(animation) {
                var _this2 = this;
                if (this.inTick) {
                    return;
                }
                // update active animations in displayobject
                animation.markTarget();
                var animations = animation.targetAnimations();
                animations.sort(compareAnimations);
                // clear inactive animations
                var inactiveAnimations = this.tick(Number(this.currentTime), false, animations.slice())[1];
                inactiveAnimations.forEach(function(animation) {
                    var index = _this2.animations.indexOf(animation);
                    if (index !== -1) {
                        _this2.animations.splice(index, 1);
                    }
                });
                this.applyPendingEffects();
            }
        },
        {
            key: "restart",
            value: function restart() {
                if (!this.ticking) {
                    this.ticking = true;
                    this.requestAnimationFrame(function() {});
                    this.hasRestartedThisFrame = true;
                }
                return this.hasRestartedThisFrame;
            }
        },
        {
            key: "destroy",
            value: function destroy() {
                this.document.defaultView.cancelAnimationFrame(this.frameId);
            }
        },
        {
            key: "applyPendingEffects",
            value: function applyPendingEffects() {
                this.pendingEffects.forEach(function(effect) {
                    effect === null || effect === void 0 || effect.applyInterpolations();
                });
                this.pendingEffects = [];
            }
        },
        {
            key: "updateAnimationsPromises",
            value: function updateAnimationsPromises() {
                this.animationsWithPromises = this.animationsWithPromises.filter(function(animation) {
                    return animation.updatePromises();
                });
            }
        },
        {
            key: "discardAnimations",
            value: function discardAnimations() {
                this.updateAnimationsPromises();
                this.animations = this.animations.filter(function(animation) {
                    return animation.playState !== 'finished' && animation.playState !== 'idle';
                });
            }
        },
        {
            key: "restartWebAnimationsNextTick",
            value: function restartWebAnimationsNextTick() {
                if (!this.timelineTicking) {
                    this.timelineTicking = true;
                    this.requestAnimationFrame(this.webAnimationsNextTick);
                }
            }
        },
        {
            key: "rAF",
            value: function rAF(f) {
                var id = this.rafId++;
                if (this.rafCallbacks.length === 0) {
                    this.frameId = this.document.defaultView.requestAnimationFrame(this.processRafCallbacks);
                }
                this.rafCallbacks.push([
                    id,
                    f
                ]);
                return id;
            }
        },
        {
            key: "requestAnimationFrame",
            value: function requestAnimationFrame(f) {
                var _this3 = this;
                return this.rAF(function(x) {
                    _this3.updateAnimationsPromises();
                    f(x);
                    _this3.updateAnimationsPromises();
                });
            }
        },
        {
            key: "tick",
            value: function tick(t, isAnimationFrame, updatingAnimations) {
                var _this4 = this, _this$pendingEffects, _this$pendingEffects2;
                this.inTick = true;
                this.hasRestartedThisFrame = false;
                this.currentTime = t;
                this.ticking = false;
                var newPendingClears = [];
                var newPendingEffects = [];
                var activeAnimations = [];
                var inactiveAnimations = [];
                updatingAnimations.forEach(function(animation) {
                    animation.tick(t, isAnimationFrame);
                    if (!animation._inEffect) {
                        newPendingClears.push(animation.effect);
                        animation.unmarkTarget();
                    } else {
                        newPendingEffects.push(animation.effect);
                        animation.markTarget();
                    }
                    if (animation._needsTick) _this4.ticking = true;
                    var alive = animation._inEffect || animation._needsTick;
                    animation._inTimeline = alive;
                    if (alive) {
                        activeAnimations.push(animation);
                    } else {
                        inactiveAnimations.push(animation);
                    }
                });
                (_this$pendingEffects = this.pendingEffects).push.apply(_this$pendingEffects, newPendingClears);
                (_this$pendingEffects2 = this.pendingEffects).push.apply(_this$pendingEffects2, newPendingEffects);
                if (this.ticking) this.requestAnimationFrame(function() {});
                this.inTick = false;
                return [
                    activeAnimations,
                    inactiveAnimations
                ];
            }
        }
    ]);
}();
__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["runtime"].EasingFunction = parseEasingFunction;
__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["runtime"].AnimationTimeline = AnimationTimeline;
;
 //# sourceMappingURL=index.esm.js.map
}}),
"[project]/node_modules/@antv/g/dist/index.esm.js [app-ssr] (ecmascript) <locals>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
/*!
 * @antv/g
 * @description A core module for rendering engine implements DOM API.
 * @version 6.1.28
 * @date 7/30/2025, 1:36:29 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */ __turbopack_esm__({});
;
;
;
;
 //# sourceMappingURL=index.esm.js.map
}}),
"[project]/node_modules/@antv/g/dist/index.esm.js [app-ssr] (ecmascript) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$camera$2d$api$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-camera-api/dist/index.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$dom$2d$mutation$2d$observer$2d$api$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-dom-mutation-observer-api/dist/index.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-lite/dist/index.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$web$2d$animations$2d$api$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-web-animations-api/dist/index.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@antv/g/dist/index.esm.js [app-ssr] (ecmascript) <locals>");
}}),
"[project]/node_modules/@antv/g-plugin-canvas-path-generator/dist/index.esm.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
/*!
 * @antv/g-plugin-canvas-path-generator
 * @description A G plugin of path generator with Canvas2D API
 * @version 2.1.22
 * @date 7/30/2025, 1:35:25 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */ __turbopack_esm__({
    "Plugin": (()=>Plugin)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/defineProperty.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/classCallCheck.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/createClass.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$callSuper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/callSuper.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$inherits$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/inherits.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-lite/dist/index.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$slicedToArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/slicedToArray.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$clamp$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__clamp$3e$__ = __turbopack_import__("[project]/node_modules/@antv/util/esm/lodash/clamp.js [app-ssr] (ecmascript) <export default as clamp>");
;
;
;
;
;
;
;
;
function generatePath$6(context, parsedStyle) {
    var _parsedStyle$cx = parsedStyle.cx, cx = _parsedStyle$cx === void 0 ? 0 : _parsedStyle$cx, _parsedStyle$cy = parsedStyle.cy, cy = _parsedStyle$cy === void 0 ? 0 : _parsedStyle$cy, r = parsedStyle.r;
    context.arc(cx, cy, r, 0, Math.PI * 2, false);
}
function generatePath$5(context, parsedStyle) {
    var _parsedStyle$cx = parsedStyle.cx, cx = _parsedStyle$cx === void 0 ? 0 : _parsedStyle$cx, _parsedStyle$cy = parsedStyle.cy, cy = _parsedStyle$cy === void 0 ? 0 : _parsedStyle$cy, rx = parsedStyle.rx, ry = parsedStyle.ry;
    // @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/ellipse
    if (context.ellipse) {
        context.ellipse(cx, cy, rx, ry, 0, 0, Math.PI * 2, false);
    } else {
        // 如果不支持，则使用圆来绘制，进行变形
        var r = rx > ry ? rx : ry;
        var scaleX = rx > ry ? 1 : rx / ry;
        var scaleY = rx > ry ? ry / rx : 1;
        context.save();
        context.scale(scaleX, scaleY);
        context.arc(cx, cy, r, 0, Math.PI * 2);
    }
}
function generatePath$4(context, parsedStyle) {
    var x1 = parsedStyle.x1, y1 = parsedStyle.y1, x2 = parsedStyle.x2, y2 = parsedStyle.y2, markerStart = parsedStyle.markerStart, markerEnd = parsedStyle.markerEnd, markerStartOffset = parsedStyle.markerStartOffset, markerEndOffset = parsedStyle.markerEndOffset;
    var startOffsetX = 0;
    var startOffsetY = 0;
    var endOffsetX = 0;
    var endOffsetY = 0;
    var rad = 0;
    var x;
    var y;
    if (markerStart && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isDisplayObject"])(markerStart) && markerStartOffset) {
        x = x2 - x1;
        y = y2 - y1;
        rad = Math.atan2(y, x);
        startOffsetX = Math.cos(rad) * (markerStartOffset || 0);
        startOffsetY = Math.sin(rad) * (markerStartOffset || 0);
    }
    if (markerEnd && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isDisplayObject"])(markerEnd) && markerEndOffset) {
        x = x1 - x2;
        y = y1 - y2;
        rad = Math.atan2(y, x);
        endOffsetX = Math.cos(rad) * (markerEndOffset || 0);
        endOffsetY = Math.sin(rad) * (markerEndOffset || 0);
    }
    context.moveTo(x1 + startOffsetX, y1 + startOffsetY);
    context.lineTo(x2 + endOffsetX, y2 + endOffsetY);
}
function generatePath$3(context, parsedStyle) {
    var markerStart = parsedStyle.markerStart, markerEnd = parsedStyle.markerEnd, markerStartOffset = parsedStyle.markerStartOffset, markerEndOffset = parsedStyle.markerEndOffset;
    var _parsedStyle$d = parsedStyle.d, absolutePath = _parsedStyle$d.absolutePath, segments = _parsedStyle$d.segments;
    var startOffsetX = 0;
    var startOffsetY = 0;
    var endOffsetX = 0;
    var endOffsetY = 0;
    var rad = 0;
    var x;
    var y;
    if (markerStart && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isDisplayObject"])(markerStart) && markerStartOffset) {
        var _getStartTangent = markerStart.parentNode.getStartTangent(), _getStartTangent2 = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$slicedToArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_getStartTangent, 2), p1 = _getStartTangent2[0], p2 = _getStartTangent2[1];
        x = p1[0] - p2[0];
        y = p1[1] - p2[1];
        rad = Math.atan2(y, x);
        startOffsetX = Math.cos(rad) * (markerStartOffset || 0);
        startOffsetY = Math.sin(rad) * (markerStartOffset || 0);
    }
    if (markerEnd && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isDisplayObject"])(markerEnd) && markerEndOffset) {
        var _getEndTangent = markerEnd.parentNode.getEndTangent(), _getEndTangent2 = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$slicedToArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_getEndTangent, 2), _p = _getEndTangent2[0], _p2 = _getEndTangent2[1];
        x = _p[0] - _p2[0];
        y = _p[1] - _p2[1];
        rad = Math.atan2(y, x);
        endOffsetX = Math.cos(rad) * (markerEndOffset || 0);
        endOffsetY = Math.sin(rad) * (markerEndOffset || 0);
    }
    for(var i = 0; i < absolutePath.length; i++){
        var params = absolutePath[i];
        var command = params[0];
        var nextSegment = absolutePath[i + 1];
        var useStartOffset = i === 0 && (startOffsetX !== 0 || startOffsetY !== 0);
        var useEndOffset = (i === absolutePath.length - 1 || nextSegment && (nextSegment[0] === 'M' || nextSegment[0] === 'Z')) && endOffsetX !== 0 && endOffsetY !== 0;
        var _ref = useStartOffset ? [
            startOffsetX,
            startOffsetY
        ] : [
            0,
            0
        ], _ref2 = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$slicedToArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_ref, 2), startOffsetXTemp = _ref2[0], startOffsetYTemp = _ref2[1];
        var _ref3 = useEndOffset ? [
            endOffsetX,
            endOffsetY
        ] : [
            0,
            0
        ], _ref4 = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$slicedToArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_ref3, 2), endOffsetXTemp = _ref4[0], endOffsetYTemp = _ref4[1];
        switch(command){
            case 'M':
                // Use start marker offset
                context.moveTo(params[1] + startOffsetXTemp, params[2] + startOffsetYTemp);
                break;
            case 'L':
                context.lineTo(params[1] + endOffsetXTemp, params[2] + endOffsetYTemp);
                break;
            case 'Q':
                context.quadraticCurveTo(params[1], params[2], params[3] + endOffsetXTemp, params[4] + endOffsetYTemp);
                break;
            case 'C':
                context.bezierCurveTo(params[1], params[2], params[3], params[4], params[5] + endOffsetXTemp, params[6] + endOffsetYTemp);
                break;
            case 'A':
                {
                    // FIXME startOffset / endOffset
                    var arcParams = segments[i].arcParams;
                    var cx = arcParams.cx, cy = arcParams.cy, rx = arcParams.rx, ry = arcParams.ry, startAngle = arcParams.startAngle, endAngle = arcParams.endAngle, xRotation = arcParams.xRotation, sweepFlag = arcParams.sweepFlag;
                    // @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/ellipse
                    if (context.ellipse) {
                        context.ellipse(cx, cy, rx, ry, xRotation, startAngle, endAngle, !!(1 - sweepFlag));
                    } else {
                        // @see https://stackoverflow.com/a/47494351
                        var r = rx > ry ? rx : ry;
                        var scaleX = rx > ry ? 1 : rx / ry;
                        var scaleY = rx > ry ? ry / rx : 1;
                        context.translate(cx, cy);
                        context.rotate(xRotation);
                        context.scale(scaleX, scaleY);
                        context.arc(0, 0, r, startAngle, endAngle, !!(1 - sweepFlag));
                        context.scale(1 / scaleX, 1 / scaleY);
                        context.rotate(-xRotation);
                        context.translate(-cx, -cy);
                    }
                    if (useEndOffset) {
                        context.lineTo(params[6] + endOffsetX, params[7] + endOffsetY);
                    }
                    break;
                }
            case 'Z':
                context.closePath();
                break;
        }
    }
}
function generatePath$2(context, parsedStyle) {
    var markerStart = parsedStyle.markerStart, markerEnd = parsedStyle.markerEnd, markerStartOffset = parsedStyle.markerStartOffset, markerEndOffset = parsedStyle.markerEndOffset;
    var points = parsedStyle.points.points;
    var length = points.length;
    var x1 = points[0][0];
    var y1 = points[0][1];
    var x2 = points[length - 1][0];
    var y2 = points[length - 1][1];
    var startOffsetX = 0;
    var startOffsetY = 0;
    var endOffsetX = 0;
    var endOffsetY = 0;
    var rad = 0;
    var x;
    var y;
    if (markerStart && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isDisplayObject"])(markerStart) && markerStartOffset) {
        x = points[1][0] - points[0][0];
        y = points[1][1] - points[0][1];
        rad = Math.atan2(y, x);
        startOffsetX = Math.cos(rad) * (markerStartOffset || 0);
        startOffsetY = Math.sin(rad) * (markerStartOffset || 0);
    }
    if (markerEnd && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isDisplayObject"])(markerEnd) && markerEndOffset) {
        x = points[length - 1][0] - points[0][0];
        y = points[length - 1][1] - points[0][1];
        rad = Math.atan2(y, x);
        endOffsetX = Math.cos(rad) * (markerEndOffset || 0);
        endOffsetY = Math.sin(rad) * (markerEndOffset || 0);
    }
    context.moveTo(x1 + (startOffsetX || endOffsetX), y1 + (startOffsetY || endOffsetY));
    for(var i = 1; i < length - 1; i++){
        var point = points[i];
        context.lineTo(point[0], point[1]);
    }
    context.lineTo(x2, y2);
}
function generatePath$1(context, parsedStyle) {
    var markerStart = parsedStyle.markerStart, markerEnd = parsedStyle.markerEnd, markerStartOffset = parsedStyle.markerStartOffset, markerEndOffset = parsedStyle.markerEndOffset;
    var points = parsedStyle.points.points;
    var length = points.length;
    var x1 = points[0][0];
    var y1 = points[0][1];
    var x2 = points[length - 1][0];
    var y2 = points[length - 1][1];
    var startOffsetX = 0;
    var startOffsetY = 0;
    var endOffsetX = 0;
    var endOffsetY = 0;
    var rad = 0;
    var x;
    var y;
    if (markerStart && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isDisplayObject"])(markerStart) && markerStartOffset) {
        x = points[1][0] - points[0][0];
        y = points[1][1] - points[0][1];
        rad = Math.atan2(y, x);
        startOffsetX = Math.cos(rad) * (markerStartOffset || 0);
        startOffsetY = Math.sin(rad) * (markerStartOffset || 0);
    }
    if (markerEnd && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isDisplayObject"])(markerEnd) && markerEndOffset) {
        x = points[length - 2][0] - points[length - 1][0];
        y = points[length - 2][1] - points[length - 1][1];
        rad = Math.atan2(y, x);
        endOffsetX = Math.cos(rad) * (markerEndOffset || 0);
        endOffsetY = Math.sin(rad) * (markerEndOffset || 0);
    }
    context.moveTo(x1 + startOffsetX, y1 + startOffsetY);
    for(var i = 1; i < length - 1; i++){
        var point = points[i];
        context.lineTo(point[0], point[1]);
    }
    context.lineTo(x2 + endOffsetX, y2 + endOffsetY);
}
function generatePath(context, parsedStyle) {
    var _parsedStyle$x = parsedStyle.x, x = _parsedStyle$x === void 0 ? 0 : _parsedStyle$x, _parsedStyle$y = parsedStyle.y, y = _parsedStyle$y === void 0 ? 0 : _parsedStyle$y, radius = parsedStyle.radius, width = parsedStyle.width, height = parsedStyle.height;
    var w = width;
    var h = height;
    var hasRadius = radius && radius.some(function(r) {
        return r !== 0;
    });
    if (!hasRadius) {
        // Canvas support negative width/height of rect
        context.rect(x, y, w, h);
    } else {
        var signX = width > 0 ? 1 : -1;
        var signY = height > 0 ? 1 : -1;
        var sweepFlag = signX + signY === 0;
        var _radius$map = radius.map(function(r) {
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$clamp$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__clamp$3e$__["clamp"])(r, 0, Math.min(Math.abs(w) / 2, Math.abs(h) / 2));
        }), _radius$map2 = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$slicedToArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_radius$map, 4), tlr = _radius$map2[0], trr = _radius$map2[1], brr = _radius$map2[2], blr = _radius$map2[3];
        context.moveTo(signX * tlr + x, y);
        context.lineTo(w - signX * trr + x, y);
        if (trr !== 0) {
            context.arc(w - signX * trr + x, signY * trr + y, trr, -signY * Math.PI / 2, signX > 0 ? 0 : Math.PI, sweepFlag);
        }
        context.lineTo(w + x, h - signY * brr + y);
        if (brr !== 0) {
            context.arc(w - signX * brr + x, h - signY * brr + y, brr, signX > 0 ? 0 : Math.PI, signY > 0 ? Math.PI / 2 : 1.5 * Math.PI, sweepFlag);
        }
        context.lineTo(signX * blr + x, h + y);
        if (blr !== 0) {
            context.arc(signX * blr + x, h - signY * blr + y, blr, signY > 0 ? Math.PI / 2 : -Math.PI / 2, signX > 0 ? Math.PI : 0, sweepFlag);
        }
        context.lineTo(x, signY * tlr + y);
        if (tlr !== 0) {
            context.arc(signX * tlr + x, signY * tlr + y, tlr, signX > 0 ? Math.PI : 0, signY > 0 ? Math.PI * 1.5 : Math.PI / 2, sweepFlag);
        }
    }
}
var Plugin = /*#__PURE__*/ function(_AbstractRendererPlug) {
    function Plugin() {
        var _this;
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, Plugin);
        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){
            args[_key] = arguments[_key];
        }
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$callSuper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, Plugin, [].concat(args));
        _this.name = 'canvas-path-generator';
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$inherits$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(Plugin, _AbstractRendererPlug);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(Plugin, [
        {
            key: "init",
            value: function init() {
                var _pathGeneratorFactory;
                var pathGeneratorFactory = (_pathGeneratorFactory = {}, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_pathGeneratorFactory, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].CIRCLE, generatePath$6), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].ELLIPSE, generatePath$5), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].RECT, generatePath), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].LINE, generatePath$4), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].POLYLINE, generatePath$1), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].POLYGON, generatePath$2), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].PATH, generatePath$3), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].TEXT, undefined), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].GROUP, undefined), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].IMAGE, undefined), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_pathGeneratorFactory, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].HTML, undefined), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].MESH, undefined), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].FRAGMENT, undefined));
                // @ts-ignore
                this.context.pathGeneratorFactory = pathGeneratorFactory;
            }
        },
        {
            key: "destroy",
            value: function destroy() {
                // @ts-ignore
                delete this.context.pathGeneratorFactory;
            }
        }
    ]);
}(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AbstractRendererPlugin"]);
;
 //# sourceMappingURL=index.esm.js.map
}}),
"[project]/node_modules/@antv/g-plugin-canvas-picker/dist/index.esm.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
/*!
 * @antv/g-plugin-canvas-picker
 * @description A G plugin for picking in canvas
 * @version 2.1.27
 * @date 7/30/2025, 1:37:32 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */ __turbopack_esm__({
    "Plugin": (()=>Plugin)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/defineProperty.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/classCallCheck.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/createClass.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$callSuper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/callSuper.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$inherits$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/inherits.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-lite/dist/index.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createForOfIteratorHelper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$regeneratorRuntime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/regeneratorRuntime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$asyncToGenerator$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/asyncToGenerator.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$slicedToArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/slicedToArray.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$math$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-math/dist/index.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/objectSpread2.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__ = __turbopack_import__("[project]/node_modules/gl-matrix/esm/vec3.js [app-ssr] (ecmascript) <export * as vec3>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__ = __turbopack_import__("[project]/node_modules/gl-matrix/esm/mat4.js [app-ssr] (ecmascript) <export * as mat4>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$path$2f$process$2f$arc$2d$2$2d$cubic$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/util/esm/path/process/arc-2-cubic.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$clamp$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__clamp$3e$__ = __turbopack_import__("[project]/node_modules/@antv/util/esm/lodash/clamp.js [app-ssr] (ecmascript) <export default as clamp>");
;
;
;
;
;
;
;
;
;
;
;
;
;
;
var tmpVec3a = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].create();
var tmpVec3b = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].create();
var tmpVec3c = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].create();
var tmpMat4 = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].create();
/**
 * pick shape(s) with Mouse/Touch event
 *
 * 1. find AABB with r-tree
 * 2. do math calculation with geometry in an accurate way
 */ var CanvasPickerPlugin = /*#__PURE__*/ function() {
    function CanvasPickerPlugin() {
        var _this = this;
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, CanvasPickerPlugin);
        this.isHit = function(displayObject, position, worldTransform, isClipPath) {
            // use picker for current shape's type
            var pick = _this.context.pointInPathPickerFactory[displayObject.nodeName];
            if (pick) {
                // invert with world matrix
                var invertWorldMat = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].invert(tmpMat4, worldTransform);
                // transform client position to local space, do picking in local space
                var localPosition = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].transformMat4(tmpVec3b, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].set(tmpVec3c, position[0], position[1], 0), invertWorldMat);
                if (pick(displayObject, new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Point"](localPosition[0], localPosition[1]), isClipPath, _this.isPointInPath, _this.context, _this.runtime)) {
                    return true;
                }
            }
            return false;
        };
        /**
     * use native picking method
     * @see https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/isPointInPath
     */ this.isPointInPath = function(displayObject, position) {
            var context = _this.runtime.offscreenCanvasCreator.getOrCreateContext(_this.context.config.offscreenCanvas);
            var generatePath = _this.context.pathGeneratorFactory[displayObject.nodeName];
            if (generatePath) {
                context.beginPath();
                generatePath(context, displayObject.parsedStyle);
                context.closePath();
            }
            return context.isPointInPath(position.x, position.y);
        };
    }
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(CanvasPickerPlugin, [
        {
            key: "apply",
            value: function apply(context, runtime) {
                var _renderingContext$roo, _this2 = this;
                var renderingService = context.renderingService, renderingContext = context.renderingContext;
                this.context = context;
                this.runtime = runtime;
                var document = (_renderingContext$roo = renderingContext.root) === null || _renderingContext$roo === void 0 ? void 0 : _renderingContext$roo.ownerDocument;
                renderingService.hooks.pick.tapPromise(CanvasPickerPlugin.tag, /*#__PURE__*/ function() {
                    var _ref = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$asyncToGenerator$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$regeneratorRuntime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])().mark(function _callee(result) {
                        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$regeneratorRuntime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])().wrap(function(_context) {
                            while(1)switch(_context.prev = _context.next){
                                case 0:
                                    return _context.abrupt("return", _this2.pick(document, result));
                                case 1:
                                case "end":
                                    return _context.stop();
                            }
                        }, _callee);
                    }));
                    return function(_x) {
                        return _ref.apply(this, arguments);
                    };
                }());
                renderingService.hooks.pickSync.tap(CanvasPickerPlugin.tag, function(result) {
                    return _this2.pick(document, result);
                });
            }
        },
        {
            key: "pick",
            value: function pick(document, result) {
                var topmost = result.topmost, _result$position = result.position, x = _result$position.x, y = _result$position.y;
                // position in world space
                var position = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].set(tmpVec3a, x, y, 0);
                // query by AABB first with spatial index(r-tree)
                var hitTestList = document.elementsFromBBox(position[0], position[1], position[0], position[1]);
                // test with clip path & origin shape
                // @see https://github.com/antvis/g/issues/1064
                var pickedDisplayObjects = [];
                var _iterator = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createForOfIteratorHelper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(hitTestList), _step;
                try {
                    for(_iterator.s(); !(_step = _iterator.n()).done;){
                        var _displayObject = _step.value;
                        var worldTransform = _displayObject.getWorldTransform();
                        var isHitOriginShape = this.isHit(_displayObject, position, worldTransform, false);
                        if (isHitOriginShape) {
                            // should look up in the ancestor node
                            var clipped = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findClosestClipPathTarget"])(_displayObject);
                            if (clipped) {
                                var clipPath = clipped.parsedStyle.clipPath;
                                var isHitClipPath = this.isHit(clipPath, position, clipPath.getWorldTransform(), true);
                                if (isHitClipPath) {
                                    if (topmost) {
                                        result.picked = [
                                            _displayObject
                                        ];
                                        return result;
                                    }
                                    pickedDisplayObjects.push(_displayObject);
                                }
                            } else {
                                if (topmost) {
                                    result.picked = [
                                        _displayObject
                                    ];
                                    return result;
                                }
                                pickedDisplayObjects.push(_displayObject);
                            }
                        }
                    }
                } catch (err) {
                    _iterator.e(err);
                } finally{
                    _iterator.f();
                }
                result.picked = pickedDisplayObjects;
                return result;
            }
        }
    ]);
}();
CanvasPickerPlugin.tag = 'CanvasPicker';
function isPointInPath$8(displayObject, position, isClipPath) {
    var _ref = displayObject.parsedStyle, _ref$cx = _ref.cx, cx = _ref$cx === void 0 ? 0 : _ref$cx, _ref$cy = _ref.cy, cy = _ref$cy === void 0 ? 0 : _ref$cy, r = _ref.r, fill = _ref.fill, stroke = _ref.stroke, _ref$lineWidth = _ref.lineWidth, lineWidth = _ref$lineWidth === void 0 ? 1 : _ref$lineWidth, _ref$increasedLineWid = _ref.increasedLineWidthForHitTesting, increasedLineWidthForHitTesting = _ref$increasedLineWid === void 0 ? 0 : _ref$increasedLineWid, _ref$pointerEvents = _ref.pointerEvents, pointerEvents = _ref$pointerEvents === void 0 ? 'auto' : _ref$pointerEvents;
    var halfLineWidth = (lineWidth + increasedLineWidthForHitTesting) / 2;
    var absDistance = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$math$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["distance"])(cx, cy, position.x, position.y);
    var _isFillOrStrokeAffect = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isFillOrStrokeAffected"])(pointerEvents, fill, stroke), _isFillOrStrokeAffect2 = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$slicedToArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_isFillOrStrokeAffect, 2), hasFill = _isFillOrStrokeAffect2[0], hasStroke = _isFillOrStrokeAffect2[1];
    if (hasFill && hasStroke || isClipPath) {
        return absDistance <= r + halfLineWidth;
    }
    if (hasFill) {
        return absDistance <= r;
    }
    if (hasStroke) {
        return absDistance >= r - halfLineWidth && absDistance <= r + halfLineWidth;
    }
    return false;
}
function ellipseDistance(squareX, squareY, rx, ry) {
    return squareX / (rx * rx) + squareY / (ry * ry);
}
function isPointInPath$7(displayObject, position, isClipPath) {
    var _ref = displayObject.parsedStyle, _ref$cx = _ref.cx, cx = _ref$cx === void 0 ? 0 : _ref$cx, _ref$cy = _ref.cy, cy = _ref$cy === void 0 ? 0 : _ref$cy, rx = _ref.rx, ry = _ref.ry, fill = _ref.fill, stroke = _ref.stroke, _ref$lineWidth = _ref.lineWidth, lineWidth = _ref$lineWidth === void 0 ? 1 : _ref$lineWidth, _ref$increasedLineWid = _ref.increasedLineWidthForHitTesting, increasedLineWidthForHitTesting = _ref$increasedLineWid === void 0 ? 0 : _ref$increasedLineWid, _ref$pointerEvents = _ref.pointerEvents, pointerEvents = _ref$pointerEvents === void 0 ? 'auto' : _ref$pointerEvents;
    var x = position.x, y = position.y;
    var _isFillOrStrokeAffect = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isFillOrStrokeAffected"])(pointerEvents, fill, stroke), _isFillOrStrokeAffect2 = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$slicedToArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_isFillOrStrokeAffect, 2), hasFill = _isFillOrStrokeAffect2[0], hasStroke = _isFillOrStrokeAffect2[1];
    var halfLineWith = (lineWidth + increasedLineWidthForHitTesting) / 2;
    var squareX = (x - cx) * (x - cx);
    var squareY = (y - cy) * (y - cy);
    // 使用椭圆的公式： x*x/rx*rx + y*y/ry*ry = 1;
    if (hasFill && hasStroke || isClipPath) {
        return ellipseDistance(squareX, squareY, rx + halfLineWith, ry + halfLineWith) <= 1;
    }
    if (hasFill) {
        return ellipseDistance(squareX, squareY, rx, ry) <= 1;
    }
    if (hasStroke) {
        return ellipseDistance(squareX, squareY, rx - halfLineWith, ry - halfLineWith) >= 1 && ellipseDistance(squareX, squareY, rx + halfLineWith, ry + halfLineWith) <= 1;
    }
    return false;
}
function inBox(minX, minY, width, height, x, y) {
    return x >= minX && x <= minX + width && y >= minY && y <= minY + height;
}
function inRect(minX, minY, width, height, lineWidth, x, y) {
    var halfWidth = lineWidth / 2;
    // 将四个边看做矩形来检测，比边的检测算法要快
    return inBox(minX - halfWidth, minY - halfWidth, width, lineWidth, x, y) || // 上边
    inBox(minX + width - halfWidth, minY - halfWidth, lineWidth, height, x, y) || // 右边
    inBox(minX + halfWidth, minY + height - halfWidth, width, lineWidth, x, y) || // 下边
    inBox(minX - halfWidth, minY + halfWidth, lineWidth, height, x, y); // 左边
}
function inArc(cx, cy, r, startAngle, endAngle, lineWidth, x, y) {
    var angle = (Math.atan2(y - cy, x - cx) + Math.PI * 2) % (Math.PI * 2); // 转换到 0 - 2 * Math.PI 之间
    // if (angle < startAngle || angle > endAngle) {
    //   return false;
    // }
    var point = {
        x: cx + r * Math.cos(angle),
        y: cy + r * Math.sin(angle)
    };
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$math$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["distance"])(point.x, point.y, x, y) <= lineWidth / 2;
}
function inLine(x1, y1, x2, y2, lineWidth, x, y) {
    var minX = Math.min(x1, x2);
    var maxX = Math.max(x1, x2);
    var minY = Math.min(y1, y2);
    var maxY = Math.max(y1, y2);
    var halfWidth = lineWidth / 2;
    // 因为目前的方案是计算点到直线的距离，而有可能会在延长线上，所以要先判断是否在包围盒内
    // 这种方案会在水平或者竖直的情况下载线的延长线上有半 lineWidth 的误差
    if (!(x >= minX - halfWidth && x <= maxX + halfWidth && y >= minY - halfWidth && y <= maxY + halfWidth)) {
        return false;
    }
    // 因为已经计算了包围盒，所以仅需要计算到直线的距离即可，可以显著提升性能
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$math$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["linePointToLine"])(x1, y1, x2, y2, x, y) <= lineWidth / 2;
}
function inPolyline(points, lineWidth, x, y, isClose) {
    var count = points.length;
    if (count < 2) {
        return false;
    }
    for(var i = 0; i < count - 1; i++){
        var x1 = points[i][0];
        var y1 = points[i][1];
        var x2 = points[i + 1][0];
        var y2 = points[i + 1][1];
        if (inLine(x1, y1, x2, y2, lineWidth, x, y)) {
            return true;
        }
    }
    // 如果封闭，则计算起始点和结束点的边
    if (isClose) {
        var first = points[0];
        var last = points[count - 1];
        if (inLine(first[0], first[1], last[0], last[1], lineWidth, x, y)) {
            return true;
        }
    }
    return false;
}
// 多边形的射线检测，参考：https://blog.csdn.net/WilliamSun0122/article/details/77994526
var tolerance = 1e-6;
// 三态函数，判断两个double在eps精度下的大小关系
function dcmp(x) {
    if (Math.abs(x) < tolerance) {
        return 0;
    }
    return x < 0 ? -1 : 1;
}
// 判断点Q是否在p1和p2的线段上
function onSegment(p1, p2, q) {
    if ((q[0] - p1[0]) * (p2[1] - p1[1]) === (p2[0] - p1[0]) * (q[1] - p1[1]) && Math.min(p1[0], p2[0]) <= q[0] && q[0] <= Math.max(p1[0], p2[0]) && Math.min(p1[1], p2[1]) <= q[1] && q[1] <= Math.max(p1[1], p2[1])) {
        return true;
    }
    return false;
}
// 判断点P在多边形内-射线法
function inPolygon(points, x, y) {
    var isHit = false;
    var n = points.length;
    if (n <= 2) {
        // svg 中点小于 3 个时，不显示，也无法被拾取
        return false;
    }
    for(var i = 0; i < n; i++){
        var p1 = points[i];
        var p2 = points[(i + 1) % n];
        if (onSegment(p1, p2, [
            x,
            y
        ])) {
            // 点在多边形一条边上
            return true;
        }
        // 前一个判断min(p1[1],p2[1])<P.y<=max(p1[1],p2[1])
        // 后一个判断被测点 在 射线与边交点 的左边
        if (dcmp(p1[1] - y) > 0 !== dcmp(p2[1] - y) > 0 && dcmp(x - (y - p1[1]) * (p1[0] - p2[0]) / (p1[1] - p2[1]) - p1[0]) < 0) {
            isHit = !isHit;
        }
    }
    return isHit;
}
function inPolygons(polygons, x, y) {
    var isHit = false;
    for(var i = 0; i < polygons.length; i++){
        var points = polygons[i];
        isHit = inPolygon(points, x, y);
        if (isHit) {
            break;
        }
    }
    return isHit;
}
function isPointInPath$6(displayObject, position, isClipPath) {
    var _ref = displayObject.parsedStyle, x1 = _ref.x1, y1 = _ref.y1, x2 = _ref.x2, y2 = _ref.y2, _ref$lineWidth = _ref.lineWidth, lineWidth = _ref$lineWidth === void 0 ? 1 : _ref$lineWidth, _ref$increasedLineWid = _ref.increasedLineWidthForHitTesting, increasedLineWidthForHitTesting = _ref$increasedLineWid === void 0 ? 0 : _ref$increasedLineWid, _ref$pointerEvents = _ref.pointerEvents, pointerEvents = _ref$pointerEvents === void 0 ? 'auto' : _ref$pointerEvents, fill = _ref.fill, stroke = _ref.stroke;
    var _isFillOrStrokeAffect = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isFillOrStrokeAffected"])(pointerEvents, fill, stroke), _isFillOrStrokeAffect2 = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$slicedToArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_isFillOrStrokeAffect, 2), hasStroke = _isFillOrStrokeAffect2[1];
    if (!hasStroke && !isClipPath || !lineWidth) {
        return false;
    }
    return inLine(x1, y1, x2, y2, lineWidth + increasedLineWidthForHitTesting, position.x, position.y);
}
// TODO: replace it with method in @antv/util
function isPointInStroke(segments, lineWidth, px, py, length) {
    var isHit = false;
    var halfWidth = lineWidth / 2;
    for(var i = 0; i < segments.length; i++){
        var segment = segments[i];
        var currentPoint = segment.currentPoint, params = segment.params, prePoint = segment.prePoint, box = segment.box;
        // 如果在前面已经生成过包围盒，直接按照包围盒计算
        if (box && !inBox(box.x - halfWidth, box.y - halfWidth, box.width + lineWidth, box.height + lineWidth, px, py)) {
            continue;
        }
        switch(segment.command){
            // L 和 Z 都是直线， M 不进行拾取
            case 'L':
            case 'Z':
                isHit = inLine(prePoint[0], prePoint[1], currentPoint[0], currentPoint[1], lineWidth, px, py);
                if (isHit) {
                    return true;
                }
                break;
            case 'Q':
                var qDistance = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$math$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["quadPointDistance"])(prePoint[0], prePoint[1], params[1], params[2], params[3], params[4], px, py);
                isHit = qDistance <= lineWidth / 2;
                if (isHit) {
                    return true;
                }
                break;
            case 'C':
                var cDistance = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$math$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cubicPointDistance"])(prePoint[0], // 上一段结束位置, 即 C 的起始点
                prePoint[1], params[1], // 'C' 的参数，1、2 为第一个控制点，3、4 为第二个控制点，5、6 为结束点
                params[2], params[3], params[4], params[5], params[6], px, py, length);
                isHit = cDistance <= lineWidth / 2;
                if (isHit) {
                    return true;
                }
                break;
            case 'A':
                // cache conversion result
                if (!segment.cubicParams) {
                    segment.cubicParams = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$path$2f$process$2f$arc$2d$2$2d$cubic$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["arcToCubic"])(prePoint[0], prePoint[1], params[1], params[2], params[3], params[4], params[5], params[6], params[7], undefined);
                }
                var args = segment.cubicParams;
                // fixArc
                var prePointInCubic = prePoint;
                for(var _i = 0; _i < args.length; _i += 6){
                    var _cDistance = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$math$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cubicPointDistance"])(prePointInCubic[0], // 上一段结束位置, 即 C 的起始点
                    prePointInCubic[1], args[_i], args[_i + 1], args[_i + 2], args[_i + 3], args[_i + 4], args[_i + 5], px, py, length);
                    prePointInCubic = [
                        args[_i + 4],
                        args[_i + 5]
                    ];
                    isHit = _cDistance <= lineWidth / 2;
                    if (isHit) {
                        return true;
                    }
                }
                break;
        }
    }
    return isHit;
}
function isPointInPath$5(displayObject, position, isClipPath, isPointInPath, renderingPluginContext, runtime) {
    var _ref = displayObject.parsedStyle, _ref$lineWidth = _ref.lineWidth, lineWidth = _ref$lineWidth === void 0 ? 1 : _ref$lineWidth, _ref$increasedLineWid = _ref.increasedLineWidthForHitTesting, increasedLineWidthForHitTesting = _ref$increasedLineWid === void 0 ? 0 : _ref$increasedLineWid, stroke = _ref.stroke, fill = _ref.fill, d = _ref.d, _ref$pointerEvents = _ref.pointerEvents, pointerEvents = _ref$pointerEvents === void 0 ? 'auto' : _ref$pointerEvents;
    var segments = d.segments, hasArc = d.hasArc, polylines = d.polylines, polygons = d.polygons;
    var _isFillOrStrokeAffect = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isFillOrStrokeAffected"])(pointerEvents, // Only a closed path can be filled.
    (polygons === null || polygons === void 0 ? void 0 : polygons.length) && fill, stroke), _isFillOrStrokeAffect2 = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$slicedToArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_isFillOrStrokeAffect, 2), hasFill = _isFillOrStrokeAffect2[0], hasStroke = _isFillOrStrokeAffect2[1];
    var totalLength = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getOrCalculatePathTotalLength"])(displayObject);
    var isHit = false;
    if (hasFill || isClipPath) {
        if (hasArc) {
            // 存在曲线时，暂时使用 canvas 的 api 计算，后续可以进行多边形切割
            isHit = isPointInPath(displayObject, position);
        } else {
            // 提取出来的多边形包含闭合的和非闭合的，在这里统一按照多边形处理
            isHit = inPolygons(polygons, position.x, position.y) || inPolygons(polylines, position.x, position.y);
        }
        return isHit;
    }
    if (hasStroke || isClipPath) {
        isHit = isPointInStroke(segments, lineWidth + increasedLineWidthForHitTesting, position.x, position.y, totalLength);
    }
    return isHit;
}
function isPointInPath$4(displayObject, position, isClipPath) {
    var _ref = displayObject.parsedStyle, stroke = _ref.stroke, fill = _ref.fill, _ref$lineWidth = _ref.lineWidth, lineWidth = _ref$lineWidth === void 0 ? 1 : _ref$lineWidth, _ref$increasedLineWid = _ref.increasedLineWidthForHitTesting, increasedLineWidthForHitTesting = _ref$increasedLineWid === void 0 ? 0 : _ref$increasedLineWid, points = _ref.points, _ref$pointerEvents = _ref.pointerEvents, pointerEvents = _ref$pointerEvents === void 0 ? 'auto' : _ref$pointerEvents;
    var _isFillOrStrokeAffect = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isFillOrStrokeAffected"])(pointerEvents, fill, stroke), _isFillOrStrokeAffect2 = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$slicedToArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_isFillOrStrokeAffect, 2), hasFill = _isFillOrStrokeAffect2[0], hasStroke = _isFillOrStrokeAffect2[1];
    var isHit = false;
    if (hasStroke || isClipPath) {
        isHit = inPolyline(points.points, lineWidth + increasedLineWidthForHitTesting, position.x, position.y, true);
    }
    if (!isHit && (hasFill || isClipPath)) {
        isHit = inPolygon(points.points, position.x, position.y);
    }
    return isHit;
}
function isPointInPath$3(displayObject, position, isClipPath) {
    var _ref = displayObject.parsedStyle, _ref$lineWidth = _ref.lineWidth, lineWidth = _ref$lineWidth === void 0 ? 1 : _ref$lineWidth, _ref$increasedLineWid = _ref.increasedLineWidthForHitTesting, increasedLineWidthForHitTesting = _ref$increasedLineWid === void 0 ? 0 : _ref$increasedLineWid, points = _ref.points, _ref$pointerEvents = _ref.pointerEvents, pointerEvents = _ref$pointerEvents === void 0 ? 'auto' : _ref$pointerEvents, fill = _ref.fill, stroke = _ref.stroke;
    var _isFillOrStrokeAffect = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isFillOrStrokeAffected"])(pointerEvents, fill, stroke), _isFillOrStrokeAffect2 = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$slicedToArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_isFillOrStrokeAffect, 2), hasStroke = _isFillOrStrokeAffect2[1];
    if (!hasStroke && !isClipPath || !lineWidth) {
        return false;
    }
    return inPolyline(points.points, lineWidth + increasedLineWidthForHitTesting, position.x, position.y, false);
}
function isPointInPath$2(displayObject, position, isClipPath, isPointInPath, runtime) {
    var _ref = displayObject.parsedStyle, radius = _ref.radius, fill = _ref.fill, stroke = _ref.stroke, _ref$lineWidth = _ref.lineWidth, lineWidth = _ref$lineWidth === void 0 ? 1 : _ref$lineWidth, _ref$increasedLineWid = _ref.increasedLineWidthForHitTesting, increasedLineWidthForHitTesting = _ref$increasedLineWid === void 0 ? 0 : _ref$increasedLineWid, _ref$x = _ref.x, x = _ref$x === void 0 ? 0 : _ref$x, _ref$y = _ref.y, y = _ref$y === void 0 ? 0 : _ref$y, width = _ref.width, height = _ref.height, _ref$pointerEvents = _ref.pointerEvents, pointerEvents = _ref$pointerEvents === void 0 ? 'auto' : _ref$pointerEvents;
    var _isFillOrStrokeAffect = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isFillOrStrokeAffected"])(pointerEvents, fill, stroke), _isFillOrStrokeAffect2 = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$slicedToArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_isFillOrStrokeAffect, 2), hasFill = _isFillOrStrokeAffect2[0], hasStroke = _isFillOrStrokeAffect2[1];
    var hasRadius = radius && radius.some(function(r) {
        return r !== 0;
    });
    var lineWidthForHitTesting = lineWidth + increasedLineWidthForHitTesting;
    // 无圆角时的策略
    if (!hasRadius) {
        var halfWidth = lineWidthForHitTesting / 2;
        // 同时填充和带有边框
        if (hasFill && hasStroke || isClipPath) {
            return inBox(x - halfWidth, y - halfWidth, width + halfWidth, height + halfWidth, position.x, position.y);
        }
        // 仅填充
        if (hasFill) {
            return inBox(x, y, width, height, position.x, position.y);
        }
        if (hasStroke) {
            return inRect(x, y, width, height, lineWidthForHitTesting, position.x, position.y);
        }
    } else {
        var isHit = false;
        if (hasStroke || isClipPath) {
            isHit = inRectWithRadius(x, y, width, height, radius.map(function(r) {
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$clamp$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__clamp$3e$__["clamp"])(r, 0, Math.min(Math.abs(width) / 2, Math.abs(height) / 2));
            }), lineWidthForHitTesting, position.x, position.y);
        }
        // 仅填充时带有圆角的矩形直接通过图形拾取
        // 以后可以改成纯数学的近似拾取，将圆弧切割成多边形
        if (!isHit && (hasFill || isClipPath)) {
            isHit = isPointInPath(displayObject, position);
        }
        return isHit;
    }
    return false;
}
function inRectWithRadius(minX, minY, width, height, radiusArray, lineWidth, x, y) {
    var _radiusArray = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$slicedToArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(radiusArray, 4), tlr = _radiusArray[0], trr = _radiusArray[1], brr = _radiusArray[2], blr = _radiusArray[3];
    return inLine(minX + tlr, minY, minX + width - trr, minY, lineWidth, x, y) || inLine(minX + width, minY + trr, minX + width, minY + height - brr, lineWidth, x, y) || inLine(minX + width - brr, minY + height, minX + blr, minY + height, lineWidth, x, y) || inLine(minX, minY + height - blr, minX, minY + tlr, lineWidth, x, y) || inArc(minX + width - trr, minY + trr, trr, 1.5 * Math.PI, 2 * Math.PI, lineWidth, x, y) || inArc(minX + width - brr, minY + height - brr, brr, 0, 0.5 * Math.PI, lineWidth, x, y) || inArc(minX + blr, minY + height - blr, blr, 0.5 * Math.PI, Math.PI, lineWidth, x, y) || inArc(minX + tlr, minY + tlr, tlr, Math.PI, 1.5 * Math.PI, lineWidth, x, y);
}
function isPointInPath$1(displayObject, position, isClipPath, isPointInPath, renderingPluginContext, runtime) {
    var _ref = displayObject.parsedStyle, _ref$pointerEvents = _ref.pointerEvents, pointerEvents = _ref$pointerEvents === void 0 ? 'auto' : _ref$pointerEvents, _ref$x = _ref.x, x = _ref$x === void 0 ? 0 : _ref$x, _ref$y = _ref.y, y = _ref$y === void 0 ? 0 : _ref$y, width = _ref.width, height = _ref.height;
    if (pointerEvents === 'non-transparent-pixel') {
        var offscreenCanvas = renderingPluginContext.config.offscreenCanvas;
        var canvas = runtime.offscreenCanvasCreator.getOrCreateCanvas(offscreenCanvas);
        var context = runtime.offscreenCanvasCreator.getOrCreateContext(offscreenCanvas, {
            willReadFrequently: true
        });
        canvas.width = width;
        canvas.height = height;
        renderingPluginContext.defaultStyleRendererFactory[__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].IMAGE].render(context, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, displayObject.parsedStyle), {}, {
            x: 0,
            y: 0
        }), displayObject, undefined, undefined, undefined);
        var imagedata = context.getImageData(position.x - x, position.y - y, 1, 1).data;
        return imagedata.every(function(component) {
            return component !== 0;
        });
    }
    return true;
}
function isPointInPath(displayObject, position, isClipPath, isPointInPath) {
    var bounds = displayObject.getGeometryBounds();
    // @see https://stackoverflow.com/questions/28706989/how-do-i-check-if-a-mouse-click-is-inside-a-rotated-text-on-the-html5-canvas-in
    return position.x >= bounds.min[0] && position.y >= bounds.min[1] && position.x <= bounds.max[0] && position.y <= bounds.max[1];
}
var Plugin = /*#__PURE__*/ function(_AbstractRendererPlug) {
    function Plugin() {
        var _this;
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, Plugin);
        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){
            args[_key] = arguments[_key];
        }
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$callSuper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, Plugin, [].concat(args));
        _this.name = 'canvas-picker';
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$inherits$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(Plugin, _AbstractRendererPlug);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(Plugin, [
        {
            key: "init",
            value: function init() {
                var _pointInPathPickerFac;
                var pointInPathPickerFactory = (_pointInPathPickerFac = {}, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_pointInPathPickerFac, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].CIRCLE, isPointInPath$8), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].ELLIPSE, isPointInPath$7), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].RECT, isPointInPath$2), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].LINE, isPointInPath$6), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].POLYLINE, isPointInPath$3), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].POLYGON, isPointInPath$4), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].PATH, isPointInPath$5), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].TEXT, isPointInPath), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].GROUP, null), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].IMAGE, isPointInPath$1), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_pointInPathPickerFac, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].HTML, null), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].MESH, null));
                // @ts-ignore
                this.context.pointInPathPickerFactory = pointInPathPickerFactory;
                this.addRenderingPlugin(new CanvasPickerPlugin());
            }
        },
        {
            key: "destroy",
            value: function destroy() {
                // @ts-ignore
                delete this.context.pointInPathPickerFactory;
                this.removeAllRenderingPlugins();
            }
        }
    ]);
}(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AbstractRendererPlugin"]);
;
 //# sourceMappingURL=index.esm.js.map
}}),
"[project]/node_modules/@antv/g-plugin-image-loader/dist/index.esm.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
/*!
 * @antv/g-plugin-image-loader
 * @description A G plugin for loading image
 * @version 2.1.26
 * @date 7/30/2025, 1:35:52 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */ __turbopack_esm__({
    "ImagePool": (()=>ImagePool),
    "Plugin": (()=>Plugin)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/classCallCheck.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/createClass.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$callSuper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/callSuper.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$inherits$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/inherits.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-lite/dist/index.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$regeneratorRuntime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/regeneratorRuntime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/objectSpread2.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$slicedToArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/slicedToArray.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$asyncToGenerator$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/asyncToGenerator.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$string$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isString$3e$__ = __turbopack_import__("[project]/node_modules/@antv/util/esm/lodash/is-string.js [app-ssr] (ecmascript) <export default as isString>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__ = __turbopack_import__("[project]/node_modules/gl-matrix/esm/mat4.js [app-ssr] (ecmascript) <export * as mat4>");
;
;
;
;
;
;
;
;
;
;
;
var RefCountCache = /*#__PURE__*/ function() {
    function RefCountCache() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, RefCountCache);
        this.cacheStore = new Map();
    }
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(RefCountCache, [
        {
            key: "onRefAdded",
            value: function onRefAdded(ref) {}
        },
        {
            key: "has",
            value: function has(key) {
                return this.cacheStore.has(key);
            }
        },
        {
            key: "put",
            value: function put(key, item, ref) {
                if (this.cacheStore.has(key)) {
                    return false;
                }
                this.cacheStore.set(key, {
                    value: item,
                    counter: new Set([
                        ref.entity
                    ])
                });
                this.onRefAdded(ref);
                return true;
            }
        },
        {
            key: "get",
            value: function get(key, ref) {
                var cacheItem = this.cacheStore.get(key);
                if (!cacheItem) {
                    return null;
                }
                if (!cacheItem.counter.has(ref.entity)) {
                    cacheItem.counter.add(ref.entity);
                    this.onRefAdded(ref);
                }
                return cacheItem.value;
            }
        },
        {
            key: "update",
            value: function update(key, value, ref) {
                var cacheItem = this.cacheStore.get(key);
                if (!cacheItem) {
                    return false;
                }
                cacheItem.value = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, cacheItem.value), value);
                if (!cacheItem.counter.has(ref.entity)) {
                    cacheItem.counter.add(ref.entity);
                    this.onRefAdded(ref);
                }
                return true;
            }
        },
        {
            key: "release",
            value: function release(key, ref) {
                var cacheItem = this.cacheStore.get(key);
                if (!cacheItem) {
                    return false;
                }
                cacheItem.counter["delete"](ref.entity);
                if (cacheItem.counter.size <= 0) {
                    this.cacheStore["delete"](key);
                }
                return true;
            }
        },
        {
            key: "releaseRef",
            value: function releaseRef(ref) {
                var _this = this;
                Array.from(this.cacheStore.keys()).forEach(function(key) {
                    _this.release(key, ref);
                });
            }
        },
        {
            key: "getSize",
            value: function getSize() {
                return this.cacheStore.size;
            }
        },
        {
            key: "clear",
            value: function clear() {
                this.cacheStore.clear();
            }
        }
    ]);
}();
var tasks = [];
var nextFrameTasks = [];
var ImageSlicer = /*#__PURE__*/ function() {
    function ImageSlicer() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, ImageSlicer);
    }
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(ImageSlicer, null, [
        {
            key: "stop",
            value: function stop() {
                var api = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ImageSlicer.api;
                if (ImageSlicer.rafId) {
                    api.cancelAnimationFrame(ImageSlicer.rafId);
                    ImageSlicer.rafId = null;
                }
            }
        },
        {
            key: "executeTask",
            value: function executeTask() {
                var api = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ImageSlicer.api;
                if (tasks.length <= 0 && nextFrameTasks.length <= 0) {
                    return;
                }
                nextFrameTasks.forEach(function(task) {
                    return task();
                });
                nextFrameTasks = tasks.splice(0, ImageSlicer.TASK_NUM_PER_FRAME);
                ImageSlicer.rafId = api.requestAnimationFrame(function() {
                    ImageSlicer.executeTask(api);
                });
            }
        },
        {
            key: "sliceImage",
            value: function sliceImage(image, sliceWidth, sliceHeight, rerender) {
                var overlap = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;
                var api = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : ImageSlicer.api;
                var imageWidth = image.naturalWidth || image.width;
                var imageHeight = image.naturalHeight || image.height;
                // 计算步长(考虑重叠区域)
                var strideW = sliceWidth - overlap;
                var strideH = sliceHeight - overlap;
                // 计算网格尺寸
                var gridCols = Math.ceil(imageWidth / strideW);
                var gridRows = Math.ceil(imageHeight / strideH);
                var result = {
                    tileSize: [
                        sliceWidth,
                        sliceHeight
                    ],
                    gridSize: [
                        gridRows,
                        gridCols
                    ],
                    tiles: Array(gridRows).fill(null).map(function() {
                        return Array(gridCols).fill(null);
                    })
                };
                // 遍历网格创建切片
                var _loop = function _loop(row) {
                    var _loop2 = function _loop2(col) {
                        tasks.push(function() {
                            // 计算当前切片的坐标
                            var startX = col * strideW;
                            var startY = row * strideH;
                            // 处理最后一列/行的特殊情况
                            var _ref = [
                                Math.min(sliceWidth, imageWidth - startX),
                                Math.min(sliceHeight, imageHeight - startY)
                            ], tempSliceWidth = _ref[0], tempSliceHeight = _ref[1];
                            // 创建切片canvas
                            var sliceCanvas = api.createCanvas();
                            sliceCanvas.width = sliceWidth;
                            sliceCanvas.height = sliceHeight;
                            var sliceCtx = sliceCanvas.getContext('2d');
                            // 将图像部分绘制到切片canvas上
                            sliceCtx.drawImage(image, startX, startY, tempSliceWidth, tempSliceHeight, 0, 0, tempSliceWidth, tempSliceHeight);
                            // 存储切片信息
                            result.tiles[row][col] = {
                                x: startX,
                                y: startY,
                                tileX: col,
                                tileY: row,
                                data: sliceCanvas
                            };
                            rerender();
                        });
                    };
                    for(var col = 0; col < gridCols; col++){
                        _loop2(col);
                    }
                };
                for(var row = 0; row < gridRows; row++){
                    _loop(row);
                }
                ImageSlicer.stop();
                ImageSlicer.executeTask();
                return result;
            }
        }
    ]);
}();
ImageSlicer.TASK_NUM_PER_FRAME = 10;
var IMAGE_CACHE = new RefCountCache();
IMAGE_CACHE.onRefAdded = function onRefAdded(ref) {
    var _this = this;
    ref.addEventListener(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ElementEvent"].DESTROY, function() {
        _this.releaseRef(ref);
    }, {
        once: true
    });
};
var ImagePool = /*#__PURE__*/ function() {
    function ImagePool(context, runtime) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, ImagePool);
        this.gradientCache = {};
        this.patternCache = {};
        this.context = context;
        this.runtime = runtime;
    }
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(ImagePool, [
        {
            key: "getImageSync",
            value: function getImageSync(src, ref, callback) {
                var imageSource = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$string$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isString$3e$__["isString"])(src) ? src : src.src;
                if (IMAGE_CACHE.has(imageSource)) {
                    var imageCache = IMAGE_CACHE.get(imageSource, ref);
                    if (imageCache.img.complete) {
                        callback === null || callback === void 0 || callback(imageCache);
                        return imageCache;
                    }
                }
                this.getOrCreateImage(src, ref).then(function(cache) {
                    callback === null || callback === void 0 || callback(cache);
                })["catch"](function(reason) {
                    console.error(reason);
                });
                return null;
            }
        },
        {
            key: "getOrCreateImage",
            value: function getOrCreateImage(src, ref) {
                var _this2 = this;
                var imageSource = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$string$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isString$3e$__["isString"])(src) ? src : src.src;
                if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$string$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isString$3e$__["isString"])(src) && !IMAGE_CACHE.has(imageSource)) {
                    var imageCache = {
                        img: src,
                        size: [
                            src.naturalWidth || src.width,
                            src.naturalHeight || src.height
                        ],
                        tileSize: calculateImageTileSize(src)
                    };
                    IMAGE_CACHE.put(imageSource, imageCache, ref);
                }
                if (IMAGE_CACHE.has(imageSource)) {
                    var _imageCache = IMAGE_CACHE.get(imageSource, ref);
                    if (_imageCache.img.complete) {
                        return Promise.resolve(_imageCache);
                    }
                    return new Promise(function(resolve, reject) {
                        _imageCache.img.addEventListener('load', function() {
                            _imageCache.size = [
                                _imageCache.img.naturalWidth || _imageCache.img.width,
                                _imageCache.img.naturalHeight || _imageCache.img.height
                            ];
                            _imageCache.tileSize = calculateImageTileSize(_imageCache.img);
                            resolve(_imageCache);
                        });
                        _imageCache.img.addEventListener('error', function(ev) {
                            reject(ev);
                        });
                    });
                }
                return new Promise(function(resolve, reject) {
                    // @see https://github.com/antvis/g/issues/938
                    var image = _this2.context.config.createImage();
                    if (image) {
                        var _imageCache2 = {
                            img: image,
                            size: [
                                0,
                                0
                            ],
                            tileSize: calculateImageTileSize(image)
                        };
                        IMAGE_CACHE.put(imageSource, _imageCache2, ref);
                        image.onload = function() {
                            _imageCache2.size = [
                                image.naturalWidth || image.width,
                                image.naturalHeight || image.height
                            ];
                            _imageCache2.tileSize = calculateImageTileSize(_imageCache2.img);
                            resolve(_imageCache2);
                        };
                        image.onerror = function(ev) {
                            reject(ev);
                        };
                        image.crossOrigin = 'Anonymous';
                        image.src = imageSource;
                    }
                });
            }
        },
        {
            key: "createDownSampledImage",
            value: function() {
                var _createDownSampledImage = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$asyncToGenerator$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$regeneratorRuntime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])().mark(function _callee(src, ref) {
                    var imageCache, enableLargeImageOptimization, _ref, _ref$maxDownSampledIm, maxDownSampledImageSize, _ref$downSamplingRate, downSamplingRateThreshold, createImageBitmapFunc, _imageCache$size, originWidth, originHeight, resizedImage, downSamplingRate, updateCache;
                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$regeneratorRuntime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])().wrap(function(_context) {
                        while(1)switch(_context.prev = _context.next){
                            case 0:
                                _context.next = 1;
                                return this.getOrCreateImage(src, ref);
                            case 1:
                                imageCache = _context.sent;
                                if (!(typeof imageCache.downSamplingRate !== 'undefined')) {
                                    _context.next = 2;
                                    break;
                                }
                                return _context.abrupt("return", imageCache);
                            case 2:
                                enableLargeImageOptimization = this.context.config.enableLargeImageOptimization;
                                _ref = typeof enableLargeImageOptimization === 'boolean' ? {} : enableLargeImageOptimization, _ref$maxDownSampledIm = _ref.maxDownSampledImageSize, maxDownSampledImageSize = _ref$maxDownSampledIm === void 0 ? 2048 : _ref$maxDownSampledIm, _ref$downSamplingRate = _ref.downSamplingRateThreshold, downSamplingRateThreshold = _ref$downSamplingRate === void 0 ? 0.5 : _ref$downSamplingRate;
                                createImageBitmapFunc = this.runtime.globalThis.createImageBitmap;
                                _imageCache$size = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$slicedToArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(imageCache.size, 2), originWidth = _imageCache$size[0], originHeight = _imageCache$size[1];
                                resizedImage = imageCache.img;
                                downSamplingRate = Math.min((maxDownSampledImageSize + maxDownSampledImageSize) / (originWidth + originHeight), Math.max(0.01, Math.min(downSamplingRateThreshold, 0.5)));
                                updateCache = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, imageCache), {}, {
                                    downSamplingRate: downSamplingRate
                                });
                                IMAGE_CACHE.update(imageCache.img.src, updateCache, ref);
                                if (!createImageBitmapFunc) {
                                    _context.next = 7;
                                    break;
                                }
                                _context.prev = 3;
                                _context.next = 4;
                                return createImageBitmapFunc(imageCache.img, {
                                    resizeWidth: originWidth * downSamplingRate,
                                    resizeHeight: originHeight * downSamplingRate
                                });
                            case 4:
                                resizedImage = _context.sent;
                                _context.next = 6;
                                break;
                            case 5:
                                _context.prev = 5;
                                _context["catch"](3);
                                downSamplingRate = 1;
                            case 6:
                                _context.next = 8;
                                break;
                            case 7:
                                downSamplingRate = 1;
                            case 8:
                                updateCache = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, this.getImageSync(src, ref)), {}, {
                                    downSampled: resizedImage,
                                    downSamplingRate: downSamplingRate
                                });
                                IMAGE_CACHE.update(imageCache.img.src, updateCache, ref);
                                return _context.abrupt("return", updateCache);
                            case 9:
                            case "end":
                                return _context.stop();
                        }
                    }, _callee, this, [
                        [
                            3,
                            5
                        ]
                    ]);
                }));
                function createDownSampledImage(_x, _x2) {
                    return _createDownSampledImage.apply(this, arguments);
                }
                return createDownSampledImage;
            }()
        },
        {
            key: "createImageTiles",
            value: function() {
                var _createImageTiles = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$asyncToGenerator$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$regeneratorRuntime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])().mark(function _callee2(src, tiles, rerender, ref) {
                    var imageCache, _ref$ownerDocument$de, requestAnimationFrame, cancelAnimationFrame, updateCache;
                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$regeneratorRuntime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])().wrap(function(_context2) {
                        while(1)switch(_context2.prev = _context2.next){
                            case 0:
                                _context2.next = 1;
                                return this.getOrCreateImage(src, ref);
                            case 1:
                                imageCache = _context2.sent;
                                _ref$ownerDocument$de = ref.ownerDocument.defaultView, requestAnimationFrame = _ref$ownerDocument$de.requestAnimationFrame, cancelAnimationFrame = _ref$ownerDocument$de.cancelAnimationFrame;
                                ImageSlicer.api = {
                                    requestAnimationFrame: requestAnimationFrame,
                                    cancelAnimationFrame: cancelAnimationFrame,
                                    createCanvas: function createCanvas() {
                                        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["OffscreenCanvasCreator"].createCanvas();
                                    }
                                };
                                updateCache = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({}, imageCache), ImageSlicer.sliceImage(imageCache.img, imageCache.tileSize[0], imageCache.tileSize[0], rerender));
                                IMAGE_CACHE.update(imageCache.img.src, updateCache, ref);
                                return _context2.abrupt("return", updateCache);
                            case 2:
                            case "end":
                                return _context2.stop();
                        }
                    }, _callee2, this);
                }));
                function createImageTiles(_x3, _x4, _x5, _x6) {
                    return _createImageTiles.apply(this, arguments);
                }
                return createImageTiles;
            }()
        },
        {
            key: "releaseImage",
            value: function releaseImage(src, ref) {
                IMAGE_CACHE.release((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$string$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isString$3e$__["isString"])(src) ? src : src.src, ref);
            }
        },
        {
            key: "releaseImageRef",
            value: function releaseImageRef(ref) {
                IMAGE_CACHE.releaseRef(ref);
            }
        },
        {
            key: "getOrCreatePatternSync",
            value: function getOrCreatePatternSync(object, pattern, context, $offscreenCanvas, dpr, min, callback) {
                var patternKey = this.generatePatternKey(pattern);
                if (patternKey && this.patternCache[patternKey]) {
                    return this.patternCache[patternKey];
                }
                var image = pattern.image, repetition = pattern.repetition, transform = pattern.transform;
                var src;
                var needScaleWithDPR = false;
                // Image URL
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$string$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isString$3e$__["isString"])(image)) {
                    var imageCache = this.getImageSync(image, object, callback);
                    src = imageCache === null || imageCache === void 0 ? void 0 : imageCache.img;
                } else if ($offscreenCanvas) {
                    src = $offscreenCanvas;
                    needScaleWithDPR = true;
                } else {
                    src = image;
                }
                // @see https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/createPattern
                var canvasPattern = src && context.createPattern(src, repetition);
                if (canvasPattern) {
                    var mat;
                    // @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasPattern/setTransform
                    if (transform) {
                        mat = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["parsedTransformToMat4"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["parseTransform"])(transform), new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DisplayObject"]({}));
                    } else {
                        mat = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].identity(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].create());
                    }
                    if (needScaleWithDPR) {
                        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].scale(mat, mat, [
                            1 / dpr,
                            1 / dpr,
                            1
                        ]);
                    }
                    canvasPattern.setTransform({
                        a: mat[0],
                        b: mat[1],
                        c: mat[4],
                        d: mat[5],
                        e: mat[12] + min[0],
                        f: mat[13] + min[1]
                    });
                }
                if (patternKey && canvasPattern) {
                    this.patternCache[patternKey] = canvasPattern;
                }
                return canvasPattern;
            }
        },
        {
            key: "getOrCreateGradient",
            value: function getOrCreateGradient(params, context) {
                var key = this.generateGradientKey(params);
                var type = params.type, steps = params.steps, min = params.min, width = params.width, height = params.height, angle = params.angle, cx = params.cx, cy = params.cy, size = params.size;
                if (this.gradientCache[key]) {
                    return this.gradientCache[key];
                }
                var gradient = null;
                if (type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["GradientType"].LinearGradient) {
                    var _computeLinearGradien = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["computeLinearGradient"])(min, width, height, angle), x1 = _computeLinearGradien.x1, y1 = _computeLinearGradien.y1, x2 = _computeLinearGradien.x2, y2 = _computeLinearGradien.y2;
                    // @see https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/createLinearGradient
                    gradient = context.createLinearGradient(x1, y1, x2, y2);
                } else if (type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["GradientType"].RadialGradient) {
                    var _computeRadialGradien = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["computeRadialGradient"])(min, width, height, cx, cy, size), x = _computeRadialGradien.x, y = _computeRadialGradien.y, r = _computeRadialGradien.r;
                    // @see https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/createRadialGradient
                    gradient = context.createRadialGradient(x, y, 0, x, y, r);
                }
                if (gradient) {
                    steps.forEach(function(_ref2) {
                        var offset = _ref2.offset, color = _ref2.color;
                        if (offset.unit === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["UnitType"].kPercentage) {
                            var _gradient;
                            (_gradient = gradient) === null || _gradient === void 0 || _gradient.addColorStop(offset.value / 100, color.toString());
                        }
                    });
                    this.gradientCache[key] = gradient;
                }
                return this.gradientCache[key];
            }
        },
        {
            key: "generateGradientKey",
            value: function generateGradientKey(params) {
                var type = params.type, min = params.min, width = params.width, height = params.height, steps = params.steps, angle = params.angle, cx = params.cx, cy = params.cy, size = params.size;
                return "gradient-".concat(type, "-").concat((angle === null || angle === void 0 ? void 0 : angle.toString()) || 0, "-").concat((cx === null || cx === void 0 ? void 0 : cx.toString()) || 0, "-").concat((cy === null || cy === void 0 ? void 0 : cy.toString()) || 0, "-").concat((size === null || size === void 0 ? void 0 : size.toString()) || 0, "-").concat(min[0], "-").concat(min[1], "-").concat(width, "-").concat(height, "-").concat(steps.map(function(_ref3) {
                    var offset = _ref3.offset, color = _ref3.color;
                    return "".concat(offset).concat(color);
                }).join('-'));
            }
        },
        {
            key: "generatePatternKey",
            value: function generatePatternKey(pattern) {
                var image = pattern.image, repetition = pattern.repetition;
                // only generate cache for Image
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$string$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isString$3e$__["isString"])(image)) {
                    return "pattern-".concat(image, "-").concat(repetition);
                }
                if (image.nodeName === 'rect') {
                    return "pattern-".concat(image.entity, "-").concat(repetition);
                }
            }
        }
    ]);
}();
ImagePool.isSupportTile = !!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["OffscreenCanvasCreator"].createCanvas();
function calculateImageTileSize(img) {
    if (!img.complete) {
        return [
            0,
            0
        ];
    }
    var width = img.naturalWidth || img.width, height = img.naturalHeight || img.height;
    var tileSize = 256;
    [
        256,
        512
    ].forEach(function(size) {
        var rows = Math.ceil(height / size);
        var cols = Math.ceil(width / size);
        if (rows * cols < 1e3) {
            tileSize = size;
        }
    });
    return [
        tileSize,
        tileSize
    ];
}
var LoadImagePlugin = /*#__PURE__*/ function() {
    function LoadImagePlugin() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, LoadImagePlugin);
    }
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(LoadImagePlugin, [
        {
            key: "apply",
            value: function apply(context) {
                var renderingService = context.renderingService, renderingContext = context.renderingContext, imagePool = context.imagePool;
                var canvas = renderingContext.root.ownerDocument.defaultView;
                var calculateWithAspectRatio = function calculateWithAspectRatio(object, imageWidth, imageHeight) {
                    var _object$parsedStyle = object.parsedStyle, width = _object$parsedStyle.width, height = _object$parsedStyle.height;
                    if (width && !height) {
                        object.setAttribute('height', imageHeight / imageWidth * width);
                    } else if (!width && height) {
                        object.setAttribute('width', imageWidth / imageHeight * height);
                    }
                };
                var handleMounted = function handleMounted(e) {
                    var object = e.target;
                    var nodeName = object.nodeName, attributes = object.attributes;
                    if (nodeName === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].IMAGE) {
                        var src = attributes.src, keepAspectRatio = attributes.keepAspectRatio;
                        imagePool.getImageSync(src, object, function(_ref) {
                            var _ref$img = _ref.img, width = _ref$img.width, height = _ref$img.height;
                            if (keepAspectRatio) {
                                calculateWithAspectRatio(object, width, height);
                            }
                            // set dirty rectangle flag
                            object.renderable.dirty = true;
                            renderingService.dirtify();
                        });
                    }
                };
                var handleAttributeChanged = function handleAttributeChanged(e) {
                    var object = e.target;
                    var attrName = e.attrName, prevValue = e.prevValue, newValue = e.newValue;
                    if (object.nodeName !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].IMAGE || attrName !== 'src') {
                        return;
                    }
                    if (prevValue !== newValue) {
                        imagePool.releaseImage(prevValue, object);
                    }
                    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$string$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isString$3e$__["isString"])(newValue)) {
                        imagePool.getOrCreateImage(newValue, object).then(function(_ref2) {
                            var _ref2$img = _ref2.img, width = _ref2$img.width, height = _ref2$img.height;
                            if (object.attributes.keepAspectRatio) {
                                calculateWithAspectRatio(object, width, height);
                            }
                            // set dirty rectangle flag
                            object.renderable.dirty = true;
                            renderingService.dirtify();
                        })["catch"](function() {
                        //
                        });
                    }
                };
                renderingService.hooks.init.tap(LoadImagePlugin.tag, function() {
                    canvas.addEventListener(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ElementEvent"].MOUNTED, handleMounted);
                    canvas.addEventListener(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ElementEvent"].ATTR_MODIFIED, handleAttributeChanged);
                });
                renderingService.hooks.destroy.tap(LoadImagePlugin.tag, function() {
                    canvas.removeEventListener(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ElementEvent"].MOUNTED, handleMounted);
                    canvas.removeEventListener(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ElementEvent"].ATTR_MODIFIED, handleAttributeChanged);
                });
            }
        }
    ]);
}();
LoadImagePlugin.tag = 'LoadImage';
var Plugin = /*#__PURE__*/ function(_AbstractRendererPlug) {
    function Plugin() {
        var _this;
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, Plugin);
        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){
            args[_key] = arguments[_key];
        }
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$callSuper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, Plugin, [].concat(args));
        _this.name = 'image-loader';
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$inherits$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(Plugin, _AbstractRendererPlug);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(Plugin, [
        {
            key: "init",
            value: function init(runtime) {
                // @ts-ignore
                this.context.imagePool = new ImagePool(this.context, runtime);
                this.addRenderingPlugin(new LoadImagePlugin());
            }
        },
        {
            key: "destroy",
            value: function destroy() {
                this.removeAllRenderingPlugins();
            }
        }
    ]);
}(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AbstractRendererPlugin"]);
;
 //# sourceMappingURL=index.esm.js.map
}}),
"[project]/node_modules/@antv/g-plugin-canvas-renderer/dist/index.esm.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
/*!
 * @antv/g-plugin-canvas-renderer
 * @description A G plugin of renderer implementation with Canvas2D API
 * @version 2.3.3
 * @date 7/30/2025, 1:36:40 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */ __turbopack_esm__({
    "CircleRenderer": (()=>DefaultRenderer),
    "DefaultRenderer": (()=>DefaultRenderer),
    "EllipseRenderer": (()=>DefaultRenderer),
    "ImageRenderer": (()=>ImageRenderer),
    "LineRenderer": (()=>DefaultRenderer),
    "PathRenderer": (()=>DefaultRenderer),
    "Plugin": (()=>Plugin),
    "PolygonRenderer": (()=>DefaultRenderer),
    "PolylineRenderer": (()=>DefaultRenderer),
    "RectRenderer": (()=>DefaultRenderer),
    "TextRenderer": (()=>TextRenderer)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/defineProperty.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/objectSpread2.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/classCallCheck.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/createClass.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$callSuper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/callSuper.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$inherits$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/inherits.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-lite/dist/index.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$slicedToArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/slicedToArray.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$toConsumableArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/toConsumableArray.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classPrivateFieldLooseBase$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/classPrivateFieldLooseBase.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classPrivateFieldLooseKey$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/classPrivateFieldLooseKey.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$plugin$2d$image$2d$loader$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-plugin-image-loader/dist/index.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__ = __turbopack_import__("[project]/node_modules/@antv/util/esm/lodash/is-nil.js [app-ssr] (ecmascript) <export default as isNil>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__ = __turbopack_import__("[project]/node_modules/gl-matrix/esm/mat4.js [app-ssr] (ecmascript) <export * as mat4>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__ = __turbopack_import__("[project]/node_modules/gl-matrix/esm/vec3.js [app-ssr] (ecmascript) <export * as vec3>");
;
;
;
;
;
;
;
;
;
;
;
;
;
;
var _renderState = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classPrivateFieldLooseKey$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])("renderState");
/**
 * support 2 modes in rendering:
 * * immediate
 * * delayed: render at the end of frame with dirty-rectangle
 */ var CanvasRendererPlugin = /*#__PURE__*/ function() {
    /**
   * RBush used in dirty rectangle rendering
   */ function CanvasRendererPlugin(canvasRendererPluginOptions // private styleRendererFactory: Record<Shape, StyleRenderer>,
    ) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, CanvasRendererPlugin);
        this.removedRBushNodeAABBs = [];
        this.renderQueue = [];
        Object.defineProperty(this, _renderState, {
            writable: true,
            value: {
                restoreStack: [],
                prevObject: null,
                currentContext: new Map()
            }
        });
        this.clearFullScreenLastFrame = false;
        this.clearFullScreen = false;
        /**
     * view projection matrix
     */ this.vpMatrix = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].create();
        this.dprMatrix = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].create();
        this.tmpMat4 = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].create();
        this.vec3a = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].create();
        this.vec3b = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].create();
        this.vec3c = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].create();
        this.vec3d = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].create();
        this.canvasRendererPluginOptions = canvasRendererPluginOptions;
    }
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(CanvasRendererPlugin, [
        {
            key: "apply",
            value: function apply(context, runtime) {
                var _this = this;
                this.context = context;
                var _this$context = this.context, config = _this$context.config, camera = _this$context.camera, renderingService = _this$context.renderingService, renderingContext = _this$context.renderingContext, rBushRoot = _this$context.rBushRoot, pathGeneratorFactory = _this$context.pathGeneratorFactory;
                var enableRenderingOptimization = config.renderer.getConfig().enableRenderingOptimization;
                config.renderer.getConfig().enableDirtyCheck = false;
                config.renderer.getConfig().enableDirtyRectangleRendering = false;
                this.rBush = rBushRoot;
                this.pathGeneratorFactory = pathGeneratorFactory;
                var contextService = context.contextService;
                var canvas = renderingContext.root.ownerDocument.defaultView;
                var handleUnmounted = function handleUnmounted(e) {
                    var object = e.target;
                    // remove r-bush node
                    // @ts-ignore
                    var rBushNode = object.rBushNode;
                    if (rBushNode !== null && rBushNode !== void 0 && rBushNode.aabb) {
                        // save removed aabbs for dirty-rectangle rendering later
                        _this.removedRBushNodeAABBs.push(rBushNode.aabb);
                    }
                };
                var handleCulled = function handleCulled(e) {
                    var object = e.target;
                    // @ts-ignore
                    var rBushNode = object.rBushNode;
                    if (rBushNode.aabb) {
                        // save removed aabbs for dirty-rectangle rendering later
                        _this.removedRBushNodeAABBs.push(rBushNode.aabb);
                    }
                };
                renderingService.hooks.init.tap(CanvasRendererPlugin.tag, function() {
                    canvas.addEventListener(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ElementEvent"].UNMOUNTED, handleUnmounted);
                    canvas.addEventListener(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ElementEvent"].CULLED, handleCulled);
                    // clear fullscreen
                    var dpr = contextService.getDPR();
                    var width = config.width, height = config.height;
                    var context = contextService.getContext();
                    _this.clearRect(context, 0, 0, width * dpr, height * dpr, config.background);
                });
                renderingService.hooks.destroy.tap(CanvasRendererPlugin.tag, function() {
                    canvas.removeEventListener(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ElementEvent"].UNMOUNTED, handleUnmounted);
                    canvas.removeEventListener(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ElementEvent"].CULLED, handleCulled);
                    _this.renderQueue = [];
                    _this.removedRBushNodeAABBs = [];
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classPrivateFieldLooseBase$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_this, _renderState)[_renderState] = {
                        restoreStack: [],
                        prevObject: null,
                        currentContext: null
                    };
                });
                var beforeDraw = function beforeDraw() {
                    var _canvas$context$rende;
                    var context = contextService.getContext();
                    var dpr = contextService.getDPR();
                    var width = config.width, height = config.height;
                    var _this$canvasRendererP = _this.canvasRendererPluginOptions, dirtyObjectNumThreshold = _this$canvasRendererP.dirtyObjectNumThreshold, dirtyObjectRatioThreshold = _this$canvasRendererP.dirtyObjectRatioThreshold;
                    // some heuristic conditions such as 80% object changed
                    var _renderingService$get = renderingService.getStats(), total = _renderingService$get.total, rendered = _renderingService$get.rendered;
                    var ratio = rendered / total;
                    _this.clearFullScreen = _this.clearFullScreenLastFrame || // @ts-ignore
                    !((_canvas$context$rende = canvas.context.renderingPlugins[1]) !== null && _canvas$context$rende !== void 0 && _canvas$context$rende.isFirstTimeRenderingFinished) || renderingService.disableDirtyRectangleRendering() || rendered > dirtyObjectNumThreshold && ratio > dirtyObjectRatioThreshold;
                    if (!context) {
                        return;
                    }
                    if (typeof context.resetTransform === 'function') {
                        context.resetTransform();
                    } else {
                        context.setTransform(1, 0, 0, 1, 0, 0);
                    }
                    if (_this.clearFullScreen) {
                        _this.clearRect(context, 0, 0, width * dpr, height * dpr, config.background);
                    }
                };
                /**
       * render objects by z-index
       *
       * - The level of the child node will be affected by the level of the parent node
       */ var renderByZIndex = function renderByZIndex(object, context) {
                    var stack = [
                        object
                    ];
                    while(stack.length > 0){
                        var _currentObject$sortab;
                        var currentObject = stack.pop();
                        if (currentObject.isVisible() && !currentObject.isCulled()) {
                            if (enableRenderingOptimization) {
                                _this.renderDisplayObjectOptimized(currentObject, context, _this.context, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classPrivateFieldLooseBase$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_this, _renderState)[_renderState], runtime);
                            } else {
                                _this.renderDisplayObject(currentObject, context, _this.context, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classPrivateFieldLooseBase$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_this, _renderState)[_renderState], runtime);
                            }
                        }
                        var objects = ((_currentObject$sortab = currentObject.sortable) === null || _currentObject$sortab === void 0 || (_currentObject$sortab = _currentObject$sortab.sorted) === null || _currentObject$sortab === void 0 ? void 0 : _currentObject$sortab.length) > 0 ? currentObject.sortable.sorted : currentObject.childNodes;
                        // should account for z-index
                        for(var i = objects.length - 1; i >= 0; i--){
                            stack.push(objects[i]);
                        }
                    }
                };
                // render at the end of frame
                renderingService.hooks.endFrame.tap(CanvasRendererPlugin.tag, function() {
                    beforeDraw();
                    // Skip rendering.
                    if (renderingContext.root.childNodes.length === 0) {
                        _this.clearFullScreenLastFrame = true;
                        return;
                    }
                    enableRenderingOptimization = config.renderer.getConfig().enableRenderingOptimization;
                    // init
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classPrivateFieldLooseBase$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_this, _renderState)[_renderState] = {
                        restoreStack: [],
                        prevObject: null,
                        currentContext: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classPrivateFieldLooseBase$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_this, _renderState)[_renderState].currentContext
                    };
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classPrivateFieldLooseBase$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_this, _renderState)[_renderState].currentContext.clear();
                    _this.clearFullScreenLastFrame = false;
                    var context = contextService.getContext();
                    // clear & clip dirty rectangle
                    var dpr = contextService.getDPR();
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].fromScaling(_this.dprMatrix, [
                        dpr,
                        dpr,
                        1
                    ]);
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].multiply(_this.vpMatrix, _this.dprMatrix, camera.getOrthoMatrix());
                    if (_this.clearFullScreen) {
                        // console.time('renderByZIndex');
                        if (enableRenderingOptimization) {
                            context.save();
                            renderByZIndex(renderingContext.root, context);
                            context.restore();
                        } else {
                            renderByZIndex(renderingContext.root, context);
                        }
                        // console.timeEnd('renderByZIndex');
                        _this.removedRBushNodeAABBs = [];
                    } else {
                        // console.log('canvas renderer next...', this.renderQueue);
                        // merge removed AABB
                        var dirtyRenderBounds = _this.safeMergeAABB.apply(_this, [
                            _this.mergeDirtyAABBs(_this.renderQueue)
                        ].concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$toConsumableArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_this.removedRBushNodeAABBs.map(function(_ref) {
                            var minX = _ref.minX, minY = _ref.minY, maxX = _ref.maxX, maxY = _ref.maxY;
                            var aabb = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AABB"]();
                            aabb.setMinMax(// vec3.fromValues(minX, minY, 0),
                            // vec3.fromValues(maxX, maxY, 0),
                            [
                                minX,
                                minY,
                                0
                            ], [
                                maxX,
                                maxY,
                                0
                            ]);
                            return aabb;
                        }))));
                        _this.removedRBushNodeAABBs = [];
                        if (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AABB"].isEmpty(dirtyRenderBounds)) {
                            _this.renderQueue = [];
                            return;
                        }
                        var dirtyRect = _this.convertAABB2Rect(dirtyRenderBounds);
                        var x = dirtyRect.x, y = dirtyRect.y, width = dirtyRect.width, height = dirtyRect.height;
                        var tl = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].transformMat4(_this.vec3a, [
                            x,
                            y,
                            0
                        ], _this.vpMatrix);
                        var tr = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].transformMat4(_this.vec3b, [
                            x + width,
                            y,
                            0
                        ], _this.vpMatrix);
                        var bl = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].transformMat4(_this.vec3c, [
                            x,
                            y + height,
                            0
                        ], _this.vpMatrix);
                        var br = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].transformMat4(_this.vec3d, [
                            x + width,
                            y + height,
                            0
                        ], _this.vpMatrix);
                        var minx = Math.min(tl[0], tr[0], br[0], bl[0]);
                        var miny = Math.min(tl[1], tr[1], br[1], bl[1]);
                        var maxx = Math.max(tl[0], tr[0], br[0], bl[0]);
                        var maxy = Math.max(tl[1], tr[1], br[1], bl[1]);
                        var ix = Math.floor(minx);
                        var iy = Math.floor(miny);
                        var iwidth = Math.ceil(maxx - minx);
                        var iheight = Math.ceil(maxy - miny);
                        context.save();
                        _this.clearRect(context, ix, iy, iwidth, iheight, config.background);
                        context.beginPath();
                        context.rect(ix, iy, iwidth, iheight);
                        context.clip();
                        // @see https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Transformations
                        context.setTransform(_this.vpMatrix[0], _this.vpMatrix[1], _this.vpMatrix[4], _this.vpMatrix[5], _this.vpMatrix[12], _this.vpMatrix[13]);
                        // draw dirty rectangle
                        var _config$renderer$getC = config.renderer.getConfig(), enableDirtyRectangleRenderingDebug = _config$renderer$getC.enableDirtyRectangleRenderingDebug;
                        if (enableDirtyRectangleRenderingDebug) {
                            canvas.dispatchEvent(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CustomEvent"](__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CanvasEvent"].DIRTY_RECTANGLE, {
                                dirtyRect: {
                                    x: ix,
                                    y: iy,
                                    width: iwidth,
                                    height: iheight
                                }
                            }));
                        }
                        // search objects intersect with dirty rectangle
                        var dirtyObjects = _this.searchDirtyObjects(dirtyRenderBounds);
                        // do rendering
                        dirtyObjects// sort by z-index
                        .sort(function(a, b) {
                            return a.sortable.renderOrder - b.sortable.renderOrder;
                        }).forEach(function(object) {
                            // culled object should not be rendered
                            if (object && object.isVisible() && !object.isCulled()) {
                                _this.renderDisplayObject(object, context, _this.context, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classPrivateFieldLooseBase$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_this, _renderState)[_renderState], runtime);
                            }
                        });
                        context.restore();
                        // save dirty AABBs in last frame
                        _this.renderQueue.forEach(function(object) {
                            _this.saveDirtyAABB(object);
                        });
                        // clear queue
                        _this.renderQueue = [];
                    }
                    // pop restore stack, eg. root -> parent -> child
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classPrivateFieldLooseBase$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_this, _renderState)[_renderState].restoreStack.forEach(function() {
                        context.restore();
                    });
                    // clear restore stack
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classPrivateFieldLooseBase$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_this, _renderState)[_renderState].restoreStack = [];
                });
                renderingService.hooks.render.tap(CanvasRendererPlugin.tag, function(object) {
                    if (!_this.clearFullScreen) {
                        // render at the end of frame
                        _this.renderQueue.push(object);
                    }
                });
            }
        },
        {
            key: "clearRect",
            value: function clearRect(context, x, y, width, height, background) {
                // clearRect is faster than fillRect @see https://stackoverflow.com/a/30830253
                context.clearRect(x, y, width, height);
                if (background) {
                    context.fillStyle = background;
                    context.fillRect(x, y, width, height);
                }
            }
        },
        {
            key: "renderDisplayObjectOptimized",
            value: function renderDisplayObjectOptimized(object, context, canvasContext, renderState, runtime) {
                var nodeName = object.nodeName;
                var updateTransform = false;
                var clipDraw = false;
                // @ts-ignore
                var styleRenderer = this.context.styleRendererFactory[nodeName];
                var generatePath = this.pathGeneratorFactory[nodeName];
                // clip path
                var clipPath = object.parsedStyle.clipPath;
                if (clipPath) {
                    updateTransform = !renderState.prevObject || !__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].exactEquals(clipPath.getWorldTransform(), renderState.prevObject.getWorldTransform());
                    if (updateTransform) {
                        this.applyWorldTransform(context, clipPath);
                        renderState.prevObject = null;
                    }
                    // generate path in local space
                    var _generatePath = this.pathGeneratorFactory[clipPath.nodeName];
                    if (_generatePath) {
                        context.save();
                        clipDraw = true;
                        context.beginPath();
                        _generatePath(context, clipPath.parsedStyle);
                        context.closePath();
                        context.clip();
                    }
                }
                // fill & stroke
                if (styleRenderer) {
                    updateTransform = !renderState.prevObject || !__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].exactEquals(object.getWorldTransform(), renderState.prevObject.getWorldTransform());
                    if (updateTransform) {
                        this.applyWorldTransform(context, object);
                    }
                    var forceUpdateStyle = !renderState.prevObject;
                    if (!forceUpdateStyle) {
                        var prevNodeName = renderState.prevObject.nodeName;
                        if (nodeName === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].TEXT) {
                            forceUpdateStyle = prevNodeName !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].TEXT;
                        } else if (nodeName === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].IMAGE) {
                            forceUpdateStyle = prevNodeName !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].IMAGE;
                        } else {
                            forceUpdateStyle = prevNodeName === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].TEXT || prevNodeName === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].IMAGE;
                        }
                    }
                    styleRenderer.applyStyleToContext(context, object, forceUpdateStyle, renderState);
                    renderState.prevObject = object;
                }
                if (generatePath) {
                    context.beginPath();
                    generatePath(context, object.parsedStyle);
                    if (nodeName !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].LINE && nodeName !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].PATH && nodeName !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].POLYLINE) {
                        context.closePath();
                    }
                }
                // fill & stroke
                if (styleRenderer) {
                    styleRenderer.drawToContext(context, object, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classPrivateFieldLooseBase$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, _renderState)[_renderState], this, runtime);
                }
                if (clipDraw) {
                    context.restore();
                }
                // finish rendering, clear dirty flag
                object.dirty(false);
            }
        },
        {
            key: "renderDisplayObject",
            value: function renderDisplayObject(object, context, canvasContext, renderState, runtime) {
                var nodeName = object.nodeName;
                // restore to its ancestor
                var parent = renderState.restoreStack[renderState.restoreStack.length - 1];
                if (parent && !(object.compareDocumentPosition(parent) & __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Node"].DOCUMENT_POSITION_CONTAINS)) {
                    context.restore();
                    renderState.restoreStack.pop();
                }
                // @ts-ignore
                var styleRenderer = this.context.styleRendererFactory[nodeName];
                var generatePath = this.pathGeneratorFactory[nodeName];
                // clip path
                var clipPath = object.parsedStyle.clipPath;
                if (clipPath) {
                    this.applyWorldTransform(context, clipPath);
                    // generate path in local space
                    var _generatePath2 = this.pathGeneratorFactory[clipPath.nodeName];
                    if (_generatePath2) {
                        context.save();
                        // save clip
                        renderState.restoreStack.push(object);
                        context.beginPath();
                        _generatePath2(context, clipPath.parsedStyle);
                        context.closePath();
                        context.clip();
                    }
                }
                // fill & stroke
                if (styleRenderer) {
                    this.applyWorldTransform(context, object);
                    context.save();
                    // apply attributes to context
                    this.applyAttributesToContext(context, object);
                }
                if (generatePath) {
                    context.beginPath();
                    generatePath(context, object.parsedStyle);
                    if (nodeName !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].LINE && nodeName !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].PATH && nodeName !== __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].POLYLINE) {
                        context.closePath();
                    }
                }
                // fill & stroke
                if (styleRenderer) {
                    styleRenderer.render(context, object.parsedStyle, object, canvasContext, this, runtime);
                    // restore applied attributes, eg. shadowBlur shadowColor...
                    context.restore();
                }
                // finish rendering, clear dirty flag
                object.dirty(false);
            }
        },
        {
            key: "applyAttributesToContext",
            value: function applyAttributesToContext(context, object) {
                var _ref2 = object.parsedStyle, stroke = _ref2.stroke, fill = _ref2.fill, opacity = _ref2.opacity, lineDash = _ref2.lineDash, lineDashOffset = _ref2.lineDashOffset;
                // @see https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/setLineDash
                if (lineDash) {
                    context.setLineDash(lineDash);
                }
                // @see https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/lineDashOffset
                if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__["isNil"])(lineDashOffset)) {
                    context.lineDashOffset = lineDashOffset;
                }
                if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__["isNil"])(opacity)) {
                    context.globalAlpha *= opacity;
                }
                if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__["isNil"])(stroke) && !Array.isArray(stroke) && !stroke.isNone) {
                    context.strokeStyle = object.attributes.stroke;
                }
                if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__["isNil"])(fill) && !Array.isArray(fill) && !fill.isNone) {
                    context.fillStyle = object.attributes.fill;
                }
            }
        },
        {
            key: "convertAABB2Rect",
            value: function convertAABB2Rect(aabb) {
                var min = aabb.getMin();
                var max = aabb.getMax();
                // expand the rectangle a bit to avoid artifacts
                // @see https://www.yuque.com/antv/ou292n/bi8nix#ExvCu
                var minX = Math.floor(min[0]);
                var minY = Math.floor(min[1]);
                var maxX = Math.ceil(max[0]);
                var maxY = Math.ceil(max[1]);
                var width = maxX - minX;
                var height = maxY - minY;
                return {
                    x: minX,
                    y: minY,
                    width: width,
                    height: height
                };
            }
        },
        {
            key: "mergeDirtyAABBs",
            value: function mergeDirtyAABBs(dirtyObjects) {
                // merge into a big AABB
                // TODO: skip descendant if ancestor is caculated, but compareNodePosition is really slow
                var aabb = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AABB"]();
                dirtyObjects.forEach(function(object) {
                    var renderBounds = object.getRenderBounds();
                    aabb.add(renderBounds);
                    var dirtyRenderBounds = object.renderable.dirtyRenderBounds;
                    if (dirtyRenderBounds) {
                        aabb.add(dirtyRenderBounds);
                    }
                });
                return aabb;
            }
        },
        {
            key: "searchDirtyObjects",
            value: function searchDirtyObjects(dirtyRectangle) {
                // search in r-tree, get all affected nodes
                var _dirtyRectangle$getMi = dirtyRectangle.getMin(), _dirtyRectangle$getMi2 = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$slicedToArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_dirtyRectangle$getMi, 2), minX = _dirtyRectangle$getMi2[0], minY = _dirtyRectangle$getMi2[1];
                var _dirtyRectangle$getMa = dirtyRectangle.getMax(), _dirtyRectangle$getMa2 = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$slicedToArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_dirtyRectangle$getMa, 2), maxX = _dirtyRectangle$getMa2[0], maxY = _dirtyRectangle$getMa2[1];
                var rBushNodes = this.rBush.search({
                    minX: minX,
                    minY: minY,
                    maxX: maxX,
                    maxY: maxY
                });
                return rBushNodes.map(function(_ref3) {
                    var displayObject = _ref3.displayObject;
                    return displayObject;
                });
            }
        },
        {
            key: "saveDirtyAABB",
            value: function saveDirtyAABB(object) {
                var renderable = object.renderable;
                if (!renderable.dirtyRenderBounds) {
                    renderable.dirtyRenderBounds = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AABB"]();
                }
                var renderBounds = object.getRenderBounds();
                if (renderBounds) {
                    // save last dirty aabb
                    renderable.dirtyRenderBounds.update(renderBounds.center, renderBounds.halfExtents);
                }
            }
        },
        {
            key: "applyWorldTransform",
            value: function applyWorldTransform(context, object, matrix) {
                // apply clip shape's RTS
                if (matrix) {
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].copy(this.tmpMat4, object.getLocalTransform());
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].multiply(this.tmpMat4, matrix, this.tmpMat4);
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].multiply(this.tmpMat4, this.vpMatrix, this.tmpMat4);
                } else {
                    // apply RTS transformation in world space
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].copy(this.tmpMat4, object.getWorldTransform());
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].multiply(this.tmpMat4, this.vpMatrix, this.tmpMat4);
                }
                // @see https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Transformations
                context.setTransform(this.tmpMat4[0], this.tmpMat4[1], this.tmpMat4[4], this.tmpMat4[5], this.tmpMat4[12], this.tmpMat4[13]);
            }
        },
        {
            key: "safeMergeAABB",
            value: function safeMergeAABB() {
                var merged = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AABB"]();
                for(var _len = arguments.length, aabbs = new Array(_len), _key = 0; _key < _len; _key++){
                    aabbs[_key] = arguments[_key];
                }
                aabbs.forEach(function(aabb) {
                    merged.add(aabb);
                });
                return merged;
            }
        }
    ]);
}();
CanvasRendererPlugin.tag = 'CanvasRenderer';
function getPattern(pattern, object, context, canvasContext, plugin, runtime, imagePool) {
    var $offscreenCanvas;
    var dpr;
    if (pattern.image.nodeName === 'rect') {
        var _parsedStyle = pattern.image.parsedStyle, width = _parsedStyle.width, height = _parsedStyle.height;
        dpr = canvasContext.contextService.getDPR();
        var offscreenCanvas = canvasContext.config.offscreenCanvas;
        $offscreenCanvas = runtime.offscreenCanvasCreator.getOrCreateCanvas(offscreenCanvas);
        $offscreenCanvas.width = width * dpr;
        $offscreenCanvas.height = height * dpr;
        var offscreenCanvasContext = runtime.offscreenCanvasCreator.getOrCreateContext(offscreenCanvas);
        var renderState = {
            restoreStack: [],
            prevObject: null,
            currentContext: new Map()
        };
        // offscreenCanvasContext.scale(1 / dpr, 1 / dpr);
        pattern.image.forEach(function(object) {
            plugin.renderDisplayObject(object, offscreenCanvasContext, canvasContext, renderState, runtime);
        });
        renderState.restoreStack.forEach(function() {
            offscreenCanvasContext.restore();
        });
    }
    var canvasPattern = imagePool.getOrCreatePatternSync(object, pattern, context, $offscreenCanvas, dpr, object.getGeometryBounds().min, function() {
        // set dirty rectangle flag
        object.dirty();
        canvasContext.renderingService.dirtify();
    });
    return canvasPattern;
}
function getColor(parsedColor, object, context, imagePool) {
    var color;
    if (parsedColor.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["GradientType"].LinearGradient || parsedColor.type === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["GradientType"].RadialGradient) {
        var bounds = object.getGeometryBounds();
        var width = bounds && bounds.halfExtents[0] * 2 || 1;
        var height = bounds && bounds.halfExtents[1] * 2 || 1;
        var min = bounds && bounds.min || [
            0,
            0
        ];
        color = imagePool.getOrCreateGradient((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({
            type: parsedColor.type
        }, parsedColor.value), {}, {
            min: min,
            width: width,
            height: height
        }), context);
    }
    return color;
}
var SHADOW_NUMBER_STYLE = [
    'shadowBlur',
    'shadowOffsetX',
    'shadowOffsetY'
];
var STROKE_STYLE = [
    'lineCap',
    'lineJoin',
    'miterLimit'
];
var DEFAULT_STYLE = {
    // common
    globalAlpha: 1,
    shadowBlur: 0,
    shadowOffsetX: 0,
    shadowOffsetY: 0,
    shadowColor: '#000',
    filter: 'none',
    globalCompositeOperation: 'source-over',
    // stroke/fill
    strokeStyle: '#000',
    strokeOpacity: 1,
    lineWidth: 1,
    lineDash: [],
    lineDashOffset: 0,
    lineCap: 'butt',
    lineJoin: 'miter',
    miterLimit: 10,
    fillStyle: '#000',
    fillOpacity: 1
};
var defaultParsedStyle = {};
/**
 * Updating the canvas context is an expensive operation. The state of the context is cached and the actual update operation is performed only when the cache is not hit.
 *
 * In any case, the previous value is returned, which is convenient for temporarily updating the context and restoring it later.
 */ function updateContextIfNotHitCache(context, key, value, cache) {
    var prevValue = cache.has(key) ? cache.get(key) : DEFAULT_STYLE[key];
    if (prevValue !== value) {
        // console.log('not hit cache', key, value, prevValue, cache);
        if (key === 'lineDash') {
            context.setLineDash(value);
        } else {
            // @ts-ignore
            context[key] = value;
        }
        cache.set(key, value);
    }
    return prevValue;
}
var OptimizedDefaultRenderer = /*#__PURE__*/ function() {
    function OptimizedDefaultRenderer(imagePool) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, OptimizedDefaultRenderer);
        this.imagePool = imagePool;
    }
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(OptimizedDefaultRenderer, [
        {
            key: "applyAttributesToContext",
            value: function applyAttributesToContext(context, object) {}
        },
        {
            key: "render",
            value: function render(context, parsedStyle, object, canvasContext, plugin, runtime) {}
        },
        {
            key: "applyCommonStyleToContext",
            value: function applyCommonStyleToContext(context, object, forceUpdate, renderState) {
                // const dpr = object.ownerDocument.defaultView.getContextService().getDPR();
                var prevStyle = forceUpdate ? defaultParsedStyle : renderState.prevObject.parsedStyle;
                var style = object.parsedStyle;
                if (forceUpdate || style.opacity !== prevStyle.opacity) {
                    updateContextIfNotHitCache(context, 'globalAlpha', !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__["isNil"])(style.opacity) ? style.opacity : DEFAULT_STYLE.globalAlpha, renderState.currentContext);
                }
                // TODO blend prop
                // @ts-ignore
                if (forceUpdate || style.blend !== prevStyle.blend) {
                    updateContextIfNotHitCache(context, 'globalCompositeOperation', // @ts-ignore
                    !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__["isNil"])(style.blend) ? // @ts-ignore
                    style.blend : DEFAULT_STYLE.globalCompositeOperation, renderState.currentContext);
                }
            }
        },
        {
            key: "applyStrokeFillStyleToContext",
            value: function applyStrokeFillStyleToContext(context, object, forceUpdate, renderState) {
                var prevStyle = forceUpdate ? defaultParsedStyle : renderState.prevObject.parsedStyle;
                var style = object.parsedStyle;
                var _style$lineWidth = style.lineWidth, lineWidth = _style$lineWidth === void 0 ? DEFAULT_STYLE.lineWidth : _style$lineWidth;
                var hasFill = style.fill && !style.fill.isNone;
                var hasStroke = style.stroke && !style.stroke.isNone && lineWidth > 0;
                if (hasStroke) {
                    if (forceUpdate || object.attributes.stroke !== renderState.prevObject.attributes.stroke) {
                        var value = !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__["isNil"])(style.stroke) && !Array.isArray(style.stroke) && !style.stroke.isNone ? object.attributes.stroke : DEFAULT_STYLE.strokeStyle;
                        updateContextIfNotHitCache(context, 'strokeStyle', value, renderState.currentContext);
                    }
                    if (forceUpdate || style.lineWidth !== prevStyle.lineWidth) {
                        updateContextIfNotHitCache(context, 'lineWidth', !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__["isNil"])(style.lineWidth) ? style.lineWidth : DEFAULT_STYLE.lineWidth, renderState.currentContext);
                    }
                    if (forceUpdate || style.lineDash !== prevStyle.lineDash) {
                        updateContextIfNotHitCache(context, 'lineDash', style.lineDash || DEFAULT_STYLE.lineDash, renderState.currentContext);
                    }
                    if (forceUpdate || style.lineDashOffset !== prevStyle.lineDashOffset) {
                        updateContextIfNotHitCache(context, 'lineDashOffset', !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__["isNil"])(style.lineDashOffset) ? style.lineDashOffset : DEFAULT_STYLE.lineDashOffset, renderState.currentContext);
                    }
                    for(var i = 0; i < STROKE_STYLE.length; i++){
                        var styleName = STROKE_STYLE[i];
                        if (forceUpdate || style[styleName] !== prevStyle[styleName]) {
                            updateContextIfNotHitCache(context, styleName, !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__["isNil"])(style[styleName]) ? style[styleName] : DEFAULT_STYLE[styleName], renderState.currentContext);
                        }
                    }
                }
                if (hasFill && (forceUpdate || object.attributes.fill !== renderState.prevObject.attributes.fill)) {
                    var _value = !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__["isNil"])(style.fill) && !Array.isArray(style.fill) && !style.fill.isNone ? object.attributes.fill : DEFAULT_STYLE.fillStyle;
                    updateContextIfNotHitCache(context, 'fillStyle', _value, renderState.currentContext);
                }
            }
        },
        {
            key: "applyStyleToContext",
            value: function applyStyleToContext(context, object, forceUpdate, renderState) {
                var nodeName = object.nodeName;
                this.applyCommonStyleToContext(context, object, forceUpdate, renderState);
                if (nodeName === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].IMAGE) ;
                else {
                    this.applyStrokeFillStyleToContext(context, object, forceUpdate, renderState);
                }
            }
        },
        {
            key: "applyShadowAndFilterStyleToContext",
            value: function applyShadowAndFilterStyleToContext(context, object, hasShadow, renderState) {
                var style = object.parsedStyle;
                if (hasShadow) {
                    updateContextIfNotHitCache(context, 'shadowColor', style.shadowColor.toString(), renderState.currentContext);
                    for(var i = 0; i < SHADOW_NUMBER_STYLE.length; i++){
                        var styleName = SHADOW_NUMBER_STYLE[i];
                        updateContextIfNotHitCache(context, styleName, style[styleName] || DEFAULT_STYLE[styleName], renderState.currentContext);
                    }
                }
                if (style.filter && style.filter.length) {
                    updateContextIfNotHitCache(context, 'filter', // use raw filter string
                    object.attributes.filter, renderState.currentContext);
                }
            }
        },
        {
            key: "clearShadowAndFilterStyleForContext",
            value: function clearShadowAndFilterStyleForContext(context, hasShadow, hasFilter, renderState) {
                var onlyClearShadowFilter = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;
                if (hasShadow) {
                    updateContextIfNotHitCache(context, 'shadowColor', DEFAULT_STYLE.shadowColor, renderState.currentContext);
                    for(var i = 0; i < SHADOW_NUMBER_STYLE.length; i++){
                        var styleName = SHADOW_NUMBER_STYLE[i];
                        updateContextIfNotHitCache(context, styleName, DEFAULT_STYLE[styleName], renderState.currentContext);
                    }
                }
                if (hasFilter) {
                    if (hasShadow && onlyClearShadowFilter) {
                        // save drop-shadow filter
                        var oldFilter = context.filter;
                        if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__["isNil"])(oldFilter) && oldFilter.indexOf('drop-shadow') > -1) {
                            updateContextIfNotHitCache(context, 'filter', oldFilter.replace(/drop-shadow\([^)]*\)/, '').trim() || DEFAULT_STYLE.filter, renderState.currentContext);
                        }
                    } else {
                        updateContextIfNotHitCache(context, 'filter', DEFAULT_STYLE.filter, renderState.currentContext);
                    }
                }
            }
        },
        {
            key: "fillToContext",
            value: function fillToContext(context, object, renderState, plugin, runtime) {
                var _this = this;
                var _object$parsedStyle = object.parsedStyle, fill = _object$parsedStyle.fill, fillRule = _object$parsedStyle.fillRule;
                var resetStyle = null;
                if (Array.isArray(fill) && fill.length > 0) {
                    fill.forEach(function(gradient) {
                        var prevStyle = updateContextIfNotHitCache(context, 'fillStyle', getColor(gradient, object, context, _this.imagePool), renderState.currentContext);
                        resetStyle = resetStyle !== null && resetStyle !== void 0 ? resetStyle : prevStyle;
                        if (fillRule) {
                            context.fill(fillRule);
                        } else {
                            context.fill();
                        }
                    });
                } else {
                    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPattern"])(fill)) {
                        var pattern = getPattern(fill, object, context, object.ownerDocument.defaultView.context, plugin, runtime, this.imagePool);
                        if (pattern) {
                            context.fillStyle = pattern;
                            resetStyle = true;
                        }
                    }
                    if (fillRule) {
                        context.fill(fillRule);
                    } else {
                        context.fill();
                    }
                }
                if (resetStyle !== null) {
                    updateContextIfNotHitCache(context, 'fillStyle', resetStyle, renderState.currentContext);
                }
            }
        },
        {
            key: "strokeToContext",
            value: function strokeToContext(context, object, renderState, plugin, runtime) {
                var _this2 = this;
                var stroke = object.parsedStyle.stroke;
                var resetStyle = null;
                if (Array.isArray(stroke) && stroke.length > 0) {
                    stroke.forEach(function(gradient) {
                        var prevStyle = updateContextIfNotHitCache(context, 'strokeStyle', getColor(gradient, object, context, _this2.imagePool), renderState.currentContext);
                        resetStyle = resetStyle !== null && resetStyle !== void 0 ? resetStyle : prevStyle;
                        context.stroke();
                    });
                } else {
                    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPattern"])(stroke)) {
                        var pattern = getPattern(stroke, object, context, object.ownerDocument.defaultView.context, plugin, runtime, this.imagePool);
                        if (pattern) {
                            var prevStyle = updateContextIfNotHitCache(context, 'strokeStyle', pattern, renderState.currentContext);
                            resetStyle = resetStyle !== null && resetStyle !== void 0 ? resetStyle : prevStyle;
                        }
                    }
                    context.stroke();
                }
                if (resetStyle !== null) {
                    updateContextIfNotHitCache(context, 'strokeStyle', resetStyle, renderState.currentContext);
                }
            }
        },
        {
            key: "drawToContext",
            value: function drawToContext(context, object, renderState, plugin, runtime) {
                var _style$fill;
                var nodeName = object.nodeName;
                var style = object.parsedStyle;
                var _style$opacity = style.opacity, opacity = _style$opacity === void 0 ? DEFAULT_STYLE.globalAlpha : _style$opacity, _style$fillOpacity = style.fillOpacity, fillOpacity = _style$fillOpacity === void 0 ? DEFAULT_STYLE.fillOpacity : _style$fillOpacity, _style$strokeOpacity = style.strokeOpacity, strokeOpacity = _style$strokeOpacity === void 0 ? DEFAULT_STYLE.strokeOpacity : _style$strokeOpacity, _style$lineWidth2 = style.lineWidth, lineWidth = _style$lineWidth2 === void 0 ? DEFAULT_STYLE.lineWidth : _style$lineWidth2;
                var hasFill = style.fill && !style.fill.isNone;
                var hasStroke = style.stroke && !style.stroke.isNone && lineWidth > 0;
                if (!hasFill && !hasStroke) {
                    return;
                }
                var hasShadow = !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__["isNil"])(style.shadowColor) && style.shadowBlur > 0;
                var isInnerShadow = style.shadowType === 'inner';
                var isFillTransparent = ((_style$fill = style.fill) === null || _style$fill === void 0 ? void 0 : _style$fill.alpha) === 0;
                var hasFilter = !!(style.filter && style.filter.length);
                // Shadows can only be applied to fill() or stroke(), the default is fill()
                var shouldDrawShadowWithStroke = hasShadow && hasStroke && (nodeName === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].PATH || nodeName === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].LINE || nodeName === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].POLYLINE || isFillTransparent || isInnerShadow);
                // TODO https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/paint-order
                var originGlobalAlpha = null;
                if (hasFill) {
                    if (!shouldDrawShadowWithStroke) {
                        this.applyShadowAndFilterStyleToContext(context, object, hasShadow, renderState);
                    }
                    var updateOpacity = opacity * fillOpacity;
                    originGlobalAlpha = updateContextIfNotHitCache(context, 'globalAlpha', updateOpacity, renderState.currentContext);
                    this.fillToContext(context, object, renderState, plugin, runtime);
                    if (!shouldDrawShadowWithStroke) {
                        this.clearShadowAndFilterStyleForContext(context, hasShadow, hasFilter, renderState);
                    }
                }
                if (hasStroke) {
                    var clearShadowAndFilter = false;
                    var _updateOpacity = opacity * strokeOpacity;
                    var prevOpacity = updateContextIfNotHitCache(context, 'globalAlpha', _updateOpacity, renderState.currentContext);
                    originGlobalAlpha = hasFill ? originGlobalAlpha : prevOpacity;
                    if (shouldDrawShadowWithStroke) {
                        this.applyShadowAndFilterStyleToContext(context, object, hasShadow, renderState);
                        clearShadowAndFilter = true;
                        if (isInnerShadow) {
                            var originBlend = context.globalCompositeOperation;
                            context.globalCompositeOperation = 'source-atop';
                            this.strokeToContext(context, object, renderState, plugin, runtime);
                            context.globalCompositeOperation = originBlend;
                            this.clearShadowAndFilterStyleForContext(context, hasShadow, hasFilter, renderState, true);
                        }
                    }
                    this.strokeToContext(context, object, renderState, plugin, runtime);
                    if (clearShadowAndFilter) {
                        this.clearShadowAndFilterStyleForContext(context, hasShadow, hasFilter, renderState);
                    }
                }
                // clear
                if (originGlobalAlpha !== null) {
                    updateContextIfNotHitCache(context, 'globalAlpha', originGlobalAlpha, renderState.currentContext);
                }
            }
        }
    ]);
}();
var DefaultRenderer = /*#__PURE__*/ function(_OptimizedDefaultRend) {
    function DefaultRenderer() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, DefaultRenderer);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$callSuper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, DefaultRenderer, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$inherits$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(DefaultRenderer, _OptimizedDefaultRend);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(DefaultRenderer, [
        {
            key: "render",
            value: function render(context, parsedStyle, object, canvasContext, plugin, runtime) {
                var fill = parsedStyle.fill, fillRule = parsedStyle.fillRule, _parsedStyle$opacity = parsedStyle.opacity, opacity = _parsedStyle$opacity === void 0 ? 1 : _parsedStyle$opacity, _parsedStyle$fillOpac = parsedStyle.fillOpacity, fillOpacity = _parsedStyle$fillOpac === void 0 ? 1 : _parsedStyle$fillOpac, stroke = parsedStyle.stroke, _parsedStyle$strokeOp = parsedStyle.strokeOpacity, strokeOpacity = _parsedStyle$strokeOp === void 0 ? 1 : _parsedStyle$strokeOp, _parsedStyle$lineWidt = parsedStyle.lineWidth, lineWidth = _parsedStyle$lineWidt === void 0 ? 1 : _parsedStyle$lineWidt, lineCap = parsedStyle.lineCap, lineJoin = parsedStyle.lineJoin, shadowType = parsedStyle.shadowType, shadowColor = parsedStyle.shadowColor, shadowBlur = parsedStyle.shadowBlur, filter = parsedStyle.filter, miterLimit = parsedStyle.miterLimit;
                var hasFill = fill && !fill.isNone;
                var hasStroke = stroke && !stroke.isNone && lineWidth > 0;
                var isFillTransparent = (fill === null || fill === void 0 ? void 0 : fill.alpha) === 0;
                var hasFilter = !!(filter && filter.length);
                var hasShadow = !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__["isNil"])(shadowColor) && shadowBlur > 0;
                var nodeName = object.nodeName;
                var isInnerShadow = shadowType === 'inner';
                var shouldDrawShadowWithStroke = hasStroke && hasShadow && (nodeName === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].PATH || nodeName === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].LINE || nodeName === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].POLYLINE || isFillTransparent || isInnerShadow);
                if (hasFill) {
                    context.globalAlpha = opacity * fillOpacity;
                    if (!shouldDrawShadowWithStroke) {
                        setShadowAndFilter(object, context, hasShadow);
                    }
                    applyFill(context, object, fill, fillRule, canvasContext, plugin, runtime, this.imagePool);
                    if (!shouldDrawShadowWithStroke) {
                        this.clearShadowAndFilter(context, hasFilter, hasShadow);
                    }
                }
                if (hasStroke) {
                    context.globalAlpha = opacity * strokeOpacity;
                    context.lineWidth = lineWidth;
                    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__["isNil"])(miterLimit)) {
                        context.miterLimit = miterLimit;
                    }
                    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__["isNil"])(lineCap)) {
                        context.lineCap = lineCap;
                    }
                    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__["isNil"])(lineJoin)) {
                        context.lineJoin = lineJoin;
                    }
                    if (shouldDrawShadowWithStroke) {
                        if (isInnerShadow) {
                            context.globalCompositeOperation = 'source-atop';
                        }
                        setShadowAndFilter(object, context, true);
                        if (isInnerShadow) {
                            applyStroke(context, object, stroke, canvasContext, plugin, runtime, this.imagePool);
                            context.globalCompositeOperation = DEFAULT_STYLE.globalCompositeOperation;
                            this.clearShadowAndFilter(context, hasFilter, true);
                        }
                    }
                    applyStroke(context, object, stroke, canvasContext, plugin, runtime, this.imagePool);
                }
            }
        },
        {
            key: "clearShadowAndFilter",
            value: function clearShadowAndFilter(context, hasFilter, hasShadow) {
                if (hasShadow) {
                    context.shadowColor = 'transparent';
                    context.shadowBlur = 0;
                }
                if (hasFilter) {
                    // save drop-shadow filter
                    var oldFilter = context.filter;
                    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__["isNil"])(oldFilter) && oldFilter.indexOf('drop-shadow') > -1) {
                        context.filter = oldFilter.replace(/drop-shadow\([^)]*\)/, '').trim() || 'none';
                    }
                }
            }
        }
    ]);
}(OptimizedDefaultRenderer);
/**
 * apply before fill and stroke but only once
 */ function setShadowAndFilter(object, context, hasShadow) {
    var _object$parsedStyle = object.parsedStyle, filter = _object$parsedStyle.filter, shadowColor = _object$parsedStyle.shadowColor, shadowBlur = _object$parsedStyle.shadowBlur, shadowOffsetX = _object$parsedStyle.shadowOffsetX, shadowOffsetY = _object$parsedStyle.shadowOffsetY;
    if (filter && filter.length) {
        // use raw filter string
        context.filter = object.style.filter;
    }
    if (hasShadow) {
        context.shadowColor = shadowColor.toString();
        context.shadowBlur = shadowBlur || 0;
        context.shadowOffsetX = shadowOffsetX || 0;
        context.shadowOffsetY = shadowOffsetY || 0;
    }
}
function applyFill(context, object, fill, fillRule, canvasContext, plugin, runtime, imagePool) {
    var skipFill = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : false;
    if (Array.isArray(fill)) {
        fill.forEach(function(gradient) {
            context.fillStyle = getColor(gradient, object, context, imagePool);
            if (!skipFill) {
                fillRule ? context.fill(fillRule) : context.fill();
            }
        });
    } else {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPattern"])(fill)) {
            context.fillStyle = getPattern(fill, object, context, canvasContext, plugin, runtime, imagePool);
        }
        if (!skipFill) {
            fillRule ? context.fill(fillRule) : context.fill();
        }
    }
}
function applyStroke(context, object, stroke, canvasContext, plugin, runtime, imagePool) {
    var skipStroke = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : false;
    if (Array.isArray(stroke)) {
        stroke.forEach(function(gradient) {
            context.strokeStyle = getColor(gradient, object, context, imagePool);
            if (!skipStroke) {
                context.stroke();
            }
        });
    } else {
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPattern"])(stroke)) {
            context.strokeStyle = getPattern(stroke, object, context, canvasContext, plugin, runtime, imagePool);
        }
        if (!skipStroke) {
            context.stroke();
        }
    }
}
function calculateOverlapRect(rect1, rect2) {
    var _rect = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$slicedToArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(rect1, 4), x1 = _rect[0], y1 = _rect[1], w1 = _rect[2], h1 = _rect[3];
    var _rect2 = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$slicedToArray$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(rect2, 4), x2 = _rect2[0], y2 = _rect2[1], w2 = _rect2[2], h2 = _rect2[3];
    // 计算重叠区域的左上角和右下角
    var overlapLeft = Math.max(x1, x2);
    var overlapTop = Math.max(y1, y2);
    var overlapRight = Math.min(x1 + w1, x2 + w2);
    var overlapBottom = Math.min(y1 + h1, y2 + h2);
    if (overlapRight <= overlapLeft || overlapBottom <= overlapTop) {
        return null;
    }
    return [
        overlapLeft,
        overlapTop,
        overlapRight - overlapLeft,
        overlapBottom - overlapTop
    ];
}
function transformRect(rect, matrix) {
    var tl = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].transformMat4(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].create(), [
        rect[0],
        rect[1],
        0
    ], matrix);
    var tr = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].transformMat4(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].create(), [
        rect[0] + rect[2],
        rect[1],
        0
    ], matrix);
    var bl = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].transformMat4(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].create(), [
        rect[0],
        rect[1] + rect[3],
        0
    ], matrix);
    var br = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].transformMat4(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].create(), [
        rect[0] + rect[2],
        rect[1] + rect[3],
        0
    ], matrix);
    return [
        Math.min(tl[0], tr[0], bl[0], br[0]),
        Math.min(tl[1], tr[1], bl[1], br[1]),
        Math.max(tl[0], tr[0], bl[0], br[0]) - Math.min(tl[0], tr[0], bl[0], br[0]),
        Math.max(tl[1], tr[1], bl[1], br[1]) - Math.min(tl[1], tr[1], bl[1], br[1])
    ];
}
var ImageRenderer = /*#__PURE__*/ function(_DefaultRenderer) {
    function ImageRenderer() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, ImageRenderer);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$callSuper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, ImageRenderer, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$inherits$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(ImageRenderer, _DefaultRenderer);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(ImageRenderer, [
        {
            key: "renderDownSampled",
            value: function renderDownSampled(context, parsedStyle, object, data) {
                var src = data.src, imageCache = data.imageCache;
                if (!imageCache.downSampled) {
                    this.imagePool.createDownSampledImage(src, object).then(function() {
                        // be removed from dom tree
                        if (!object.ownerDocument) {
                            return;
                        }
                        // rerender
                        object.dirty();
                        object.ownerDocument.defaultView.context.renderingService.dirtify();
                    })["catch"](function(reason) {
                        console.error(reason);
                    });
                    return;
                }
                context.drawImage(imageCache.downSampled, Math.floor(data.drawRect[0]), Math.floor(data.drawRect[1]), Math.ceil(data.drawRect[2]), Math.ceil(data.drawRect[3]));
            }
        },
        {
            key: "renderTile",
            value: function renderTile(context, parsedStyle, object, data) {
                var src = data.src, imageCache = data.imageCache, imageRect = data.imageRect, drawRect = data.drawRect;
                var originalSize = imageCache.size;
                var _context$getTransform = context.getTransform(), a = _context$getTransform.a, b = _context$getTransform.b, c = _context$getTransform.c, d = _context$getTransform.d, e = _context$getTransform.e, f = _context$getTransform.f;
                context.resetTransform();
                if (!(imageCache !== null && imageCache !== void 0 && imageCache.gridSize)) {
                    this.imagePool.createImageTiles(src, [], function() {
                        // be removed from dom tree
                        if (!object.ownerDocument) {
                            return;
                        }
                        // rerender
                        object.dirty();
                        object.ownerDocument.defaultView.context.renderingService.dirtify();
                    }, object)["catch"](function(reason) {
                        console.error(reason);
                    });
                    return;
                }
                var scaleToOrigin = [
                    originalSize[0] / imageRect[2],
                    originalSize[1] / imageRect[3]
                ];
                var scaledTileSize = [
                    imageCache.tileSize[0] / scaleToOrigin[0],
                    imageCache.tileSize[1] / scaleToOrigin[1]
                ];
                var _ref = [
                    Math.floor((drawRect[0] - imageRect[0]) / scaledTileSize[0]),
                    Math.ceil((drawRect[0] + drawRect[2] - imageRect[0]) / scaledTileSize[0])
                ], startTileX = _ref[0], endTileX = _ref[1];
                var _ref2 = [
                    Math.floor((drawRect[1] - imageRect[1]) / scaledTileSize[1]),
                    Math.ceil((drawRect[1] + drawRect[3] - imageRect[1]) / scaledTileSize[1])
                ], startTileY = _ref2[0], endTileY = _ref2[1];
                for(var tileY = startTileY; tileY <= endTileY; tileY++){
                    for(var tileX = startTileX; tileX <= endTileX; tileX++){
                        var item = imageCache.tiles[tileY][tileX];
                        if (item) {
                            var tileRect = [
                                Math.floor(imageRect[0] + item.tileX * scaledTileSize[0]),
                                Math.floor(imageRect[1] + item.tileY * scaledTileSize[1]),
                                Math.ceil(scaledTileSize[0]),
                                Math.ceil(scaledTileSize[1])
                            ];
                            context.drawImage(item.data, tileRect[0], tileRect[1], tileRect[2], tileRect[3]);
                        }
                    }
                }
                context.setTransform(a, b, c, d, e, f);
            }
        },
        {
            key: "render",
            value: function render(context, parsedStyle, object) {
                var _parsedStyle$x = parsedStyle.x, x = _parsedStyle$x === void 0 ? 0 : _parsedStyle$x, _parsedStyle$y = parsedStyle.y, y = _parsedStyle$y === void 0 ? 0 : _parsedStyle$y, width = parsedStyle.width, height = parsedStyle.height, src = parsedStyle.src, shadowColor = parsedStyle.shadowColor, shadowBlur = parsedStyle.shadowBlur;
                var imageCache = this.imagePool.getImageSync(src, object);
                var image = imageCache === null || imageCache === void 0 ? void 0 : imageCache.img;
                var iw = width;
                var ih = height;
                if (!image) {
                    return;
                }
                iw || (iw = image.width);
                ih || (ih = image.height);
                var hasShadow = !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__["isNil"])(shadowColor) && shadowBlur > 0;
                setShadowAndFilter(object, context, hasShadow);
                // node-canvas will throw the following err:
                // Error: Image given has not completed loading
                try {
                    var _object$ownerDocument = object.ownerDocument.defaultView.getContextService().getDomElement(), viewWidth = _object$ownerDocument.width, viewHeight = _object$ownerDocument.height;
                    var currentTransform = context.getTransform();
                    var a = currentTransform.a, b = currentTransform.b, c = currentTransform.c, d = currentTransform.d, e = currentTransform.e, f = currentTransform.f;
                    // 构建 mat4 矩阵
                    // prettier-ignore
                    var transformMatrix = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].fromValues(a, c, 0, 0, b, d, 0, 0, 0, 0, 1, 0, e, f, 0, 1);
                    var imageRect = transformRect([
                        x,
                        y,
                        iw,
                        ih
                    ], transformMatrix);
                    var drawRect = calculateOverlapRect([
                        0,
                        0,
                        viewWidth,
                        viewHeight
                    ], imageRect);
                    if (!drawRect) {
                        return;
                    }
                    if (!object.ownerDocument.defaultView.getConfig().enableLargeImageOptimization) {
                        ImageRenderer.renderFull(context, parsedStyle, object, {
                            image: image,
                            drawRect: [
                                x,
                                y,
                                iw,
                                ih
                            ]
                        });
                        return;
                    }
                    var sizeOfOrigin = imageRect[2] / imageCache.size[0];
                    if (sizeOfOrigin < (imageCache.downSamplingRate || 0.5)) {
                        this.renderDownSampled(context, parsedStyle, object, {
                            src: src,
                            imageCache: imageCache,
                            drawRect: [
                                x,
                                y,
                                iw,
                                ih
                            ]
                        });
                        return;
                    }
                    if (!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$plugin$2d$image$2d$loader$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ImagePool"].isSupportTile) {
                        ImageRenderer.renderFull(context, parsedStyle, object, {
                            image: image,
                            drawRect: [
                                x,
                                y,
                                iw,
                                ih
                            ]
                        });
                        return;
                    }
                    this.renderTile(context, parsedStyle, object, {
                        src: src,
                        imageCache: imageCache,
                        imageRect: imageRect,
                        drawRect: drawRect
                    });
                } catch (_unused) {
                // expected error
                }
            }
        },
        {
            key: "drawToContext",
            value: function drawToContext(context, object, renderState, plugin, runtime) {
                this.render(context, object.parsedStyle, object);
            }
        }
    ], [
        {
            key: "renderFull",
            value: function renderFull(context, parsedStyle, object, data) {
                context.drawImage(data.image, Math.floor(data.drawRect[0]), Math.floor(data.drawRect[1]), Math.ceil(data.drawRect[2]), Math.ceil(data.drawRect[3]));
            }
        }
    ]);
}(DefaultRenderer);
var TextRenderer = /*#__PURE__*/ function(_DefaultRenderer) {
    function TextRenderer() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, TextRenderer);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$callSuper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, TextRenderer, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$inherits$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(TextRenderer, _DefaultRenderer);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(TextRenderer, [
        {
            key: "render",
            value: function render(context, parsedStyle, object, canvasContext, plugin, runtime) {
                // Trigger text geometry calculation.
                object.getBounds();
                var _parsedStyle$lineWidt = parsedStyle.lineWidth, lineWidth = _parsedStyle$lineWidt === void 0 ? 1 : _parsedStyle$lineWidt, _parsedStyle$textAlig = parsedStyle.textAlign, textAlign = _parsedStyle$textAlig === void 0 ? 'start' : _parsedStyle$textAlig, _parsedStyle$textBase = parsedStyle.textBaseline, textBaseline = _parsedStyle$textBase === void 0 ? 'alphabetic' : _parsedStyle$textBase, _parsedStyle$lineJoin = parsedStyle.lineJoin, lineJoin = _parsedStyle$lineJoin === void 0 ? 'miter' : _parsedStyle$lineJoin, _parsedStyle$miterLim = parsedStyle.miterLimit, miterLimit = _parsedStyle$miterLim === void 0 ? 10 : _parsedStyle$miterLim, _parsedStyle$letterSp = parsedStyle.letterSpacing, letterSpacing = _parsedStyle$letterSp === void 0 ? 0 : _parsedStyle$letterSp, stroke = parsedStyle.stroke, fill = parsedStyle.fill, fillRule = parsedStyle.fillRule, _parsedStyle$fillOpac = parsedStyle.fillOpacity, fillOpacity = _parsedStyle$fillOpac === void 0 ? 1 : _parsedStyle$fillOpac, _parsedStyle$strokeOp = parsedStyle.strokeOpacity, strokeOpacity = _parsedStyle$strokeOp === void 0 ? 1 : _parsedStyle$strokeOp, _parsedStyle$opacity = parsedStyle.opacity, opacity = _parsedStyle$opacity === void 0 ? 1 : _parsedStyle$opacity, metrics = parsedStyle.metrics, _parsedStyle$x = parsedStyle.x, x = _parsedStyle$x === void 0 ? 0 : _parsedStyle$x, _parsedStyle$y = parsedStyle.y, y = _parsedStyle$y === void 0 ? 0 : _parsedStyle$y, dx = parsedStyle.dx, dy = parsedStyle.dy, shadowColor = parsedStyle.shadowColor, shadowBlur = parsedStyle.shadowBlur;
                var font = metrics.font, lines = metrics.lines, height = metrics.height, lineHeight = metrics.lineHeight, lineMetrics = metrics.lineMetrics;
                context.font = font;
                context.lineWidth = lineWidth;
                context.textAlign = textAlign === 'middle' ? 'center' : textAlign;
                var formattedTextBaseline = textBaseline;
                if (formattedTextBaseline === 'alphabetic') {
                    formattedTextBaseline = 'bottom';
                }
                context.lineJoin = lineJoin;
                if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__["isNil"])(miterLimit)) {
                    context.miterLimit = miterLimit;
                }
                var linePositionY = y;
                // handle vertical text baseline
                if (textBaseline === 'middle') {
                    linePositionY += -height / 2 - lineHeight / 2;
                } else if (textBaseline === 'bottom' || textBaseline === 'alphabetic' || textBaseline === 'ideographic') {
                    linePositionY += -height;
                } else if (textBaseline === 'top' || textBaseline === 'hanging') {
                    linePositionY += -lineHeight;
                }
                // account for dx & dy
                var offsetX = x + (dx || 0);
                linePositionY += dy || 0;
                if (lines.length === 1) {
                    if (formattedTextBaseline === 'bottom') {
                        formattedTextBaseline = 'middle';
                        linePositionY -= 0.5 * height;
                    } else if (formattedTextBaseline === 'top') {
                        formattedTextBaseline = 'middle';
                        linePositionY += 0.5 * height;
                    }
                }
                context.textBaseline = formattedTextBaseline;
                var hasShadow = !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__["isNil"])(shadowColor) && shadowBlur > 0;
                setShadowAndFilter(object, context, hasShadow);
                // draw lines line by line
                for(var i = 0; i < lines.length; i++){
                    var linePositionX = lineWidth / 2 + offsetX;
                    linePositionY += lineHeight;
                    // no need to re-position X, cause we already set text align
                    // @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/textAlign
                    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__["isNil"])(stroke) && !stroke.isNone && lineWidth) {
                        this.drawLetterSpacing(context, object, lines[i], lineMetrics[i], textAlign, linePositionX, linePositionY, letterSpacing, fill, fillRule, fillOpacity, stroke, strokeOpacity, opacity, true, canvasContext, plugin, runtime);
                    }
                    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__["isNil"])(fill)) {
                        this.drawLetterSpacing(context, object, lines[i], lineMetrics[i], textAlign, linePositionX, linePositionY, letterSpacing, fill, fillRule, fillOpacity, stroke, strokeOpacity, opacity, false, canvasContext, plugin, runtime);
                    }
                }
            }
        },
        {
            key: "drawLetterSpacing",
            value: function drawLetterSpacing(context, object, text, lineMetrics, textAlign, x, y, letterSpacing, fill, fillRule, fillOpacity, stroke, strokeOpacity, opacity, isStroke, canvasContext, plugin, runtime) {
                // letterSpacing of 0 means normal, render all texts directly
                if (letterSpacing === 0) {
                    if (isStroke) {
                        this.strokeText(context, object, text, x, y, stroke, strokeOpacity, canvasContext, plugin, runtime);
                    } else {
                        this.fillText(context, object, text, x, y, fill, fillRule, fillOpacity, opacity, canvasContext, plugin, runtime);
                    }
                    return;
                }
                // draw text using left align
                var currentTextAlign = context.textAlign;
                context.textAlign = 'left';
                var currentPosition = x;
                if (textAlign === 'center' || textAlign === 'middle') {
                    currentPosition = x - lineMetrics.width / 2;
                } else if (textAlign === 'right' || textAlign === 'end') {
                    currentPosition = x - lineMetrics.width;
                }
                var stringArray = Array.from(text);
                var previousWidth = context.measureText(text).width;
                var currentWidth = 0;
                for(var i = 0; i < stringArray.length; ++i){
                    var currentChar = stringArray[i];
                    if (isStroke) {
                        this.strokeText(context, object, currentChar, currentPosition, y, stroke, strokeOpacity, canvasContext, plugin, runtime);
                    } else {
                        this.fillText(context, object, currentChar, currentPosition, y, fill, fillRule, fillOpacity, opacity, canvasContext, plugin, runtime);
                    }
                    currentWidth = context.measureText(text.substring(i + 1)).width;
                    currentPosition += previousWidth - currentWidth + letterSpacing;
                    previousWidth = currentWidth;
                }
                context.textAlign = currentTextAlign;
            }
        },
        {
            key: "fillText",
            value: function fillText(context, object, text, x, y, fill, fillRule, fillOpacity, opacity, canvasContext, plugin, runtime) {
                applyFill(context, object, fill, fillRule, canvasContext, plugin, runtime, this.imagePool, true);
                var currentGlobalAlpha;
                var applyOpacity = !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__["isNil"])(fillOpacity) && fillOpacity !== 1;
                if (applyOpacity) {
                    currentGlobalAlpha = context.globalAlpha;
                    context.globalAlpha = fillOpacity * opacity;
                }
                context.fillText(text, x, y);
                if (applyOpacity) {
                    context.globalAlpha = currentGlobalAlpha;
                }
            }
        },
        {
            key: "strokeText",
            value: function strokeText(context, object, text, x, y, stroke, strokeOpacity, canvasContext, plugin, runtime) {
                applyStroke(context, object, stroke, canvasContext, plugin, runtime, this.imagePool, true);
                var currentGlobalAlpha;
                var applyOpacity = !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__["isNil"])(strokeOpacity) && strokeOpacity !== 1;
                if (applyOpacity) {
                    currentGlobalAlpha = context.globalAlpha;
                    context.globalAlpha = strokeOpacity;
                }
                context.strokeText(text, x, y);
                if (applyOpacity) {
                    context.globalAlpha = currentGlobalAlpha;
                }
            }
        },
        {
            key: "drawToContext",
            value: function drawToContext(context, object, renderState, plugin, runtime) {
                this.render(context, object.parsedStyle, object, object.ownerDocument.defaultView.context, plugin, runtime);
            }
        }
    ]);
}(DefaultRenderer);
var Plugin = /*#__PURE__*/ function(_AbstractRendererPlug) {
    function Plugin() {
        var _this;
        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, Plugin);
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$callSuper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, Plugin);
        _this.name = 'canvas-renderer';
        _this.options = options;
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$inherits$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(Plugin, _AbstractRendererPlug);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(Plugin, [
        {
            key: "init",
            value: function init() {
                var _defaultStyleRenderer;
                var canvasRendererPluginOptions = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({
                    dirtyObjectNumThreshold: 500,
                    dirtyObjectRatioThreshold: 0.8
                }, this.options);
                // @ts-ignore
                var imagePool = this.context.imagePool;
                var defaultRenderer = new DefaultRenderer(imagePool);
                var defaultStyleRendererFactory = (_defaultStyleRenderer = {}, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_defaultStyleRenderer, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].CIRCLE, defaultRenderer), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].ELLIPSE, defaultRenderer), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].RECT, defaultRenderer), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].IMAGE, new ImageRenderer(imagePool)), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].TEXT, new TextRenderer(imagePool)), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].LINE, defaultRenderer), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].POLYLINE, defaultRenderer), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].POLYGON, defaultRenderer), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].PATH, defaultRenderer), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].GROUP, undefined), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$defineProperty$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(_defaultStyleRenderer, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].HTML, undefined), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].MESH, undefined), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].FRAGMENT, undefined));
                this.context.defaultStyleRendererFactory = defaultStyleRendererFactory;
                this.context.styleRendererFactory = defaultStyleRendererFactory;
                this.addRenderingPlugin(new CanvasRendererPlugin(canvasRendererPluginOptions));
            }
        },
        {
            key: "destroy",
            value: function destroy() {
                this.removeAllRenderingPlugins();
                delete this.context.defaultStyleRendererFactory;
                delete this.context.styleRendererFactory;
            }
        }
    ]);
}(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AbstractRendererPlugin"]);
;
 //# sourceMappingURL=index.esm.js.map
}}),
"[project]/node_modules/@antv/g-plugin-dom-interaction/dist/index.esm.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
/*!
 * @antv/g-plugin-dom-interaction
 * @description A G plugin
 * @version 2.1.27
 * @date 7/30/2025, 1:35:38 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */ __turbopack_esm__({
    "Plugin": (()=>Plugin)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/classCallCheck.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/createClass.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$callSuper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/callSuper.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$inherits$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/inherits.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-lite/dist/index.esm.js [app-ssr] (ecmascript)");
;
;
;
;
;
// const MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;
/**
 * listen to mouse/touch/pointer events on DOM wrapper, trigger pointer events
 */ var DOMInteractionPlugin = /*#__PURE__*/ function() {
    function DOMInteractionPlugin() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, DOMInteractionPlugin);
    }
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(DOMInteractionPlugin, [
        {
            key: "apply",
            value: function apply(context, runtime) {
                var _this = this;
                var renderingService = context.renderingService, renderingContext = context.renderingContext, config = context.config;
                this.context = context;
                var canvas = renderingContext.root.ownerDocument.defaultView;
                // const SUPPORT_ONLY_TOUCH = canvas.supportsTouchEvents && MOBILE_REGEX.test(navigator.userAgent);
                var onPointerMove = function onPointerMove(ev) {
                    renderingService.hooks.pointerMove.call(ev);
                };
                var onPointerUp = function onPointerUp(ev) {
                    renderingService.hooks.pointerUp.call(ev);
                };
                var onPointerDown = function onPointerDown(ev) {
                    renderingService.hooks.pointerDown.call(ev);
                };
                var onPointerOver = function onPointerOver(ev) {
                    renderingService.hooks.pointerOver.call(ev);
                };
                var onPointerOut = function onPointerOut(ev) {
                    renderingService.hooks.pointerOut.call(ev);
                };
                var onPointerCancel = function onPointerCancel(ev) {
                    renderingService.hooks.pointerCancel.call(ev);
                };
                var onPointerWheel = function onPointerWheel(ev) {
                    renderingService.hooks.pointerWheel.call(ev);
                };
                var onClick = function onClick(ev) {
                    renderingService.hooks.click.call(ev);
                };
                var addPointerEventListener = function addPointerEventListener($el) {
                    runtime.globalThis.document.addEventListener('pointermove', onPointerMove, true);
                    $el.addEventListener('pointerdown', onPointerDown, true);
                    $el.addEventListener('pointerleave', onPointerOut, true);
                    $el.addEventListener('pointerover', onPointerOver, true);
                    runtime.globalThis.addEventListener('pointerup', onPointerUp, true);
                    runtime.globalThis.addEventListener('pointercancel', onPointerCancel, true);
                };
                var addTouchEventListener = function addTouchEventListener($el) {
                    $el.addEventListener('touchstart', onPointerDown, true);
                    $el.addEventListener('touchend', onPointerUp, true);
                    $el.addEventListener('touchmove', onPointerMove, true);
                    $el.addEventListener('touchcancel', onPointerCancel, true);
                };
                var addMouseEventListener = function addMouseEventListener($el) {
                    runtime.globalThis.document.addEventListener('mousemove', onPointerMove, true);
                    $el.addEventListener('mousedown', onPointerDown, true);
                    $el.addEventListener('mouseout', onPointerOut, true);
                    $el.addEventListener('mouseover', onPointerOver, true);
                    runtime.globalThis.addEventListener('mouseup', onPointerUp, true);
                };
                var removePointerEventListener = function removePointerEventListener($el) {
                    runtime.globalThis.document.removeEventListener('pointermove', onPointerMove, true);
                    $el.removeEventListener('pointerdown', onPointerDown, true);
                    $el.removeEventListener('pointerleave', onPointerOut, true);
                    $el.removeEventListener('pointerover', onPointerOver, true);
                    runtime.globalThis.removeEventListener('pointerup', onPointerUp, true);
                    runtime.globalThis.removeEventListener('pointercancel', onPointerCancel, true);
                };
                var removeTouchEventListener = function removeTouchEventListener($el) {
                    $el.removeEventListener('touchstart', onPointerDown, true);
                    $el.removeEventListener('touchend', onPointerUp, true);
                    $el.removeEventListener('touchmove', onPointerMove, true);
                    $el.removeEventListener('touchcancel', onPointerCancel, true);
                };
                var removeMouseEventListener = function removeMouseEventListener($el) {
                    runtime.globalThis.document.removeEventListener('mousemove', onPointerMove, true);
                    $el.removeEventListener('mousedown', onPointerDown, true);
                    $el.removeEventListener('mouseout', onPointerOut, true);
                    $el.removeEventListener('mouseover', onPointerOver, true);
                    runtime.globalThis.removeEventListener('mouseup', onPointerUp, true);
                };
                renderingService.hooks.init.tap(DOMInteractionPlugin.tag, function() {
                    var $el = _this.context.contextService.getDomElement();
                    // @ts-ignore
                    if (runtime.globalThis.navigator.msPointerEnabled) {
                        // @ts-ignore
                        $el.style.msContentZooming = 'none';
                        // @ts-ignore
                        $el.style.msTouchAction = 'none';
                    } else if (canvas.supportsPointerEvents) {
                        $el.style.touchAction = 'none';
                    }
                    if (canvas.supportsPointerEvents) {
                        addPointerEventListener($el);
                    } else {
                        addMouseEventListener($el);
                    }
                    if (canvas.supportsTouchEvents) {
                        addTouchEventListener($el);
                    }
                    if (config.useNativeClickEvent) {
                        $el.addEventListener('click', onClick, true);
                    }
                    // use passive event listeners
                    // @see https://zhuanlan.zhihu.com/p/24555031
                    $el.addEventListener('wheel', onPointerWheel, {
                        passive: true,
                        capture: true
                    });
                });
                renderingService.hooks.destroy.tap(DOMInteractionPlugin.tag, function() {
                    var $el = _this.context.contextService.getDomElement();
                    // @ts-ignore
                    if (runtime.globalThis.navigator.msPointerEnabled) {
                        // @ts-ignore
                        $el.style.msContentZooming = '';
                        // @ts-ignore
                        $el.style.msTouchAction = '';
                    } else if (canvas.supportsPointerEvents) {
                        $el.style.touchAction = '';
                    }
                    if (canvas.supportsPointerEvents) {
                        removePointerEventListener($el);
                    } else {
                        removeMouseEventListener($el);
                    }
                    if (canvas.supportsTouchEvents) {
                        removeTouchEventListener($el);
                    }
                    if (config.useNativeClickEvent) {
                        $el.removeEventListener('click', onClick, true);
                    }
                    $el.removeEventListener('wheel', onPointerWheel, true);
                });
            }
        }
    ]);
}();
DOMInteractionPlugin.tag = 'DOMInteraction';
var Plugin = /*#__PURE__*/ function(_AbstractRendererPlug) {
    function Plugin() {
        var _this;
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, Plugin);
        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){
            args[_key] = arguments[_key];
        }
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$callSuper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, Plugin, [].concat(args));
        _this.name = 'dom-interaction';
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$inherits$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(Plugin, _AbstractRendererPlug);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(Plugin, [
        {
            key: "init",
            value: function init() {
                this.addRenderingPlugin(new DOMInteractionPlugin());
            }
        },
        {
            key: "destroy",
            value: function destroy() {
                this.removeAllRenderingPlugins();
            }
        }
    ]);
}(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AbstractRendererPlugin"]);
;
 //# sourceMappingURL=index.esm.js.map
}}),
"[project]/node_modules/@antv/g-plugin-html-renderer/dist/index.esm.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
/*!
 * @antv/g-plugin-html-renderer
 * @description A G plugin for rendering HTML
 * @version 2.1.27
 * @date 7/30/2025, 1:35:48 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */ __turbopack_esm__({
    "Plugin": (()=>Plugin)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/classCallCheck.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/createClass.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$callSuper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/callSuper.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$inherits$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/inherits.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-lite/dist/index.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$string$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isString$3e$__ = __turbopack_import__("[project]/node_modules/@antv/util/esm/lodash/is-string.js [app-ssr] (ecmascript) <export default as isString>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$number$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNumber$3e$__ = __turbopack_import__("[project]/node_modules/@antv/util/esm/lodash/is-number.js [app-ssr] (ecmascript) <export default as isNumber>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__ = __turbopack_import__("[project]/node_modules/@antv/util/esm/lodash/is-nil.js [app-ssr] (ecmascript) <export default as isNil>");
;
;
;
;
;
;
var CANVAS_CAMERA_ID = 'g-canvas-camera';
var HTMLRenderingPlugin = /*#__PURE__*/ function() {
    function HTMLRenderingPlugin() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, HTMLRenderingPlugin);
        this.displayObjectHTMLElementMap = new WeakMap();
    }
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(HTMLRenderingPlugin, [
        {
            key: "joinTransformMatrix",
            value: /**
     * ! The reason for adding `offset` is that the `transform-origin` coordinate system of DOM is the local coordinate system of the element, while the `transform-origin` coordinate system of canvas drawing is the local coordinate system of the element's parent element. At the same time, the `transform` attribute value of the DOM element does not include `transform-origin`.
     */ function joinTransformMatrix(matrix) {
                var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [
                    0,
                    0,
                    0
                ];
                return "matrix(".concat([
                    matrix[0],
                    matrix[1],
                    matrix[4],
                    matrix[5],
                    matrix[12] + offset[0],
                    matrix[13] + offset[1]
                ].join(','), ")");
            }
        },
        {
            key: "apply",
            value: function apply(context, runtime) {
                var _this = this;
                var camera = context.camera, renderingContext = context.renderingContext, renderingService = context.renderingService;
                this.context = context;
                var canvas = renderingContext.root.ownerDocument.defaultView;
                var nativeHTMLMap = canvas.context.eventService.nativeHTMLMap;
                var setTransform = function setTransform(object, $el) {
                    $el.style.transform = _this.joinTransformMatrix(object.getWorldTransform(), object.getOrigin());
                };
                var handleMounted = function handleMounted(e) {
                    var object = e.target;
                    if (object.nodeName === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].HTML) {
                        if (!_this.$camera) {
                            _this.$camera = _this.createCamera(camera);
                        }
                        // create DOM element
                        var $el = _this.getOrCreateEl(object);
                        _this.$camera.appendChild($el);
                        Object.keys(object.attributes).forEach(function(name) {
                            _this.updateAttribute(name, object);
                        });
                        setTransform(object, $el);
                        nativeHTMLMap.set($el, object);
                    }
                };
                var handleUnmounted = function handleUnmounted(e) {
                    var object = e.target;
                    if (object.nodeName === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].HTML && _this.$camera) {
                        var $el = _this.getOrCreateEl(object);
                        if ($el) {
                            $el.remove();
                            nativeHTMLMap["delete"]($el);
                        }
                    }
                };
                var handleAttributeChanged = function handleAttributeChanged(e) {
                    var object = e.target;
                    if (object.nodeName === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].HTML) {
                        var attrName = e.attrName;
                        _this.updateAttribute(attrName, object);
                    }
                };
                var handleBoundsChanged = function handleBoundsChanged(e) {
                    var object = e.target;
                    var nodes = object.nodeName === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].FRAGMENT ? object.childNodes : [
                        object
                    ];
                    nodes.forEach(function(node) {
                        if (node.nodeName === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Shape"].HTML) {
                            var $el = _this.getOrCreateEl(node);
                            setTransform(node, $el);
                        }
                    });
                };
                var handleCanvasResize = function handleCanvasResize() {
                    if (_this.$camera) {
                        var _this$context$config = _this.context.config, width = _this$context$config.width, height = _this$context$config.height;
                        _this.$camera.parentElement.style.width = "".concat(width || 0, "px");
                        _this.$camera.parentElement.style.height = "".concat(height || 0, "px");
                    }
                };
                renderingService.hooks.init.tap(HTMLRenderingPlugin.tag, function() {
                    canvas.addEventListener(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CanvasEvent"].RESIZE, handleCanvasResize);
                    canvas.addEventListener(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ElementEvent"].MOUNTED, handleMounted);
                    canvas.addEventListener(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ElementEvent"].UNMOUNTED, handleUnmounted);
                    canvas.addEventListener(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ElementEvent"].ATTR_MODIFIED, handleAttributeChanged);
                    canvas.addEventListener(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ElementEvent"].BOUNDS_CHANGED, handleBoundsChanged);
                });
                renderingService.hooks.endFrame.tap(HTMLRenderingPlugin.tag, function() {
                    if (_this.$camera && renderingContext.renderReasons.has(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["RenderReason"].CAMERA_CHANGED)) {
                        _this.$camera.style.transform = _this.joinTransformMatrix(camera.getOrthoMatrix());
                    }
                });
                renderingService.hooks.destroy.tap(HTMLRenderingPlugin.tag, function() {
                    // remove camera
                    if (_this.$camera) {
                        _this.$camera.remove();
                    }
                    canvas.removeEventListener(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CanvasEvent"].RESIZE, handleCanvasResize);
                    canvas.removeEventListener(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ElementEvent"].MOUNTED, handleMounted);
                    canvas.removeEventListener(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ElementEvent"].UNMOUNTED, handleUnmounted);
                    canvas.removeEventListener(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ElementEvent"].ATTR_MODIFIED, handleAttributeChanged);
                    canvas.removeEventListener(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ElementEvent"].BOUNDS_CHANGED, handleBoundsChanged);
                });
            }
        },
        {
            key: "createCamera",
            value: function createCamera(camera) {
                var _this$context$config2 = this.context.config, doc = _this$context$config2.document, width = _this$context$config2.width, height = _this$context$config2.height;
                var $canvas = this.context.contextService.getDomElement();
                var $container = $canvas.parentNode;
                if ($container) {
                    var cameraId = CANVAS_CAMERA_ID;
                    var $existedCamera = $container.querySelector("#".concat(cameraId));
                    if (!$existedCamera) {
                        // fix @see https://github.com/antvis/G/issues/1702
                        var $cameraContainer = (doc || document).createElement('div');
                        // HTML elements should not overflow with canvas @see https://github.com/antvis/G/issues/1163
                        $cameraContainer.style.overflow = 'hidden';
                        $cameraContainer.style.pointerEvents = 'none';
                        $cameraContainer.style.position = 'absolute';
                        $cameraContainer.style.left = "0px";
                        $cameraContainer.style.top = "0px";
                        $cameraContainer.style.width = "".concat(width || 0, "px");
                        $cameraContainer.style.height = "".concat(height || 0, "px");
                        var $camera = (doc || document).createElement('div');
                        $existedCamera = $camera;
                        $camera.id = cameraId;
                        // use absolute position
                        $camera.style.position = 'absolute';
                        // account for DOM element's offset @see https://github.com/antvis/G/issues/1150
                        $camera.style.left = "".concat($canvas.offsetLeft || 0, "px");
                        $camera.style.top = "".concat($canvas.offsetTop || 0, "px");
                        $camera.style.transformOrigin = 'left top';
                        $camera.style.transform = this.joinTransformMatrix(camera.getOrthoMatrix());
                        $camera.style.pointerEvents = 'none';
                        $camera.style.width = "100%";
                        $camera.style.height = "100%";
                        $cameraContainer.appendChild($camera);
                        $container.appendChild($cameraContainer);
                    }
                    return $existedCamera;
                }
                return null;
            }
        },
        {
            key: "getOrCreateEl",
            value: function getOrCreateEl(object) {
                var doc = this.context.config.document;
                var $existedElement = this.displayObjectHTMLElementMap.get(object);
                if (!$existedElement) {
                    $existedElement = (doc || document).createElement('div');
                    object.parsedStyle.$el = $existedElement;
                    this.displayObjectHTMLElementMap.set(object, $existedElement);
                    if (object.id) {
                        $existedElement.id = object.id;
                    }
                    if (object.name) {
                        $existedElement.setAttribute('name', object.name);
                    }
                    if (object.className) {
                        $existedElement.className = object.className;
                    }
                    // use absolute position
                    $existedElement.style.position = 'absolute';
                    // @see https://github.com/antvis/G/issues/1150
                    $existedElement.style['will-change'] = 'transform';
                    $existedElement.style.transform = this.joinTransformMatrix(object.getWorldTransform(), object.getOrigin());
                }
                return $existedElement;
            }
        },
        {
            key: "updateAttribute",
            value: function updateAttribute(name, object) {
                var $el = this.getOrCreateEl(object);
                switch(name){
                    case 'innerHTML':
                        var innerHTML = object.parsedStyle.innerHTML;
                        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$string$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isString$3e$__["isString"])(innerHTML)) {
                            $el.innerHTML = innerHTML;
                        } else {
                            $el.innerHTML = '';
                            $el.appendChild(innerHTML);
                        }
                        break;
                    case 'x':
                        $el.style.left = "".concat(object.parsedStyle.x, "px");
                        break;
                    case 'y':
                        $el.style.top = "".concat(object.parsedStyle.y, "px");
                        break;
                    case 'transformOrigin':
                        var transformOrigin = object.parsedStyle.transformOrigin;
                        $el.style['transform-origin'] = "".concat(transformOrigin[0].buildCSSText(null, null, ''), " ").concat(transformOrigin[1].buildCSSText(null, null, ''));
                        break;
                    case 'width':
                        var width = object.parsedStyle.width;
                        $el.style.width = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$number$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNumber$3e$__["isNumber"])(width) ? "".concat(width, "px") : width.toString();
                        break;
                    case 'height':
                        var height = object.parsedStyle.height;
                        $el.style.height = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$number$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNumber$3e$__["isNumber"])(height) ? "".concat(height, "px") : height.toString();
                        break;
                    case 'zIndex':
                        var zIndex = object.parsedStyle.zIndex;
                        $el.style['z-index'] = "".concat(zIndex);
                        break;
                    case 'visibility':
                        var visibility = object.parsedStyle.visibility;
                        $el.style.visibility = visibility;
                        break;
                    case 'pointerEvents':
                        var _object$parsedStyle$p = object.parsedStyle.pointerEvents, pointerEvents = _object$parsedStyle$p === void 0 ? 'auto' : _object$parsedStyle$p;
                        $el.style.pointerEvents = pointerEvents;
                        break;
                    case 'opacity':
                        var opacity = object.parsedStyle.opacity;
                        $el.style.opacity = "".concat(opacity);
                        break;
                    case 'fill':
                        var fill = object.parsedStyle.fill;
                        var color = '';
                        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isCSSRGB"])(fill)) {
                            if (fill.isNone) {
                                color = 'transparent';
                            } else {
                                color = object.getAttribute('fill');
                            }
                        } else if (Array.isArray(fill)) {
                            color = object.getAttribute('fill');
                        } else if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPattern"])(fill)) ;
                        $el.style.background = color;
                        break;
                    case 'stroke':
                        var stroke = object.parsedStyle.stroke;
                        var borderColor = '';
                        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isCSSRGB"])(stroke)) {
                            if (stroke.isNone) {
                                borderColor = 'transparent';
                            } else {
                                borderColor = object.getAttribute('stroke');
                            }
                        } else if (Array.isArray(stroke)) {
                            borderColor = object.getAttribute('stroke');
                        } else if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPattern"])(stroke)) ;
                        $el.style['border-color'] = borderColor;
                        $el.style['border-style'] = 'solid';
                        break;
                    case 'lineWidth':
                        var lineWidth = object.parsedStyle.lineWidth;
                        $el.style['border-width'] = "".concat(lineWidth || 0, "px");
                        break;
                    case 'lineDash':
                        $el.style['border-style'] = 'dashed';
                        break;
                    case 'filter':
                        var filter = object.style.filter;
                        $el.style.filter = filter;
                        break;
                    default:
                        if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$nil$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isNil$3e$__["isNil"])(object.style[name]) && object.style[name] !== '') {
                            $el.style[name] = object.style[name];
                        }
                }
            }
        }
    ]);
}();
HTMLRenderingPlugin.tag = 'HTMLRendering';
var Plugin = /*#__PURE__*/ function(_AbstractRendererPlug) {
    function Plugin() {
        var _this;
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, Plugin);
        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){
            args[_key] = arguments[_key];
        }
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$callSuper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, Plugin, [].concat(args));
        _this.name = 'html-renderer';
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$inherits$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(Plugin, _AbstractRendererPlug);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(Plugin, [
        {
            key: "init",
            value: function init() {
                this.addRenderingPlugin(new HTMLRenderingPlugin());
            }
        },
        {
            key: "destroy",
            value: function destroy() {
                this.removeAllRenderingPlugins();
            }
        }
    ]);
}(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AbstractRendererPlugin"]);
;
 //# sourceMappingURL=index.esm.js.map
}}),
"[project]/node_modules/@antv/g-canvas/dist/index.esm.js [app-ssr] (ecmascript) <locals>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
/*!
 * @antv/g-canvas
 * @description A renderer implemented by Canvas 2D API
 * @version 2.0.48
 * @date 7/30/2025, 1:38:18 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */ __turbopack_esm__({
    "Renderer": (()=>Renderer)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/createClass.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$string$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isString$3e$__ = __turbopack_import__("[project]/node_modules/@antv/util/esm/lodash/is-string.js [app-ssr] (ecmascript) <export default as isString>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-lite/dist/index.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$asyncToGenerator$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/asyncToGenerator.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$regeneratorRuntime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/regeneratorRuntime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/classCallCheck.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$inherits$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/inherits.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$callSuper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/callSuper.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$plugin$2d$image$2d$loader$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-plugin-image-loader/dist/index.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$plugin$2d$canvas$2d$path$2d$generator$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-plugin-canvas-path-generator/dist/index.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$plugin$2d$canvas$2d$renderer$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-plugin-canvas-renderer/dist/index.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$plugin$2d$dom$2d$interaction$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-plugin-dom-interaction/dist/index.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$plugin$2d$canvas$2d$picker$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-plugin-canvas-picker/dist/index.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$plugin$2d$html$2d$renderer$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-plugin-html-renderer/dist/index.esm.js [app-ssr] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
var Canvas2DContextService = /*#__PURE__*/ function() {
    function Canvas2DContextService(context) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, Canvas2DContextService);
        this.renderingContext = context.renderingContext;
        this.canvasConfig = context.config;
    }
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(Canvas2DContextService, [
        {
            key: "init",
            value: function init() {
                var _this$canvasConfig = this.canvasConfig, container = _this$canvasConfig.container, canvas = _this$canvasConfig.canvas;
                if (canvas) {
                    this.$canvas = canvas;
                    if (container && canvas.parentElement !== container) {
                        container.appendChild(canvas);
                    }
                    this.$container = canvas.parentElement;
                    this.canvasConfig.container = this.$container;
                } else if (container) {
                    // create container
                    this.$container = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$lodash$2f$is$2d$string$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__isString$3e$__["isString"])(container) ? document.getElementById(container) : container;
                    if (this.$container) {
                        // create canvas
                        var $canvas = document.createElement('canvas');
                        this.$container.appendChild($canvas);
                        if (!this.$container.style.position) {
                            this.$container.style.position = 'relative';
                        }
                        this.$canvas = $canvas;
                    }
                }
                this.context = this.$canvas.getContext('2d');
                this.resize(this.canvasConfig.width, this.canvasConfig.height);
            }
        },
        {
            key: "getContext",
            value: function getContext() {
                return this.context;
            }
        },
        {
            key: "getDomElement",
            value: function getDomElement() {
                return this.$canvas;
            }
        },
        {
            key: "getDPR",
            value: function getDPR() {
                return this.dpr;
            }
        },
        {
            key: "getBoundingClientRect",
            value: function getBoundingClientRect() {
                if (this.$canvas.getBoundingClientRect) {
                    return this.$canvas.getBoundingClientRect();
                }
            }
        },
        {
            key: "destroy",
            value: function destroy() {
                // @ts-ignore
                if (this.$container && this.$canvas && this.$canvas.parentNode) {
                    // destroy context
                    // @ts-ignore
                    this.$container.removeChild(this.$canvas);
                }
            }
        },
        {
            key: "resize",
            value: function resize(width, height) {
                var dpr = this.canvasConfig.devicePixelRatio;
                this.dpr = dpr;
                if (this.$canvas) {
                    // set canvas width & height
                    this.$canvas.width = this.dpr * width;
                    this.$canvas.height = this.dpr * height;
                    // set CSS style width & height
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["setDOMSize"])(this.$canvas, width, height);
                // const dpr = this.getDPR();
                // scale all drawing operations by the dpr
                // @see https://www.html5rocks.com/en/tutorials/canvas/hidpi/
                // this.context.scale(dpr, dpr);
                }
                this.renderingContext.renderReasons.add(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["RenderReason"].CAMERA_CHANGED);
            }
        },
        {
            key: "applyCursorStyle",
            value: function applyCursorStyle(cursor) {
                if (this.$container && this.$container.style) {
                    this.$container.style.cursor = cursor;
                }
            }
        },
        {
            key: "toDataURL",
            value: function() {
                var _toDataURL = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$asyncToGenerator$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$regeneratorRuntime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])().mark(function _callee() {
                    var options, type, encoderOptions, _args = arguments;
                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$regeneratorRuntime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])().wrap(function(_context) {
                        while(1)switch(_context.prev = _context.next){
                            case 0:
                                options = _args.length > 0 && _args[0] !== undefined ? _args[0] : {};
                                type = options.type, encoderOptions = options.encoderOptions;
                                return _context.abrupt("return", this.context.canvas.toDataURL(type, encoderOptions));
                            case 1:
                            case "end":
                                return _context.stop();
                        }
                    }, _callee, this);
                }));
                function toDataURL() {
                    return _toDataURL.apply(this, arguments);
                }
                return toDataURL;
            }()
        }
    ]);
}();
var ContextRegisterPlugin = /*#__PURE__*/ function(_AbstractRendererPlug) {
    function ContextRegisterPlugin() {
        var _this;
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, ContextRegisterPlugin);
        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){
            args[_key] = arguments[_key];
        }
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$callSuper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, ContextRegisterPlugin, [].concat(args));
        _this.name = 'canvas-context-register';
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$inherits$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(ContextRegisterPlugin, _AbstractRendererPlug);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(ContextRegisterPlugin, [
        {
            key: "init",
            value: function init() {
                this.context.ContextService = Canvas2DContextService;
            }
        },
        {
            key: "destroy",
            value: function destroy() {
                delete this.context.ContextService;
            }
        }
    ]);
}(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AbstractRendererPlugin"]);
var Renderer = /*#__PURE__*/ function(_AbstractRenderer) {
    function Renderer(config) {
        var _this;
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, Renderer);
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$callSuper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, Renderer, [
            config
        ]);
        // register Canvas2DContext
        _this.registerPlugin(new ContextRegisterPlugin());
        _this.registerPlugin(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$plugin$2d$image$2d$loader$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__.Plugin());
        _this.registerPlugin(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$plugin$2d$canvas$2d$path$2d$generator$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__.Plugin());
        // enable rendering with Canvas2D API
        _this.registerPlugin(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$plugin$2d$canvas$2d$renderer$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__.Plugin());
        _this.registerPlugin(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$plugin$2d$dom$2d$interaction$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__.Plugin());
        // enable picking with Canvas2D API
        _this.registerPlugin(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$plugin$2d$canvas$2d$picker$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__.Plugin());
        // render HTML component
        _this.registerPlugin(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$plugin$2d$html$2d$renderer$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__.Plugin());
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$inherits$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(Renderer, _AbstractRenderer);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(Renderer);
}(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AbstractRenderer"]);
;
 //# sourceMappingURL=index.esm.js.map
}}),
"[project]/node_modules/@antv/g-canvas/dist/index.esm.js [app-ssr] (ecmascript) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/createClass.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/classCallCheck.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$callSuper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/callSuper.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$inherits$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/inherits.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-lite/dist/index.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$plugin$2d$canvas$2d$path$2d$generator$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-plugin-canvas-path-generator/dist/index.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$plugin$2d$canvas$2d$picker$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-plugin-canvas-picker/dist/index.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$plugin$2d$canvas$2d$renderer$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-plugin-canvas-renderer/dist/index.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$plugin$2d$dom$2d$interaction$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-plugin-dom-interaction/dist/index.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$plugin$2d$html$2d$renderer$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-plugin-html-renderer/dist/index.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$plugin$2d$image$2d$loader$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-plugin-image-loader/dist/index.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$regeneratorRuntime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/regeneratorRuntime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$asyncToGenerator$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/asyncToGenerator.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$canvas$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@antv/g-canvas/dist/index.esm.js [app-ssr] (ecmascript) <locals>");
}}),
"[project]/node_modules/@antv/g-plugin-dragndrop/dist/index.esm.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
/*!
 * @antv/g-plugin-dragndrop
 * @description A G plugin for Drag n Drop implemented with PointerEvents
 * @version 2.0.38
 * @date 7/30/2025, 1:35:41 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */ __turbopack_esm__({
    "Plugin": (()=>Plugin)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/objectSpread2.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/classCallCheck.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/createClass.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$callSuper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/callSuper.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$inherits$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/inherits.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/g-lite/dist/index.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$regeneratorRuntime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/regeneratorRuntime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$asyncToGenerator$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@babel/runtime/helpers/asyncToGenerator.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$path$2f$util$2f$distance$2d$square$2d$root$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/util/esm/path/util/distance-square-root.js [app-ssr] (ecmascript)");
;
;
;
;
;
;
;
;
;
var DragndropPlugin = /*#__PURE__*/ function() {
    function DragndropPlugin(dragndropPluginOptions) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, DragndropPlugin);
        this.dragndropPluginOptions = dragndropPluginOptions;
    }
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(DragndropPlugin, [
        {
            key: "apply",
            value: function apply(context) {
                var _this = this;
                var renderingService = context.renderingService, renderingContext = context.renderingContext;
                var document = renderingContext.root.ownerDocument;
                // TODO: should we add an option like `draggable` to Canvas
                var canvas = document.defaultView;
                var handlePointerdown = function handlePointerdown(event) {
                    var target = event.target;
                    var isDocument = target === document;
                    var draggableEventTarget = isDocument && _this.dragndropPluginOptions.isDocumentDraggable ? document : target.closest && target.closest('[draggable=true]');
                    // `draggable` may be set on ancestor nodes:
                    // @see https://github.com/antvis/G/issues/1088
                    if (draggableEventTarget) {
                        // delay triggering dragstart event
                        var dragstartTriggered = false;
                        var dragstartTimeStamp = event.timeStamp;
                        var dragstartClientCoordinates = [
                            event.clientX,
                            event.clientY
                        ];
                        var currentDroppable = null;
                        var lastDragClientCoordinates = [
                            event.clientX,
                            event.clientY
                        ];
                        // @ts-ignore
                        // eslint-disable-next-line no-inner-declarations
                        var handlePointermove = /*#__PURE__*/ function() {
                            var _ref = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$asyncToGenerator$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$regeneratorRuntime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])().mark(function _callee(event) {
                                var timeElapsed, distanceMoved, point, elementsBelow, elementBelow, droppableBelow;
                                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$regeneratorRuntime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])().wrap(function(_context) {
                                    while(1)switch(_context.prev = _context.next){
                                        case 0:
                                            if (dragstartTriggered) {
                                                _context.next = 2;
                                                break;
                                            }
                                            timeElapsed = event.timeStamp - dragstartTimeStamp;
                                            distanceMoved = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$util$2f$esm$2f$path$2f$util$2f$distance$2d$square$2d$root$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["distanceSquareRoot"])([
                                                event.clientX,
                                                event.clientY
                                            ], dragstartClientCoordinates); // check thresholds
                                            if (!(timeElapsed <= _this.dragndropPluginOptions.dragstartTimeThreshold || distanceMoved <= _this.dragndropPluginOptions.dragstartDistanceThreshold)) {
                                                _context.next = 1;
                                                break;
                                            }
                                            return _context.abrupt("return");
                                        case 1:
                                            // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/dragstart_event
                                            event.type = 'dragstart';
                                            draggableEventTarget.dispatchEvent(event);
                                            dragstartTriggered = true;
                                        case 2:
                                            // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/drag_event
                                            event.type = 'drag';
                                            // @ts-ignore
                                            event.dx = event.clientX - lastDragClientCoordinates[0];
                                            // @ts-ignore
                                            event.dy = event.clientY - lastDragClientCoordinates[1];
                                            draggableEventTarget.dispatchEvent(event);
                                            lastDragClientCoordinates = [
                                                event.clientX,
                                                event.clientY
                                            ];
                                            if (isDocument) {
                                                _context.next = 4;
                                                break;
                                            }
                                            point = _this.dragndropPluginOptions.overlap === 'pointer' ? [
                                                event.canvasX,
                                                event.canvasY
                                            ] : target.getBounds().center;
                                            _context.next = 3;
                                            return document.elementsFromPoint(point[0], point[1]);
                                        case 3:
                                            elementsBelow = _context.sent;
                                            // prevent from picking the dragging element
                                            elementBelow = elementsBelow[elementsBelow.indexOf(target) + 1];
                                            droppableBelow = (elementBelow === null || elementBelow === void 0 ? void 0 : elementBelow.closest('[droppable=true]')) || (_this.dragndropPluginOptions.isDocumentDroppable ? document : null);
                                            if (currentDroppable !== droppableBelow) {
                                                if (currentDroppable) {
                                                    // null when we were not over a droppable before this event
                                                    // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/dragleave_event
                                                    event.type = 'dragleave';
                                                    event.target = currentDroppable;
                                                    currentDroppable.dispatchEvent(event);
                                                }
                                                if (droppableBelow) {
                                                    // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/dragleave_event
                                                    event.type = 'dragenter';
                                                    event.target = droppableBelow;
                                                    droppableBelow.dispatchEvent(event);
                                                }
                                                currentDroppable = droppableBelow;
                                                if (currentDroppable) {
                                                    // null if we're not coming over a droppable now
                                                    // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/dragover_event
                                                    event.type = 'dragover';
                                                    event.target = currentDroppable;
                                                    currentDroppable.dispatchEvent(event);
                                                }
                                            }
                                        case 4:
                                        case "end":
                                            return _context.stop();
                                    }
                                }, _callee);
                            }));
                            return function handlePointermove(_x) {
                                return _ref.apply(this, arguments);
                            };
                        }();
                        canvas.addEventListener('pointermove', handlePointermove);
                        var stopDragging = function stopDragging(originalPointerUpEvent) {
                            if (dragstartTriggered) {
                                // prevent click event being triggerd
                                // @see https://github.com/antvis/G/issues/1091
                                originalPointerUpEvent.detail = {
                                    preventClick: true
                                };
                                // clone event first
                                var _event = originalPointerUpEvent.clone();
                                // drop should fire before dragend
                                // @see https://javascript.tutorialink.com/is-there-a-defined-ordering-between-dragend-and-drop-events/
                                if (currentDroppable) {
                                    // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/drop_event
                                    _event.type = 'drop';
                                    _event.target = currentDroppable;
                                    currentDroppable.dispatchEvent(_event);
                                }
                                // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/dragend_event
                                _event.type = 'dragend';
                                draggableEventTarget.dispatchEvent(_event);
                                dragstartTriggered = false;
                            }
                            canvas.removeEventListener('pointermove', handlePointermove);
                        };
                        target.addEventListener('pointerup', stopDragging, {
                            once: true
                        });
                        target.addEventListener('pointerupoutside', stopDragging, {
                            once: true
                        });
                    }
                };
                renderingService.hooks.init.tap(DragndropPlugin.tag, function() {
                    canvas.addEventListener('pointerdown', handlePointerdown);
                });
                renderingService.hooks.destroy.tap(DragndropPlugin.tag, function() {
                    canvas.removeEventListener('pointerdown', handlePointerdown);
                });
            }
        }
    ]);
}();
DragndropPlugin.tag = 'Dragndrop';
var Plugin = /*#__PURE__*/ function(_AbstractRendererPlug) {
    function Plugin() {
        var _this;
        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$classCallCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, Plugin);
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$callSuper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(this, Plugin);
        _this.name = 'dragndrop';
        _this.options = options;
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$inherits$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(Plugin, _AbstractRendererPlug);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$createClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(Plugin, [
        {
            key: "init",
            value: function init() {
                this.addRenderingPlugin(new DragndropPlugin((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$babel$2f$runtime$2f$helpers$2f$objectSpread2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({
                    overlap: 'pointer',
                    isDocumentDraggable: false,
                    isDocumentDroppable: false,
                    dragstartDistanceThreshold: 0,
                    dragstartTimeThreshold: 0
                }, this.options)));
            }
        },
        {
            key: "destroy",
            value: function destroy() {
                this.removeAllRenderingPlugins();
            }
        },
        {
            key: "setOptions",
            value: function setOptions(options) {
                Object.assign(this.plugins[0].dragndropPluginOptions, options);
            }
        }
    ]);
}(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$g$2d$lite$2f$dist$2f$index$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AbstractRendererPlugin"]);
;
 //# sourceMappingURL=index.esm.js.map
}}),
"[project]/node_modules/@antv/expr/dist/index.esm.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "ExpressionError": (()=>n),
    "compile": (()=>A),
    "evaluate": (()=>N),
    "register": (()=>t)
});
const e = {
    abs: Math.abs,
    ceil: Math.ceil,
    floor: Math.floor,
    max: Math.max,
    min: Math.min,
    round: Math.round,
    sqrt: Math.sqrt,
    pow: Math.pow
};
function t(t, n) {
    e[t] = n;
}
class n extends Error {
    constructor(e, t, n){
        super(e), this.position = t, this.token = n, this.name = "ExpressionError";
    }
}
var r;
!function(e) {
    e[e.STRING = 0] = "STRING", e[e.NUMBER = 1] = "NUMBER", e[e.BOOLEAN = 2] = "BOOLEAN", e[e.NULL = 3] = "NULL", e[e.IDENTIFIER = 4] = "IDENTIFIER", e[e.OPERATOR = 5] = "OPERATOR", e[e.FUNCTION = 6] = "FUNCTION", e[e.DOT = 7] = "DOT", e[e.BRACKET_LEFT = 8] = "BRACKET_LEFT", e[e.BRACKET_RIGHT = 9] = "BRACKET_RIGHT", e[e.PAREN_LEFT = 10] = "PAREN_LEFT", e[e.PAREN_RIGHT = 11] = "PAREN_RIGHT", e[e.COMMA = 12] = "COMMA", e[e.QUESTION = 13] = "QUESTION", e[e.COLON = 14] = "COLON", e[e.DOLLAR = 15] = "DOLLAR";
}(r || (r = {}));
const o = new Set([
    32,
    9,
    10,
    13
]), a = new Set([
    43,
    45,
    42,
    47,
    37,
    33,
    38,
    124,
    61,
    60,
    62
]), s = new Map([
    [
        "true",
        r.BOOLEAN
    ],
    [
        "false",
        r.BOOLEAN
    ],
    [
        "null",
        r.NULL
    ]
]), i = new Map([
    [
        "===",
        !0
    ],
    [
        "!==",
        !0
    ],
    [
        "<=",
        !0
    ],
    [
        ">=",
        !0
    ],
    [
        "&&",
        !0
    ],
    [
        "||",
        !0
    ],
    [
        "+",
        !0
    ],
    [
        "-",
        !0
    ],
    [
        "*",
        !0
    ],
    [
        "/",
        !0
    ],
    [
        "%",
        !0
    ],
    [
        "!",
        !0
    ],
    [
        "<",
        !0
    ],
    [
        ">",
        !0
    ]
]), u = new Map([
    [
        46,
        r.DOT
    ],
    [
        91,
        r.BRACKET_LEFT
    ],
    [
        93,
        r.BRACKET_RIGHT
    ],
    [
        40,
        r.PAREN_LEFT
    ],
    [
        41,
        r.PAREN_RIGHT
    ],
    [
        44,
        r.COMMA
    ],
    [
        63,
        r.QUESTION
    ],
    [
        58,
        r.COLON
    ],
    [
        36,
        r.DOLLAR
    ]
]), c = new Map;
for (const [e, t] of u.entries())c.set(e, {
    type: t,
    value: String.fromCharCode(e)
});
function p(e) {
    return e >= 48 && e <= 57;
}
function l(e) {
    return e >= 97 && e <= 122 || e >= 65 && e <= 90 || 95 === e;
}
function f(e) {
    return l(e) || p(e);
}
function E(e) {
    return a.has(e);
}
var h;
!function(e) {
    e[e.Program = 0] = "Program", e[e.Literal = 1] = "Literal", e[e.Identifier = 2] = "Identifier", e[e.MemberExpression = 3] = "MemberExpression", e[e.CallExpression = 4] = "CallExpression", e[e.BinaryExpression = 5] = "BinaryExpression", e[e.UnaryExpression = 6] = "UnaryExpression", e[e.ConditionalExpression = 7] = "ConditionalExpression";
}(h || (h = {}));
const d = new Map([
    [
        "||",
        2
    ],
    [
        "&&",
        3
    ],
    [
        "===",
        4
    ],
    [
        "!==",
        4
    ],
    [
        ">",
        5
    ],
    [
        ">=",
        5
    ],
    [
        "<",
        5
    ],
    [
        "<=",
        5
    ],
    [
        "+",
        6
    ],
    [
        "-",
        6
    ],
    [
        "*",
        7
    ],
    [
        "/",
        7
    ],
    [
        "%",
        7
    ],
    [
        "!",
        8
    ]
]), R = {
    type: h.Literal,
    value: null
}, T = {
    type: h.Literal,
    value: !0
}, w = {
    type: h.Literal,
    value: !1
}, y = (e)=>{
    let t = 0;
    const o = e.length, a = ()=>t >= o ? null : e[t], s = ()=>e[t++], i = (e)=>{
        const t = a();
        return null !== t && t.type === e;
    }, u = (e)=>e.type === r.OPERATOR ? d.get(e.value) || -1 : e.type === r.DOT || e.type === r.BRACKET_LEFT ? 9 : e.type === r.QUESTION ? 1 : -1, c = (e)=>{
        let o, u;
        if (s().type === r.DOT) {
            if (!i(r.IDENTIFIER)) {
                const e = a();
                throw new n("Expected property name", t, e ? e.value : "<end of input>");
            }
            const e = s();
            o = {
                type: h.Identifier,
                name: e.value
            }, u = !1;
        } else {
            if (o = l(0), !i(r.BRACKET_RIGHT)) {
                const e = a();
                throw new n("Expected closing bracket", t, e ? e.value : "<end of input>");
            }
            s(), u = !0;
        }
        return {
            type: h.MemberExpression,
            object: e,
            property: o,
            computed: u
        };
    }, p = ()=>{
        const e = a();
        if (!e) throw new n("Unexpected end of input", t, "<end of input>");
        if (e.type === r.OPERATOR && ("!" === e.value || "-" === e.value)) {
            s();
            const t = p();
            return {
                type: h.UnaryExpression,
                operator: e.value,
                argument: t,
                prefix: !0
            };
        }
        switch(e.type){
            case r.NUMBER:
                return s(), {
                    type: h.Literal,
                    value: Number(e.value)
                };
            case r.STRING:
                return s(), {
                    type: h.Literal,
                    value: e.value
                };
            case r.BOOLEAN:
                return s(), "true" === e.value ? T : w;
            case r.NULL:
                return s(), R;
            case r.IDENTIFIER:
                return s(), {
                    type: h.Identifier,
                    name: e.value
                };
            case r.FUNCTION:
                return (()=>{
                    const e = s(), o = [];
                    if (!i(r.PAREN_LEFT)) {
                        const e = a();
                        throw new n("Expected opening parenthesis after function name", t, e ? e.value : "<end of input>");
                    }
                    for(s();;){
                        if (i(r.PAREN_RIGHT)) {
                            s();
                            break;
                        }
                        if (!a()) {
                            const e = a();
                            throw new n("Expected closing parenthesis", t, e ? e.value : "<end of input>");
                        }
                        if (o.length > 0) {
                            if (!i(r.COMMA)) {
                                const e = a();
                                throw new n("Expected comma between function arguments", t, e ? e.value : "<end of input>");
                            }
                            s();
                        }
                        const e = l(0);
                        o.push(e);
                    }
                    return {
                        type: h.CallExpression,
                        callee: {
                            type: h.Identifier,
                            name: e.value
                        },
                        arguments: o
                    };
                })();
            case r.PAREN_LEFT:
                {
                    s();
                    const e = l(0);
                    if (!i(r.PAREN_RIGHT)) {
                        const e = a();
                        throw new n("Expected closing parenthesis", t, e ? e.value : "<end of input>");
                    }
                    return s(), e;
                }
            default:
                throw new n(`Unexpected token: ${e.type}`, t, e.value);
        }
    }, l = (f = 0)=>{
        let E = p();
        for(; t < o;){
            const o = e[t], p = u(o);
            if (p <= f) break;
            if (o.type !== r.QUESTION) if (o.type !== r.OPERATOR) {
                if (o.type !== r.DOT && o.type !== r.BRACKET_LEFT) break;
                E = c(E);
            } else {
                s();
                const e = l(p);
                E = {
                    type: h.BinaryExpression,
                    operator: o.value,
                    left: E,
                    right: e
                };
            }
            else {
                s();
                const e = l(0);
                if (!i(r.COLON)) {
                    const e = a();
                    throw new n("Expected : in conditional expression", t, e ? e.value : "<end of input>");
                }
                s();
                const o = l(0);
                E = {
                    type: h.ConditionalExpression,
                    test: E,
                    consequent: e,
                    alternate: o
                };
            }
        }
        return E;
    }, f = l();
    return {
        type: h.Program,
        body: f
    };
}, O = (e, t, r)=>{
    let o = t;
    r && (o = {
        ...t,
        context: {
            ...t.context,
            ...r
        }
    });
    const a = (e)=>{
        switch(e.type){
            case h.Literal:
                return ((e)=>e.value)(e);
            case h.Identifier:
                return ((e)=>{
                    if (!(e.name in o.context)) throw new n(`Undefined variable: ${e.name}`);
                    return o.context[e.name];
                })(e);
            case h.MemberExpression:
                return ((e)=>{
                    const t = a(e.object);
                    if (null == t) throw new n("Cannot access property of null or undefined");
                    return t[e.computed ? a(e.property) : e.property.name];
                })(e);
            case h.CallExpression:
                return ((e)=>{
                    const t = o.functions[e.callee.name];
                    if (!t) throw new n(`Undefined function: ${e.callee.name}`);
                    return t(...e.arguments.map((e)=>a(e)));
                })(e);
            case h.BinaryExpression:
                return ((e)=>{
                    if ("&&" === e.operator) {
                        const t = a(e.left);
                        return t ? a(e.right) : t;
                    }
                    if ("||" === e.operator) {
                        return a(e.left) || a(e.right);
                    }
                    const t = a(e.left), r = a(e.right);
                    switch(e.operator){
                        case "+":
                            return t + r;
                        case "-":
                            return t - r;
                        case "*":
                            return t * r;
                        case "/":
                            return t / r;
                        case "%":
                            return t % r;
                        case "===":
                            return t === r;
                        case "!==":
                            return t !== r;
                        case ">":
                            return t > r;
                        case ">=":
                            return t >= r;
                        case "<":
                            return t < r;
                        case "<=":
                            return t <= r;
                        default:
                            throw new n(`Unknown operator: ${e.operator}`);
                    }
                })(e);
            case h.UnaryExpression:
                return ((e)=>{
                    const t = a(e.argument);
                    if (e.prefix) switch(e.operator){
                        case "!":
                            return !t;
                        case "-":
                            if ("number" != typeof t) throw new n(`Cannot apply unary - to non-number: ${t}`);
                            return -t;
                        default:
                            throw new n(`Unknown operator: ${e.operator}`);
                    }
                    throw new n(`Postfix operators are not supported: ${e.operator}`);
                })(e);
            case h.ConditionalExpression:
                return ((e)=>{
                    const t = a(e.test);
                    return a(t ? e.consequent : e.alternate);
                })(e);
            default:
                throw new n(`Evaluation error: Unsupported node type: ${e.type}`);
        }
    };
    return a(e.body);
};
function A(t) {
    const a = ((e)=>{
        const t = e, a = t.length, u = new Array(Math.ceil(a / 3));
        let h = 0, d = 0;
        function R(e) {
            const o = d + 1;
            d++;
            let s = "", i = !1;
            for(; d < a;){
                const n = t.charCodeAt(d);
                if (n === e) return i || (s = t.substring(o, d)), d++, {
                    type: r.STRING,
                    value: s
                };
                92 === n ? (i || (s = t.substring(o, d), i = !0), d++, s += t[d]) : i && (s += t[d]), d++;
            }
            throw new n(`Unterminated string starting with ${String.fromCharCode(e)}`, d, t.substring(Math.max(0, d - 10), d));
        }
        function T() {
            const e = d;
            for(45 === t.charCodeAt(d) && d++; d < a && p(t.charCodeAt(d));)d++;
            if (d < a && 46 === t.charCodeAt(d)) for(d++; d < a && p(t.charCodeAt(d));)d++;
            const n = t.slice(e, d);
            return {
                type: r.NUMBER,
                value: n
            };
        }
        function w() {
            d++;
            const e = d;
            if (d < a && l(t.charCodeAt(d))) for(d++; d < a && f(t.charCodeAt(d));)d++;
            const n = t.slice(e, d);
            return {
                type: r.FUNCTION,
                value: n
            };
        }
        function y() {
            const e = d++;
            for(; d < a && f(t.charCodeAt(d));)d++;
            const n = t.slice(e, d), o = s.get(n);
            return o ? {
                type: o,
                value: n
            } : {
                type: r.IDENTIFIER,
                value: n
            };
        }
        function O() {
            if (d + 2 < a) {
                const e = t.substring(d, d + 3);
                if (i.has(e)) return d += 3, {
                    type: r.OPERATOR,
                    value: e
                };
            }
            if (d + 1 < a) {
                const e = t.substring(d, d + 2);
                if (i.has(e)) return d += 2, {
                    type: r.OPERATOR,
                    value: e
                };
            }
            const e = t[d];
            if (i.has(e)) return d++, {
                type: r.OPERATOR,
                value: e
            };
            throw new n(`Unknown operator at position ${d}: ${t.substring(d, d + 1)}`, d, t.substring(Math.max(0, d - 10), d));
        }
        for(; d < a;){
            const e = t.charCodeAt(d);
            if (A = e, o.has(A)) {
                d++;
                continue;
            }
            const r = c.get(e);
            if (r) u[h++] = r, d++;
            else if (34 !== e && 39 !== e) if (p(e) || 45 === e && d + 1 < a && p(t.charCodeAt(d + 1))) u[h++] = T();
            else if (64 !== e) if (l(e)) u[h++] = y();
            else {
                if (!E(e)) throw new n(`Unexpected character: ${t[d]}`, d, t.substring(Math.max(0, d - 10), d));
                u[h++] = O();
            }
            else u[h++] = w();
            else u[h++] = R(e);
        }
        var A;
        return h === u.length ? u : u.slice(0, h);
    })(t), u = y(a), h = ((e = {}, t = {})=>({
            context: e,
            functions: t
        }))({}, e);
    return (e = {})=>O(u, h, e);
}
function N(e, t = {}) {
    return A(e)(t);
}
;
}}),
"[project]/node_modules/@antv/coord/esm/utils/compose.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "compose": (()=>compose)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$util$2f$esm$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/@antv/coord/node_modules/@antv/util/esm/index.js [app-ssr] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$util$2f$esm$2f$identity$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__identity$3e$__ = __turbopack_import__("[project]/node_modules/@antv/coord/node_modules/@antv/util/esm/identity.js [app-ssr] (ecmascript) <export default as identity>");
;
function compose(fn) {
    var rest = [];
    for(var _i = 1; _i < arguments.length; _i++){
        rest[_i - 1] = arguments[_i];
    }
    return fn ? rest.reduce(function(total, current) {
        return function(x) {
            return current(total(x));
        };
    }, fn) : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$util$2f$esm$2f$identity$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__identity$3e$__["identity"];
} //# sourceMappingURL=compose.js.map
}}),
"[project]/node_modules/@antv/coord/esm/utils/isMatrix.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "isMatrix": (()=>isMatrix)
});
function isMatrix(transformer) {
    return transformer instanceof Float32Array || transformer instanceof Array;
} //# sourceMappingURL=isMatrix.js.map
}}),
"[project]/node_modules/@antv/coord/esm/utils/extend.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "extend": (()=>extend),
    "extend3D": (()=>extend3D)
});
var __read = this && this.__read || function(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);
    } catch (error) {
        e = {
            error: error
        };
    } finally{
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        } finally{
            if (e) throw e.error;
        }
    }
    return ar;
};
var __spreadArray = this && this.__spreadArray || function(to, from, pack) {
    if (pack || arguments.length === 2) for(var i = 0, l = from.length, ar; i < l; i++){
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
};
function extend(transform) {
    return function(vector) {
        var v = [];
        for(var i = 0; i < vector.length - 1; i += 2){
            var from = [
                vector[i],
                vector[i + 1]
            ];
            var to = transform(from);
            v.push.apply(v, __spreadArray([], __read(to), false));
        }
        return v;
    };
}
function extend3D(transform) {
    return function(vector) {
        var v = [];
        for(var i = 0; i < vector.length - 1; i += 3){
            var from = [
                vector[i],
                vector[i + 1],
                vector[i + 2]
            ];
            var to = transform(from);
            v.push.apply(v, __spreadArray([], __read(to), false));
        }
        return v;
    };
} //# sourceMappingURL=extend.js.map
}}),
"[project]/node_modules/@antv/coord/esm/utils/adjustAngle.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "adjustAngle": (()=>adjustAngle)
});
function adjustAngle(theta, min, max) {
    while(theta < min)theta += Math.PI * 2;
    while(theta > max)theta -= Math.PI * 2;
    return theta;
} //# sourceMappingURL=adjustAngle.js.map
}}),
"[project]/node_modules/@antv/coord/esm/utils/index.js [app-ssr] (ecmascript) <locals>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({});
;
;
;
;
 //# sourceMappingURL=index.js.map
}}),
"[project]/node_modules/@antv/coord/esm/utils/index.js [app-ssr] (ecmascript) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$utils$2f$compose$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/utils/compose.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$utils$2f$isMatrix$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/utils/isMatrix.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$utils$2f$extend$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/utils/extend.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$utils$2f$adjustAngle$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/utils/adjustAngle.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$utils$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/utils/index.js [app-ssr] (ecmascript) <locals>");
}}),
"[project]/node_modules/@antv/coord/esm/transforms/translate.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "translate": (()=>translate)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat3$3e$__ = __turbopack_import__("[project]/node_modules/gl-matrix/esm/mat3.js [app-ssr] (ecmascript) <export * as mat3>");
var __read = this && this.__read || function(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);
    } catch (error) {
        e = {
            error: error
        };
    } finally{
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        } finally{
            if (e) throw e.error;
        }
    }
    return ar;
};
;
var translate = function(params, x, y, width, height) {
    var _a = __read(params, 2), tx = _a[0], ty = _a[1];
    var matrix = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat3$3e$__["mat3"].create();
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat3$3e$__["mat3"].fromTranslation(matrix, [
        tx,
        ty
    ]);
}; //# sourceMappingURL=translate.js.map
}}),
"[project]/node_modules/@antv/coord/esm/transforms/cartesian.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "cartesian": (()=>cartesian)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$scale$2f$esm$2f$scales$2f$linear$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/node_modules/@antv/scale/esm/scales/linear.js [app-ssr] (ecmascript)");
var __read = this && this.__read || function(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);
    } catch (error) {
        e = {
            error: error
        };
    } finally{
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        } finally{
            if (e) throw e.error;
        }
    }
    return ar;
};
;
var cartesian = function(params, x, y, width, height) {
    var sx = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$scale$2f$esm$2f$scales$2f$linear$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Linear"]({
        range: [
            x,
            x + width
        ]
    });
    var sy = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$scale$2f$esm$2f$scales$2f$linear$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Linear"]({
        range: [
            y,
            y + height
        ]
    });
    return {
        transform: function(vector) {
            var _a = __read(vector, 2), v1 = _a[0], v2 = _a[1];
            return [
                sx.map(v1),
                sy.map(v2)
            ];
        },
        untransform: function(vector) {
            var _a = __read(vector, 2), v1 = _a[0], v2 = _a[1];
            return [
                sx.invert(v1),
                sy.invert(v2)
            ];
        }
    };
}; //# sourceMappingURL=cartesian.js.map
}}),
"[project]/node_modules/@antv/coord/esm/transforms/custom.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "custom": (()=>custom)
});
var __read = this && this.__read || function(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);
    } catch (error) {
        e = {
            error: error
        };
    } finally{
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        } finally{
            if (e) throw e.error;
        }
    }
    return ar;
};
var custom = function(params, x, y, width, height) {
    var _a = __read(params, 1), callback = _a[0];
    return callback(x, y, width, height);
}; //# sourceMappingURL=custom.js.map
}}),
"[project]/node_modules/@antv/coord/esm/transforms/matrix.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "matrix": (()=>matrix)
});
var __read = this && this.__read || function(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);
    } catch (error) {
        e = {
            error: error
        };
    } finally{
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        } finally{
            if (e) throw e.error;
        }
    }
    return ar;
};
var matrix = function(params, x, y, width, height) {
    var _a = __read(params, 1), matrix = _a[0];
    return matrix;
}; //# sourceMappingURL=matrix.js.map
}}),
"[project]/node_modules/@antv/coord/esm/transforms/polar.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "polar": (()=>polar)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$utils$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/utils/index.js [app-ssr] (ecmascript) <module evaluation>");
/* eslint-disable @typescript-eslint/no-unused-vars */ var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$scale$2f$esm$2f$scales$2f$linear$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/node_modules/@antv/scale/esm/scales/linear.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$utils$2f$adjustAngle$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/utils/adjustAngle.js [app-ssr] (ecmascript)");
var __read = this && this.__read || function(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);
    } catch (error) {
        e = {
            error: error
        };
    } finally{
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        } finally{
            if (e) throw e.error;
        }
    }
    return ar;
};
;
;
var polar = function(params, x, y, width, height) {
    var _a = __read(params, 4), startAngle = _a[0], endAngle = _a[1], innerRadius = _a[2], outerRadius = _a[3];
    var radius = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$scale$2f$esm$2f$scales$2f$linear$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Linear"]({
        range: [
            innerRadius,
            outerRadius
        ]
    });
    var angle = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$scale$2f$esm$2f$scales$2f$linear$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Linear"]({
        range: [
            startAngle,
            endAngle
        ]
    });
    var aspect = height / width;
    var sx = aspect > 1 ? 1 : aspect;
    var sy = aspect > 1 ? 1 / aspect : 1;
    return {
        transform: function(vector) {
            var _a = __read(vector, 2), v1 = _a[0], v2 = _a[1];
            var theta = angle.map(v1);
            var r = radius.map(v2);
            // 根据长宽比调整，使得极坐标系内切外接矩形
            var x = r * Math.cos(theta) * sx;
            var y = r * Math.sin(theta) * sy;
            // 将坐标的原点移动到外接矩形的中心，并且将长度设置为一半
            var dx = x * 0.5 + 0.5;
            var dy = y * 0.5 + 0.5;
            return [
                dx,
                dy
            ];
        },
        untransform: function(vector) {
            var _a = __read(vector, 2), dx = _a[0], dy = _a[1];
            var x = (dx - 0.5) * 2 / sx;
            var y = (dy - 0.5) * 2 / sy;
            var r = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));
            var t = Math.atan2(y, x);
            var theta = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$utils$2f$adjustAngle$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["adjustAngle"])(t, startAngle, endAngle);
            var v1 = angle.invert(theta);
            var v2 = radius.invert(r);
            return [
                v1,
                v2
            ];
        }
    };
}; //# sourceMappingURL=polar.js.map
}}),
"[project]/node_modules/@antv/coord/esm/transforms/transpose.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "transpose": (()=>transpose)
});
var __read = this && this.__read || function(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);
    } catch (error) {
        e = {
            error: error
        };
    } finally{
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        } finally{
            if (e) throw e.error;
        }
    }
    return ar;
};
var transpose = function(params, x, y, width, height) {
    return {
        transform: function(_a) {
            var _b = __read(_a, 2), x = _b[0], y = _b[1];
            return [
                y,
                x
            ];
        },
        untransform: function(_a) {
            var _b = __read(_a, 2), x = _b[0], y = _b[1];
            return [
                y,
                x
            ];
        }
    };
}; //# sourceMappingURL=transpose.js.map
}}),
"[project]/node_modules/@antv/coord/esm/transforms/scale.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "scale": (()=>scale)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat3$3e$__ = __turbopack_import__("[project]/node_modules/gl-matrix/esm/mat3.js [app-ssr] (ecmascript) <export * as mat3>");
var __read = this && this.__read || function(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);
    } catch (error) {
        e = {
            error: error
        };
    } finally{
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        } finally{
            if (e) throw e.error;
        }
    }
    return ar;
};
;
var scale = function(params, x, y, width, height) {
    var _a = __read(params, 2), sx = _a[0], sy = _a[1];
    var matrix = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat3$3e$__["mat3"].create();
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat3$3e$__["mat3"].fromScaling(matrix, [
        sx,
        sy
    ]);
}; //# sourceMappingURL=scale.js.map
}}),
"[project]/node_modules/@antv/coord/esm/transforms/reflect.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "reflect": (()=>reflect),
    "reflectX": (()=>reflectX),
    "reflectY": (()=>reflectY)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$scale$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/scale.js [app-ssr] (ecmascript)");
var __read = this && this.__read || function(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);
    } catch (error) {
        e = {
            error: error
        };
    } finally{
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        } finally{
            if (e) throw e.error;
        }
    }
    return ar;
};
var __spreadArray = this && this.__spreadArray || function(to, from, pack) {
    if (pack || arguments.length === 2) for(var i = 0, l = from.length, ar; i < l; i++){
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
};
;
var reflect = function(params) {
    var args = [];
    for(var _i = 1; _i < arguments.length; _i++){
        args[_i - 1] = arguments[_i];
    }
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$scale$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["scale"].apply(void 0, __spreadArray([
        [
            -1,
            -1
        ]
    ], __read(args), false));
};
var reflectX = function(params) {
    var args = [];
    for(var _i = 1; _i < arguments.length; _i++){
        args[_i - 1] = arguments[_i];
    }
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$scale$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["scale"].apply(void 0, __spreadArray([
        [
            -1,
            1
        ]
    ], __read(args), false));
};
var reflectY = function(params) {
    var args = [];
    for(var _i = 1; _i < arguments.length; _i++){
        args[_i - 1] = arguments[_i];
    }
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$scale$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["scale"].apply(void 0, __spreadArray([
        [
            1,
            -1
        ]
    ], __read(args), false));
}; //# sourceMappingURL=reflect.js.map
}}),
"[project]/node_modules/@antv/coord/esm/transforms/rotate.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "rotate": (()=>rotate)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat3$3e$__ = __turbopack_import__("[project]/node_modules/gl-matrix/esm/mat3.js [app-ssr] (ecmascript) <export * as mat3>");
var __read = this && this.__read || function(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);
    } catch (error) {
        e = {
            error: error
        };
    } finally{
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        } finally{
            if (e) throw e.error;
        }
    }
    return ar;
};
;
var rotate = function(params, x, y, width, height) {
    var _a = __read(params, 1), theta = _a[0];
    var matrix = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat3$3e$__["mat3"].create();
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat3$3e$__["mat3"].fromRotation(matrix, theta);
}; //# sourceMappingURL=rotate.js.map
}}),
"[project]/node_modules/@antv/coord/esm/transforms/helix.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "helix": (()=>helix)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$utils$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/utils/index.js [app-ssr] (ecmascript) <module evaluation>");
/* eslint-disable @typescript-eslint/no-unused-vars */ var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$scale$2f$esm$2f$scales$2f$linear$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/node_modules/@antv/scale/esm/scales/linear.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$utils$2f$adjustAngle$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/utils/adjustAngle.js [app-ssr] (ecmascript)");
var __read = this && this.__read || function(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);
    } catch (error) {
        e = {
            error: error
        };
    } finally{
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        } finally{
            if (e) throw e.error;
        }
    }
    return ar;
};
;
;
var helix = function(params, x, y, width, height) {
    var _a = __read(params, 4), startAngle = _a[0], endAngle = _a[1], innerRadius = _a[2], outerRadius = _a[3];
    // 计算螺旋系数：r = a + b * theta
    // d = 2 * PI * b
    // 这里不管 startAngle 从多少开始，都从 0 开始计算
    // 这样才能保证坐标系在 bounding box 里面
    var count = (endAngle - 0) / (2 * Math.PI) + 1;
    var d = (outerRadius - innerRadius) / count;
    var b = d / (Math.PI * 2);
    // 当 theta 为 0 的时候的极径
    var step = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$scale$2f$esm$2f$scales$2f$linear$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Linear"]({
        range: [
            innerRadius,
            innerRadius + d * 0.99
        ]
    });
    var angle = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$scale$2f$esm$2f$scales$2f$linear$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Linear"]({
        range: [
            startAngle,
            endAngle
        ]
    });
    var aspect = height / width;
    var sx = aspect > 1 ? 1 : aspect;
    var sy = aspect > 1 ? 1 / aspect : 1;
    return {
        transform: function(vector) {
            var _a = __read(vector, 2), v1 = _a[0], v2 = _a[1];
            var theta = angle.map(v1);
            var a = step.map(v2);
            // 根据长宽比调整，使得极坐标系内切外接矩形
            var x = Math.cos(theta) * (b * theta + a) * sx;
            var y = Math.sin(theta) * (b * theta + a) * sy;
            // 将坐标的原点移动到外接矩形的中心，并且将长度设置为一半
            var dx = x * 0.5 + 0.5;
            var dy = y * 0.5 + 0.5;
            return [
                dx,
                dy
            ];
        },
        untransform: function(vector) {
            var _a = __read(vector, 2), dx = _a[0], dy = _a[1];
            var x = (dx - 0.5) * 2 / sx;
            var y = (dy - 0.5) * 2 / sy;
            var r = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));
            var t = Math.atan2(y, x) + Math.floor(r / d) * Math.PI * 2;
            var theta = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$utils$2f$adjustAngle$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["adjustAngle"])(t, startAngle, endAngle);
            var a = r - b * theta;
            var v1 = angle.invert(theta);
            var v2 = step.invert(a);
            return [
                v1,
                v2
            ];
        }
    };
}; //# sourceMappingURL=helix.js.map
}}),
"[project]/node_modules/@antv/coord/esm/transforms/parallel.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "parallel": (()=>parallel)
});
/* eslint-disable @typescript-eslint/no-unused-vars */ var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$scale$2f$esm$2f$scales$2f$linear$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/node_modules/@antv/scale/esm/scales/linear.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$scale$2f$esm$2f$scales$2f$point$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/node_modules/@antv/scale/esm/scales/point.js [app-ssr] (ecmascript)");
var __read = this && this.__read || function(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);
    } catch (error) {
        e = {
            error: error
        };
    } finally{
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        } finally{
            if (e) throw e.error;
        }
    }
    return ar;
};
;
var parallel = function(params, x, y, width, height) {
    var _a = __read(params, 4), x0 = _a[0], x1 = _a[1], y0 = _a[2], y1 = _a[3];
    var sy = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$scale$2f$esm$2f$scales$2f$linear$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Linear"]({
        range: [
            y0,
            y1
        ]
    });
    return {
        transform: function(vector) {
            var v = [];
            var len = vector.length;
            var sx = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$scale$2f$esm$2f$scales$2f$point$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Point"]({
                domain: new Array(len).fill(0).map(function(_, i) {
                    return i;
                }),
                range: [
                    x0,
                    x1
                ]
            });
            for(var i = 0; i < len; i++){
                var e = vector[i];
                var x_1 = sx.map(i);
                var y_1 = sy.map(e);
                v.push(x_1, y_1);
            }
            return v;
        },
        untransform: function(vector) {
            var v = [];
            for(var i = 0; i < vector.length; i += 2){
                var y_2 = vector[i + 1];
                v.push(sy.invert(y_2));
            }
            return v;
        }
    };
}; //# sourceMappingURL=parallel.js.map
}}),
"[project]/node_modules/@antv/coord/esm/transforms/shear.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "shearX": (()=>shearX),
    "shearY": (()=>shearY)
});
var __read = this && this.__read || function(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);
    } catch (error) {
        e = {
            error: error
        };
    } finally{
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        } finally{
            if (e) throw e.error;
        }
    }
    return ar;
};
function cot(theta) {
    return 1 / Math.tan(theta);
}
var shearX = function(params, x, y, width, height) {
    var _a = __read(params, 1), theta = _a[0];
    var sx = cot(theta);
    return {
        transform: function(vector) {
            var _a = __read(vector, 2), x = _a[0], y = _a[1];
            var xx = x + y * sx;
            return [
                xx,
                y
            ];
        },
        untransform: function(vector) {
            var _a = __read(vector, 2), xx = _a[0], y = _a[1];
            var x = xx - y * sx;
            return [
                x,
                y
            ];
        }
    };
};
var shearY = function(params, x, y, width, height) {
    var _a = __read(params, 1), theta = _a[0];
    var sy = cot(theta);
    return {
        transform: function(vector) {
            var _a = __read(vector, 2), x = _a[0], y = _a[1];
            var yy = y + x * sy;
            return [
                x,
                yy
            ];
        },
        untransform: function(vector) {
            var _a = __read(vector, 2), x = _a[0], yy = _a[1];
            var y = yy - x * sy;
            return [
                x,
                y
            ];
        }
    };
}; //# sourceMappingURL=shear.js.map
}}),
"[project]/node_modules/@antv/coord/esm/transforms/fisheye.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "fisheye": (()=>fisheye),
    "fisheyeCircular": (()=>fisheyeCircular),
    "fisheyeX": (()=>fisheyeX),
    "fisheyeY": (()=>fisheyeY)
});
/* eslint-disable @typescript-eslint/no-unused-vars */ // https://github.com/d3/d3-plugins/blob/master/fisheye/fisheye.js
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$scale$2f$esm$2f$scales$2f$linear$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/node_modules/@antv/scale/esm/scales/linear.js [app-ssr] (ecmascript)");
var __read = this && this.__read || function(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);
    } catch (error) {
        e = {
            error: error
        };
    } finally{
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        } finally{
            if (e) throw e.error;
        }
    }
    return ar;
};
;
function fisheyeTransform(x, focus, distortion, min, max) {
    var left = x < focus;
    var m = (left ? focus - min : max - focus) || max - min;
    var f = left ? -1 : 1;
    return f * m * (distortion + 1) / (distortion + m / ((x - focus) * f)) + focus;
}
function fisheyeUntransform(tx, focus, distortion, min, max) {
    var left = tx < focus;
    var m = (left ? focus - min : max - focus) || max - min;
    var f = left ? -1 : 1;
    return m / (m * (distortion + 1) / (tx - focus) - distortion * f) + focus;
}
/**
 * Map actual visual point to abstract focus point(0, 1)
 */ function normalize(focus, length, isVisual) {
    if (!isVisual) return focus;
    var s = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$scale$2f$esm$2f$scales$2f$linear$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Linear"]({
        range: [
            0,
            1
        ],
        domain: [
            0,
            length
        ]
    });
    return s.map(focus);
}
var fisheyeX = function(params, x, y, width, height) {
    var _a = __read(params, 3), focus = _a[0], distortion = _a[1], _b = _a[2], isVisual = _b === void 0 ? false : _b;
    var normalizedFocusX = normalize(focus, width, isVisual);
    return {
        transform: function(vector) {
            var _a = __read(vector, 2), vx = _a[0], vy = _a[1];
            var fx = fisheyeTransform(vx, normalizedFocusX, distortion, 0, 1);
            return [
                fx,
                vy
            ];
        },
        untransform: function(vector) {
            var _a = __read(vector, 2), fx = _a[0], vy = _a[1];
            var vx = fisheyeUntransform(fx, normalizedFocusX, distortion, 0, 1);
            return [
                vx,
                vy
            ];
        }
    };
};
var fisheyeY = function(params, x, y, width, height) {
    var _a = __read(params, 3), focus = _a[0], distortion = _a[1], _b = _a[2], isVisual = _b === void 0 ? false : _b;
    var normalizedFocusY = normalize(focus, height, isVisual);
    return {
        transform: function(vector) {
            var _a = __read(vector, 2), vx = _a[0], vy = _a[1];
            var fy = fisheyeTransform(vy, normalizedFocusY, distortion, 0, 1);
            return [
                vx,
                fy
            ];
        },
        untransform: function(vector) {
            var _a = __read(vector, 2), vx = _a[0], fy = _a[1];
            var vy = fisheyeUntransform(fy, normalizedFocusY, distortion, 0, 1);
            return [
                vx,
                vy
            ];
        }
    };
};
var fisheye = function(params, x, y, width, height) {
    var _a = __read(params, 5), focusX = _a[0], focusY = _a[1], distortionX = _a[2], distortionY = _a[3], _b = _a[4], isVisual = _b === void 0 ? false : _b;
    var normalizedFocusX = normalize(focusX, width, isVisual);
    var normalizedFocusY = normalize(focusY, height, isVisual);
    return {
        transform: function(vector) {
            var _a = __read(vector, 2), vx = _a[0], vy = _a[1];
            var fx = fisheyeTransform(vx, normalizedFocusX, distortionX, 0, 1);
            var fy = fisheyeTransform(vy, normalizedFocusY, distortionY, 0, 1);
            return [
                fx,
                fy
            ];
        },
        untransform: function(vector) {
            var _a = __read(vector, 2), fx = _a[0], fy = _a[1];
            var vx = fisheyeUntransform(fx, normalizedFocusX, distortionX, 0, 1);
            var vy = fisheyeUntransform(fy, normalizedFocusY, distortionY, 0, 1);
            return [
                vx,
                vy
            ];
        }
    };
};
var fisheyeCircular = function(params, x, y, width, height) {
    var _a = __read(params, 5), focusX = _a[0], focusY = _a[1], radius = _a[2], distortion = _a[3], _b = _a[4], isVisual = _b === void 0 ? false : _b;
    var scaleX = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$scale$2f$esm$2f$scales$2f$linear$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Linear"]({
        range: [
            0,
            width
        ]
    });
    var scaleY = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$scale$2f$esm$2f$scales$2f$linear$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Linear"]({
        range: [
            0,
            height
        ]
    });
    // focus point => visual point
    var nx = isVisual ? focusX : scaleX.map(focusX);
    var ny = isVisual ? focusY : scaleY.map(focusY);
    return {
        transform: function(vector) {
            var _a = __read(vector, 2), x = _a[0], y = _a[1];
            // focus point => visual point
            var dx = scaleX.map(x) - nx;
            var dy = scaleY.map(y) - ny;
            var dd = Math.sqrt(dx * dx + dy * dy);
            if (dd > radius) return [
                x,
                y
            ];
            var r = fisheyeTransform(dd, 0, distortion, 0, radius);
            var theta = Math.atan2(dy, dx);
            var fx = nx + r * Math.cos(theta);
            var fy = ny + r * Math.sin(theta);
            // visual point => focus point
            return [
                scaleX.invert(fx),
                scaleY.invert(fy)
            ];
        },
        untransform: function(vector) {
            var _a = __read(vector, 2), tx = _a[0], ty = _a[1];
            var dx = scaleX.map(tx) - nx;
            var dy = scaleY.map(ty) - ny;
            var dd = Math.sqrt(dx * dx + dy * dy);
            if (dd > radius) return [
                tx,
                ty
            ];
            var x = fisheyeUntransform(dd, 0, distortion, 0, radius);
            var theta = Math.atan2(dy, dx);
            var fx = nx + x * Math.cos(theta);
            var fy = ny + x * Math.sin(theta);
            return [
                scaleX.invert(fx),
                scaleY.invert(fy)
            ];
        }
    };
}; //# sourceMappingURL=fisheye.js.map
}}),
"[project]/node_modules/@antv/coord/esm/transforms/cartesian3D.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "cartesian3D": (()=>cartesian3D)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$scale$2f$esm$2f$scales$2f$linear$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/node_modules/@antv/scale/esm/scales/linear.js [app-ssr] (ecmascript)");
var __read = this && this.__read || function(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);
    } catch (error) {
        e = {
            error: error
        };
    } finally{
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        } finally{
            if (e) throw e.error;
        }
    }
    return ar;
};
;
var cartesian3D = function(params, x, y, z, width, height, depth) {
    var sx = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$scale$2f$esm$2f$scales$2f$linear$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Linear"]({
        range: [
            x,
            x + width
        ]
    });
    var sy = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$scale$2f$esm$2f$scales$2f$linear$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Linear"]({
        range: [
            y,
            y + height
        ]
    });
    var sz = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$scale$2f$esm$2f$scales$2f$linear$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Linear"]({
        range: [
            z,
            z + depth
        ]
    });
    return {
        transform: function(vector) {
            var _a = __read(vector, 3), v1 = _a[0], v2 = _a[1], v3 = _a[2];
            return [
                sx.map(v1),
                sy.map(v2),
                sz.map(v3)
            ];
        },
        untransform: function(vector) {
            var _a = __read(vector, 3), v1 = _a[0], v2 = _a[1], v3 = _a[2];
            return [
                sx.invert(v1),
                sy.invert(v2),
                sz.invert(v3)
            ];
        }
    };
}; //# sourceMappingURL=cartesian3D.js.map
}}),
"[project]/node_modules/@antv/coord/esm/transforms/translate3D.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "translate3D": (()=>translate3D)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__ = __turbopack_import__("[project]/node_modules/gl-matrix/esm/mat4.js [app-ssr] (ecmascript) <export * as mat4>");
var __read = this && this.__read || function(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);
    } catch (error) {
        e = {
            error: error
        };
    } finally{
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        } finally{
            if (e) throw e.error;
        }
    }
    return ar;
};
;
var translate3D = function(params, x, y, z, width, height, depth) {
    var _a = __read(params, 3), tx = _a[0], ty = _a[1], tz = _a[2];
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].fromTranslation(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].create(), [
        tx,
        ty,
        tz
    ]);
}; //# sourceMappingURL=translate3D.js.map
}}),
"[project]/node_modules/@antv/coord/esm/transforms/transpose3D.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "transpose3D": (()=>transpose3D)
});
var __read = this && this.__read || function(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);
    } catch (error) {
        e = {
            error: error
        };
    } finally{
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        } finally{
            if (e) throw e.error;
        }
    }
    return ar;
};
var transpose3D = function(params, x, y, z, width, height, depth) {
    return {
        transform: function(_a) {
            var _b = __read(_a, 3), x = _b[0], y = _b[1], z = _b[2];
            return [
                y,
                x,
                z
            ];
        },
        untransform: function(_a) {
            var _b = __read(_a, 3), x = _b[0], y = _b[1], z = _b[2];
            return [
                y,
                x,
                z
            ];
        }
    };
}; //# sourceMappingURL=transpose3D.js.map
}}),
"[project]/node_modules/@antv/coord/esm/transforms/scale3D.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "scale3D": (()=>scale3D)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__ = __turbopack_import__("[project]/node_modules/gl-matrix/esm/mat4.js [app-ssr] (ecmascript) <export * as mat4>");
var __read = this && this.__read || function(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);
    } catch (error) {
        e = {
            error: error
        };
    } finally{
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        } finally{
            if (e) throw e.error;
        }
    }
    return ar;
};
;
var scale3D = function(params, x, y, z, width, height, depth) {
    var _a = __read(params, 3), sx = _a[0], sy = _a[1], sz = _a[2];
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].fromScaling(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].create(), [
        sx,
        sy,
        sz
    ]);
}; //# sourceMappingURL=scale3D.js.map
}}),
"[project]/node_modules/@antv/coord/esm/transforms/index.js [app-ssr] (ecmascript) <locals>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({});
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
 //# sourceMappingURL=index.js.map
}}),
"[project]/node_modules/@antv/coord/esm/transforms/index.js [app-ssr] (ecmascript) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$translate$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/translate.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$cartesian$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/cartesian.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$custom$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/custom.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$matrix$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/matrix.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$polar$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/polar.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$transpose$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/transpose.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$scale$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/scale.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$reflect$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/reflect.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$rotate$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/rotate.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$helix$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/helix.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$parallel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/parallel.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$shear$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/shear.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$fisheye$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/fisheye.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$cartesian3D$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/cartesian3D.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$translate3D$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/translate3D.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$transpose3D$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/transpose3D.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$scale3D$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/scale3D.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/index.js [app-ssr] (ecmascript) <locals>");
}}),
"[project]/node_modules/@antv/coord/esm/coordinate.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "Coordinate": (()=>Coordinate)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$util$2f$esm$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/@antv/coord/node_modules/@antv/util/esm/index.js [app-ssr] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$utils$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/utils/index.js [app-ssr] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/index.js [app-ssr] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$util$2f$esm$2f$deep$2d$mix$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__deepMix$3e$__ = __turbopack_import__("[project]/node_modules/@antv/coord/node_modules/@antv/util/esm/deep-mix.js [app-ssr] (ecmascript) <export default as deepMix>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$utils$2f$extend$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/utils/extend.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$utils$2f$isMatrix$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/utils/isMatrix.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$util$2f$esm$2f$identity$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__identity$3e$__ = __turbopack_import__("[project]/node_modules/@antv/coord/node_modules/@antv/util/esm/identity.js [app-ssr] (ecmascript) <export default as identity>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$utils$2f$compose$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/utils/compose.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat3$3e$__ = __turbopack_import__("[project]/node_modules/gl-matrix/esm/mat3.js [app-ssr] (ecmascript) <export * as mat3>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__ = __turbopack_import__("[project]/node_modules/gl-matrix/esm/vec3.js [app-ssr] (ecmascript) <export * as vec3>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$cartesian$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/cartesian.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$translate$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/translate.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$custom$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/custom.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$matrix$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/matrix.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$polar$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/polar.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$transpose$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/transpose.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$scale$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/scale.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$shear$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/shear.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$reflect$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/reflect.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$rotate$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/rotate.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$helix$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/helix.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$parallel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/parallel.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$fisheye$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/fisheye.js [app-ssr] (ecmascript)");
var __read = this && this.__read || function(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);
    } catch (error) {
        e = {
            error: error
        };
    } finally{
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        } finally{
            if (e) throw e.error;
        }
    }
    return ar;
};
var __spreadArray = this && this.__spreadArray || function(to, from, pack) {
    if (pack || arguments.length === 2) for(var i = 0, l = from.length, ar; i < l; i++){
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
};
var __values = this && this.__values || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function() {
            if (o && i >= o.length) o = void 0;
            return {
                value: o && o[i++],
                done: !o
            };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
;
;
;
;
var Coordinate = function() {
    /**
     * Create a new Coordinate Object.
     * @param options Custom options
     */ function Coordinate(options) {
        // 当前的选项
        this.options = {
            x: 0,
            y: 0,
            width: 300,
            height: 150,
            transformations: []
        };
        // 当前可以使用的变换
        this.transformers = {
            cartesian: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$cartesian$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cartesian"],
            translate: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$translate$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["translate"],
            custom: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$custom$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["custom"],
            matrix: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$matrix$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["matrix"],
            polar: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$polar$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["polar"],
            transpose: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$transpose$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["transpose"],
            scale: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$scale$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["scale"],
            'shear.x': __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$shear$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["shearX"],
            'shear.y': __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$shear$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["shearY"],
            reflect: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$reflect$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["reflect"],
            'reflect.x': __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$reflect$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["reflectX"],
            'reflect.y': __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$reflect$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["reflectY"],
            rotate: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$rotate$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["rotate"],
            helix: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$helix$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["helix"],
            parallel: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$parallel$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["parallel"],
            fisheye: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$fisheye$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["fisheye"],
            'fisheye.x': __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$fisheye$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["fisheyeX"],
            'fisheye.y': __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$fisheye$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["fisheyeY"],
            'fisheye.circular': __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$fisheye$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["fisheyeCircular"]
        };
        this.update(options);
    }
    /**
     * Update options and inner state.
     * @param options Options to be updated
     */ Coordinate.prototype.update = function(options) {
        this.options = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$util$2f$esm$2f$deep$2d$mix$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__deepMix$3e$__["deepMix"])({}, this.options, options);
        this.recoordinate();
    };
    /**
     * Returns a new Coordinate with same options.
     * @returns Coordinate
     */ Coordinate.prototype.clone = function() {
        return new Coordinate(this.options);
    };
    /**
     * Returns current options.
     * @returns options
     */ Coordinate.prototype.getOptions = function() {
        return this.options;
    };
    /**
     * Clear transformations and update.
     */ Coordinate.prototype.clear = function() {
        this.update({
            transformations: []
        });
    };
    /**
     * Returns the size of the bounding box of the coordinate.
     * @returns [width, height]
     */ Coordinate.prototype.getSize = function() {
        var _a = this.options, width = _a.width, height = _a.height;
        return [
            width,
            height
        ];
    };
    /**
     * Returns the center of the bounding box of the coordinate.
     * @returns [centerX, centerY, centerZ]
     */ Coordinate.prototype.getCenter = function() {
        var _a = this.options, x = _a.x, y = _a.y, width = _a.width, height = _a.height;
        return [
            (x * 2 + width) / 2,
            (y * 2 + height) / 2
        ];
    };
    /**
     * Add selected transformation.
     * @param args transform type and params
     * @returns Coordinate
     */ Coordinate.prototype.transform = function() {
        var args = [];
        for(var _i = 0; _i < arguments.length; _i++){
            args[_i] = arguments[_i];
        }
        var transformations = this.options.transformations;
        this.update({
            transformations: __spreadArray(__spreadArray([], __read(transformations), false), [
                __spreadArray([], __read(args), false)
            ], false)
        });
        return this;
    };
    /**
     * Apples transformations for the current vector.
     * @param vector original vector2
     * @returns transformed vector2
     */ Coordinate.prototype.map = function(vector) {
        return this.output(vector);
    };
    /**
     * Apples invert transformations for the current vector.
     * @param vector transformed vector2
     * @param vector original vector2
     */ Coordinate.prototype.invert = function(vector) {
        return this.input(vector);
    };
    Coordinate.prototype.recoordinate = function() {
        this.output = this.compose();
        this.input = this.compose(true);
    };
    // 将所有的变换合成一个函数
    // 变换有两种类型：矩阵变换和函数变换
    // 处理过程中需要把连续的矩阵变换合成一个变换函数，然后在和其他变换函数合成最终的变换函数
    Coordinate.prototype.compose = function(invert) {
        var e_1, _a;
        if (invert === void 0) {
            invert = false;
        }
        var transformations = invert ? __spreadArray([], __read(this.options.transformations), false).reverse() : this.options.transformations;
        var getter = invert ? function(d) {
            return d.untransform;
        } : function(d) {
            return d.transform;
        };
        var matrixes = [];
        var transforms = [];
        var add = function(transform, extended) {
            if (extended === void 0) {
                extended = true;
            }
            return transforms.push(extended ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$utils$2f$extend$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["extend"])(transform) : transform);
        };
        try {
            for(var transformations_1 = __values(transformations), transformations_1_1 = transformations_1.next(); !transformations_1_1.done; transformations_1_1 = transformations_1.next()){
                var _b = __read(transformations_1_1.value), name_1 = _b[0], args = _b.slice(1);
                var createTransformer = this.transformers[name_1];
                if (createTransformer) {
                    var _c = this.options, x = _c.x, y = _c.y, width = _c.width, height = _c.height;
                    var transformer = createTransformer(__spreadArray([], __read(args), false), x, y, width, height);
                    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$utils$2f$isMatrix$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isMatrix"])(transformer)) {
                        // 如果当前变换是矩阵变换，那么先保存下来
                        matrixes.push(transformer);
                    } else {
                        // 如果当前变换是函数变换，并且之前有没有合成的矩阵变换，那么现将之前的矩阵变换合成
                        if (matrixes.length) {
                            var transform_1 = this.createMatrixTransform(matrixes, invert);
                            add(transform_1);
                            matrixes.splice(0, matrixes.length);
                        }
                        var transform = getter(transformer) || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$util$2f$esm$2f$identity$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__identity$3e$__["identity"];
                        add(transform, name_1 !== 'parallel'); // 对于非平行坐标系的变换需要扩展
                    }
                }
            }
        } catch (e_1_1) {
            e_1 = {
                error: e_1_1
            };
        } finally{
            try {
                if (transformations_1_1 && !transformations_1_1.done && (_a = transformations_1.return)) _a.call(transformations_1);
            } finally{
                if (e_1) throw e_1.error;
            }
        }
        // 合成剩下的矩阵变换
        if (matrixes.length) {
            var transform = this.createMatrixTransform(matrixes, invert);
            add(transform);
        }
        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$utils$2f$compose$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["compose"].apply(void 0, __spreadArray([], __read(transforms), false));
    };
    // 将连续的矩阵的运算合成一个变换函数
    Coordinate.prototype.createMatrixTransform = function(matrixes, invert) {
        var matrix = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat3$3e$__["mat3"].create();
        if (invert) matrixes.reverse();
        matrixes.forEach(function(m) {
            return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat3$3e$__["mat3"].mul(matrix, matrix, m);
        });
        if (invert) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat3$3e$__["mat3"].invert(matrix, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat3$3e$__["mat3"].clone(matrix));
        }
        return function(vector) {
            var vector3 = [
                vector[0],
                vector[1],
                1
            ];
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec3$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec3$3e$__["vec3"].transformMat3(vector3, vector3, matrix);
            return [
                vector3[0],
                vector3[1]
            ];
        };
    };
    return Coordinate;
}();
;
 //# sourceMappingURL=coordinate.js.map
}}),
"[project]/node_modules/@antv/coord/esm/coordinate3D.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "Coordinate3D": (()=>Coordinate3D)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$util$2f$esm$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/@antv/coord/node_modules/@antv/util/esm/index.js [app-ssr] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$utils$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/utils/index.js [app-ssr] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/index.js [app-ssr] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$util$2f$esm$2f$deep$2d$mix$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__deepMix$3e$__ = __turbopack_import__("[project]/node_modules/@antv/coord/node_modules/@antv/util/esm/deep-mix.js [app-ssr] (ecmascript) <export default as deepMix>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$utils$2f$extend$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/utils/extend.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$utils$2f$isMatrix$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/utils/isMatrix.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$util$2f$esm$2f$identity$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__identity$3e$__ = __turbopack_import__("[project]/node_modules/@antv/coord/node_modules/@antv/util/esm/identity.js [app-ssr] (ecmascript) <export default as identity>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$utils$2f$compose$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/utils/compose.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__ = __turbopack_import__("[project]/node_modules/gl-matrix/esm/mat4.js [app-ssr] (ecmascript) <export * as mat4>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec4$3e$__ = __turbopack_import__("[project]/node_modules/gl-matrix/esm/vec4.js [app-ssr] (ecmascript) <export * as vec4>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$cartesian3D$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/cartesian3D.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$translate3D$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/translate3D.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$scale3D$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/scale3D.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$transpose3D$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/transforms/transpose3D.js [app-ssr] (ecmascript)");
var __read = this && this.__read || function(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);
    } catch (error) {
        e = {
            error: error
        };
    } finally{
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        } finally{
            if (e) throw e.error;
        }
    }
    return ar;
};
var __spreadArray = this && this.__spreadArray || function(to, from, pack) {
    if (pack || arguments.length === 2) for(var i = 0, l = from.length, ar; i < l; i++){
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
};
var __values = this && this.__values || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function() {
            if (o && i >= o.length) o = void 0;
            return {
                value: o && o[i++],
                done: !o
            };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
;
;
;
;
var Coordinate3D = function() {
    /**
     * Create a new Coordinate Object.
     * @param options Custom options
     */ function Coordinate3D(options) {
        // 当前的选项
        this.options = {
            x: 0,
            y: 0,
            z: 0,
            width: 300,
            height: 150,
            depth: 150,
            transformations: []
        };
        // 当前可以使用的变换
        this.transformers = {
            cartesian3D: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$cartesian3D$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cartesian3D"],
            translate3D: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$translate3D$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["translate3D"],
            scale3D: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$scale3D$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["scale3D"],
            transpose3D: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$transforms$2f$transpose3D$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["transpose3D"]
        };
        this.update(options);
    }
    /**
     * Update options and inner state.
     * @param options Options to be updated
     */ Coordinate3D.prototype.update = function(options) {
        this.options = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$util$2f$esm$2f$deep$2d$mix$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__deepMix$3e$__["deepMix"])({}, this.options, options);
        this.recoordinate();
    };
    /**
     * Returns a new Coordinate with same options.
     * @returns Coordinate
     */ Coordinate3D.prototype.clone = function() {
        return new Coordinate3D(this.options);
    };
    /**
     * Returns current options.
     * @returns options
     */ Coordinate3D.prototype.getOptions = function() {
        return this.options;
    };
    /**
     * Clear transformations and update.
     */ Coordinate3D.prototype.clear = function() {
        this.update({
            transformations: []
        });
    };
    /**
     * Returns the size of the bounding box of the coordinate.
     * @returns [width, height, depth]
     */ Coordinate3D.prototype.getSize = function() {
        var _a = this.options, width = _a.width, height = _a.height, depth = _a.depth;
        return [
            width,
            height,
            depth
        ];
    };
    /**
     * Returns the center of the bounding box of the coordinate.
     * @returns [centerX, centerY, centerZ]
     */ Coordinate3D.prototype.getCenter = function() {
        var _a = this.options, x = _a.x, y = _a.y, z = _a.z, width = _a.width, height = _a.height, depth = _a.depth;
        return [
            (x * 2 + width) / 2,
            (y * 2 + height) / 2,
            (z * 2 + depth) / 2
        ];
    };
    /**
     * Add selected transformation.
     * @param args transform type and params
     * @returns Coordinate
     */ Coordinate3D.prototype.transform = function() {
        var args = [];
        for(var _i = 0; _i < arguments.length; _i++){
            args[_i] = arguments[_i];
        }
        var transformations = this.options.transformations;
        this.update({
            transformations: __spreadArray(__spreadArray([], __read(transformations), false), [
                __spreadArray([], __read(args), false)
            ], false)
        });
        return this;
    };
    /**
     * Apples transformations for the current vector.
     * @param vector original vector3
     * @returns transformed vector3
     */ Coordinate3D.prototype.map = function(vector) {
        return this.output(vector);
    };
    /**
     * Apples invert transformations for the current vector.
     * @param vector transformed vector3
     * @param vector original vector3
     */ Coordinate3D.prototype.invert = function(vector) {
        return this.input(vector);
    };
    Coordinate3D.prototype.recoordinate = function() {
        this.output = this.compose();
        this.input = this.compose(true);
    };
    // 将所有的变换合成一个函数
    // 变换有两种类型：矩阵变换和函数变换
    // 处理过程中需要把连续的矩阵变换合成一个变换函数，然后在和其他变换函数合成最终的变换函数
    Coordinate3D.prototype.compose = function(invert) {
        var e_1, _a;
        if (invert === void 0) {
            invert = false;
        }
        var transformations = invert ? __spreadArray([], __read(this.options.transformations), false).reverse() : this.options.transformations;
        var getter = invert ? function(d) {
            return d.untransform;
        } : function(d) {
            return d.transform;
        };
        var matrixes = [];
        var transforms = [];
        var add = function(transform, extended) {
            if (extended === void 0) {
                extended = true;
            }
            return transforms.push(extended ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$utils$2f$extend$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["extend3D"])(transform) : transform);
        };
        try {
            for(var transformations_1 = __values(transformations), transformations_1_1 = transformations_1.next(); !transformations_1_1.done; transformations_1_1 = transformations_1.next()){
                var _b = __read(transformations_1_1.value), name_1 = _b[0], args = _b.slice(1);
                var createTransformer = this.transformers[name_1];
                if (createTransformer) {
                    var _c = this.options, x = _c.x, y = _c.y, z = _c.z, width = _c.width, height = _c.height, depth = _c.depth;
                    var transformer = createTransformer(__spreadArray([], __read(args), false), x, y, z, width, height, depth);
                    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$utils$2f$isMatrix$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isMatrix"])(transformer)) {
                        // 如果当前变换是矩阵变换，那么先保存下来
                        matrixes.push(transformer);
                    } else {
                        // 如果当前变换是函数变换，并且之前有没有合成的矩阵变换，那么现将之前的矩阵变换合成
                        if (matrixes.length) {
                            var transform_1 = this.createMatrixTransform(matrixes, invert);
                            add(transform_1);
                            matrixes.splice(0, matrixes.length);
                        }
                        var transform = getter(transformer) || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$node_modules$2f40$antv$2f$util$2f$esm$2f$identity$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__identity$3e$__["identity"];
                        add(transform, true);
                    }
                }
            }
        } catch (e_1_1) {
            e_1 = {
                error: e_1_1
            };
        } finally{
            try {
                if (transformations_1_1 && !transformations_1_1.done && (_a = transformations_1.return)) _a.call(transformations_1);
            } finally{
                if (e_1) throw e_1.error;
            }
        }
        // 合成剩下的矩阵变换
        if (matrixes.length) {
            var transform = this.createMatrixTransform(matrixes, invert);
            add(transform);
        }
        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$utils$2f$compose$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["compose"].apply(void 0, __spreadArray([], __read(transforms), false));
    };
    // 将连续的矩阵的运算合成一个变换函数
    Coordinate3D.prototype.createMatrixTransform = function(matrixes, invert) {
        var matrix = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].create();
        if (invert) matrixes.reverse();
        matrixes.forEach(function(m) {
            return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].mul(matrix, matrix, m);
        });
        if (invert) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].invert(matrix, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$mat4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__mat4$3e$__["mat4"].clone(matrix));
        }
        return function(vector) {
            var vector4 = [
                vector[0],
                vector[1],
                vector[2],
                1
            ];
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$gl$2d$matrix$2f$esm$2f$vec4$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__vec4$3e$__["vec4"].transformMat4(vector4, vector4, matrix);
            return [
                vector4[0],
                vector4[1],
                vector4[2]
            ];
        };
    };
    return Coordinate3D;
}();
;
 //# sourceMappingURL=coordinate3D.js.map
}}),
"[project]/node_modules/@antv/coord/esm/index.js [app-ssr] (ecmascript) <locals>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({});
;
;
 //# sourceMappingURL=index.js.map
}}),
"[project]/node_modules/@antv/coord/esm/index.js [app-ssr] (ecmascript) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_esm__({});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$coordinate$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/coordinate.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$coordinate3D$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/coordinate3D.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$antv$2f$coord$2f$esm$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/@antv/coord/esm/index.js [app-ssr] (ecmascript) <locals>");
}}),

};

//# sourceMappingURL=node_modules_%40antv_5f2d06._.js.map