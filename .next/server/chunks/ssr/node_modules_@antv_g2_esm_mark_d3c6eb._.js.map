{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"file":"utils.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/utils.ts"],"sourcesContent":["import { Band } from '@antv/scale';\nimport { Primitive } from '@antv/vendor/d3-array';\nimport { Vector2 } from '@antv/coord';\nimport { Scale } from '../runtime/types/component';\nimport { Channel } from '../runtime';\nimport { MaybeKey, MaybeTitle, MaybeTooltip } from '../transform';\n\nexport type ChannelOptions = {\n  shapes?: (string | { (...args: any[]); props?: Record<string, any> })[];\n};\n\nexport function baseChannels(options: ChannelOptions = {}): Channel[] {\n  const { shapes } = options;\n  return [\n    { name: 'color' },\n    { name: 'opacity' },\n    { name: 'shape', range: shapes },\n    { name: 'enterType' },\n    { name: 'enterDelay', scaleKey: 'enter' },\n    { name: 'enterDuration', scaleKey: 'enter' },\n    { name: 'enterEasing' },\n    { name: 'key', scale: 'identity' },\n    { name: 'groupKey', scale: 'identity' },\n    { name: 'label', scale: 'identity' },\n  ];\n}\n\nexport function baseGeometryChannels(options: ChannelOptions = {}): Channel[] {\n  return [...baseChannels(options), { name: 'title', scale: 'identity' }];\n}\n\nexport function tooltip3d() {\n  return [\n    { type: MaybeTitle, channel: 'color' },\n    { type: MaybeTooltip, channel: ['x', 'y', 'z'] },\n  ];\n}\n\nexport function tooltip2d() {\n  return [\n    { type: MaybeTitle, channel: 'color' },\n    { type: MaybeTooltip, channel: ['x', 'y'] },\n  ];\n}\n\nexport function tooltip1d() {\n  return [\n    { type: MaybeTitle, channel: 'x' },\n    { type: MaybeTooltip, channel: ['y'] },\n  ];\n}\n\nexport function tooltipXd() {\n  return [\n    { type: MaybeTitle, channel: 'color' },\n    { type: MaybeTooltip, channel: ['position'] },\n  ];\n}\n\nexport function baseAnnotationChannels(\n  options: ChannelOptions = {},\n): Channel[] {\n  return baseChannels(options);\n}\n\nexport function basePreInference() {\n  return [{ type: MaybeKey }];\n}\n\nexport function basePostInference() {\n  return [];\n}\n\nexport function bandWidth(scale: Band, x: any): number {\n  return scale.getBandWidth(scale.invert(x));\n}\n\nexport function createBandOffset(\n  scale: Record<string, Scale>,\n  value: Record<string, Primitive[]>,\n  options: Record<string, any> = {},\n): (d: [number, number], i?: number) => [number, number] {\n  const { x: X, y: Y, series: S } = value;\n  const { x, y, series } = scale;\n  const {\n    style: {\n      bandOffset = series ? 0 : 0.5,\n      bandOffsetX = bandOffset,\n      bandOffsetY = bandOffset,\n    } = {},\n  } = options;\n  const isBandX = !!x?.getBandWidth;\n  const isBandY = !!y?.getBandWidth;\n  const isSeries = !!series?.getBandWidth;\n  if (!isBandX && !isBandY) return (d) => d;\n  return (d, i) => {\n    const widthX = isBandX ? bandWidth(x as Band, X[i]) : 0;\n    const widthY = isBandY ? bandWidth(y as Band, Y[i]) : 0;\n    const f = () => (bandWidth(series as Band, S[i]) / 2 + +S[i]) * widthX;\n    const offset = isSeries && S ? f() : 0;\n    const [x0, y0] = d;\n    return [x0 + bandOffsetX * widthX + offset, y0 + bandOffsetY * widthY];\n  };\n}\n\nexport function p(d) {\n  return parseFloat(d) / 100;\n}\n\nexport function visualMark(index: number[], scale, value, coordinate) {\n  const { x: X, y: Y } = value;\n  const { innerWidth, innerHeight } = coordinate.getOptions();\n  const P: Vector2[][] = Array.from(index, (i) => {\n    const x0 = X[i];\n    const y0 = Y[i];\n    const x = typeof x0 === 'string' ? p(x0) * innerWidth : +x0;\n    const y = typeof y0 === 'string' ? p(y0) * innerHeight : +y0;\n    return [[x, y]];\n  });\n  return [index, P];\n}\n\ntype Encode = 'string' | ((d: any) => any);\n\nexport function field(encode: Encode): (d: any) => any {\n  return typeof encode === 'function' ? encode : (d) => d[encode];\n}\n\nexport function valueof(data: Record<string, any>[], encode: Encode): any[] {\n  return Array.from(data, field(encode));\n}\n\n/**\n * Normalizes data input for graph charts (sankey, chord, forceGraph) to ensure consistent format\n * Supports both array input (like other charts) and object input (original format)\n *\n * @param data - Input data, can be array or object with links/nodes properties\n * @returns Normalized data object with links and optional nodes properties\n */\nfunction normalizeGraphData(data: any): { links: any[]; nodes?: any[] } {\n  // Handle array input - convert to { links: data } format\n  if (Array.isArray(data)) {\n    return { links: data };\n  }\n\n  // Handle object input - return as is (original format)\n  if (data && typeof data === 'object') {\n    return {\n      links: data.links || [],\n      nodes: data.nodes,\n    };\n  }\n\n  // Handle null/undefined and unexpected input types\n  return { links: [] };\n}\n\nexport function initializeData(\n  data: { nodes?: any[]; links: any[] },\n  encode: Record<string, Encode>,\n): {\n  links: { target: string; source: string; value: any }[];\n  nodes: { key: string }[];\n} {\n  const normalizedData = normalizeGraphData(data);\n  const {\n    source = (d) => d.source,\n    target = (d) => d.target,\n    value = (d) => d.value,\n  } = encode;\n\n  const { links, nodes } = normalizedData;\n\n  // Early return for empty links\n  if (!links.length) {\n    return {\n      links: [],\n      nodes: nodes || [],\n    };\n  }\n\n  const LS = valueof(links, source);\n  const LT = valueof(links, target);\n  const LV = valueof(links, value);\n\n  return {\n    links: links.map((_, i) => ({\n      target: LT[i],\n      source: LS[i],\n      value: LV[i],\n    })),\n    nodes: nodes || Array.from(new Set([...LS, ...LT]), (key) => ({ key })),\n  };\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 256, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 262, "column": 0}, "map": {"version":3,"file":"forceGraph.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/forceGraph.ts"],"sourcesContent":["import {\n  forceSimulation,\n  forceManyBody,\n  forceLink,\n  forceX,\n  forceY,\n  forceCenter,\n} from '@antv/vendor/d3-force';\nimport { deepMix } from '@antv/util';\nimport { subObject } from '../utils/helper';\nimport { CompositeMarkComponent as CC } from '../runtime';\nimport { ForceGraphMark } from '../spec';\nimport { maybeAnimation, subTooltip } from '../utils/mark';\nimport { field, initializeData } from './utils';\n\ntype ForceLayout = {\n  /** Connect all nodes. */\n  joint?: boolean;\n  /** Gravity coefficient between nodes. */\n  nodeStrength?: number | ((d: any) => number);\n  /** Gravity coefficient between links. */\n  linkStrength?: number | ((d: any) => number);\n};\n\nconst DEFAULT_LAYOUT_OPTIONS: ForceLayout = {\n  joint: true,\n};\n\nconst DEFAULT_LINK_OPTIONS = {\n  type: 'link',\n  axis: false,\n  legend: false,\n  encode: {\n    x: [(d) => d.source.x, (d) => d.target.x],\n    y: [(d) => d.source.y, (d) => d.target.y],\n  },\n  style: {\n    stroke: '#999',\n    strokeOpacity: 0.6,\n  },\n};\n\nconst DEFAULT_NODE_OPTIONS = {\n  type: 'point',\n  axis: false,\n  legend: false,\n  encode: {\n    x: 'x',\n    y: 'y',\n    size: 5,\n    color: 'group',\n    shape: 'point',\n  },\n  style: {\n    stroke: '#fff',\n  },\n};\nconst DEFAULT_LABEL_OPTIONS = {\n  text: '',\n};\n\nfunction dataTransform(data, layout, encode) {\n  const { nodes, links } = data;\n  const { joint, nodeStrength, linkStrength } = layout;\n  const { nodeKey = (d) => d.id, linkKey = (d) => d.id } = encode;\n  const nodeForce = forceManyBody();\n  const linkForce = forceLink(links).id(field(linkKey));\n  typeof nodeStrength === 'function' && nodeForce.strength(nodeStrength);\n  typeof linkStrength === 'function' && linkForce.strength(linkStrength);\n  const simulation = forceSimulation(nodes)\n    .force('link', linkForce)\n    .force('charge', nodeForce);\n  joint\n    ? simulation.force('center', forceCenter())\n    : simulation.force('x', forceX()).force('y', forceY());\n  simulation.stop();\n  const n = Math.ceil(\n    Math.log(simulation.alphaMin()) / Math.log(1 - simulation.alphaDecay()),\n  );\n  for (let i = 0; i < n; i++) simulation.tick();\n  return {\n    nodesData: nodes,\n    linksData: links,\n  };\n}\n\nexport type ForceGraphOptions = Omit<ForceGraphMark, 'type'>;\n\nexport const ForceGraph: CC<ForceGraphOptions> = (options) => {\n  const {\n    data,\n    encode: e = {},\n    scale,\n    style = {},\n    layout = {},\n    nodeLabels = [],\n    linkLabels = [],\n    animate = {},\n    tooltip = {},\n  } = options;\n  const { nodeKey = (d) => d.id, linkKey = (d) => d.id, ...restEncode } = e;\n  const encode = { nodeKey, linkKey, ...restEncode };\n  const nodeEncode = subObject(encode, 'node');\n  const linkEncode = subObject(encode, 'link');\n  const { links, nodes } = initializeData(data, encode);\n  const { nodesData, linksData } = dataTransform(\n    { links, nodes },\n    deepMix({}, DEFAULT_LAYOUT_OPTIONS, layout),\n    encode,\n  );\n  const linkTooltip = subTooltip(tooltip, 'link', {\n    items: [\n      (d) => ({ name: 'source', value: field(linkKey)(d.source) }),\n      (d) => ({ name: 'target', value: field(linkKey)(d.target) }),\n    ],\n  });\n  const nodeTooltip = subTooltip(\n    tooltip,\n    'node',\n    {\n      items: [(d) => ({ name: 'key', value: field(nodeKey)(d) })],\n    },\n    true,\n  );\n  return [\n    deepMix({}, DEFAULT_LINK_OPTIONS, {\n      data: linksData,\n      encode: linkEncode,\n      labels: linkLabels,\n      style: subObject(style, 'link'),\n      tooltip: linkTooltip,\n      animate: maybeAnimation(animate, 'link'),\n    }),\n    deepMix({}, DEFAULT_NODE_OPTIONS, {\n      data: nodesData,\n      encode: { ...nodeEncode },\n      scale,\n      style: subObject(style, 'node'),\n      tooltip: nodeTooltip,\n      labels: [\n        { ...DEFAULT_LABEL_OPTIONS, ...subObject(style, 'label') },\n        ...nodeLabels,\n      ],\n      animate: maybeAnimation(animate, 'link'),\n    }),\n  ];\n};\n\nForceGraph.props = {};\n"],"names":[],"mappings":";;;AAAA,OAAO,EACL,eAAe,EACf,aAAa,EACb,SAAS,EACT,MAAM,EACN,MAAM,EACN,WAAW,GACZ,MAAM,uBAAuB,CAAC;AAE/B,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAI5C,OAAO,EAAE,KAAK,EAAE,cAAc,EAAE,MAAM,SAAS,CAAC;AALhD,OAAO,EAAE,OAAO,EAAE,MAAM,YAAY,CAAC;AAIrC,OAAO,EAAE,cAAc,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;;;;;;;;;;;;;;;;;;;;AAY3D,MAAM,sBAAsB,GAAgB;IAC1C,KAAK,EAAE,IAAI;CACZ,CAAC;AAEF,MAAM,oBAAoB,GAAG;IAC3B,IAAI,EAAE,MAAM;IACZ,IAAI,EAAE,KAAK;IACX,MAAM,EAAE,KAAK;IACb,MAAM,EAAE;QACN,CAAC,EAAE;YAAC,CAAC,CAAC,EAAE,CAAG,CAAC,AAAF,CAAG,MAAM,CAAC,CAAC;YAAE,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,MAAM,CAAC,CAAC;SAAC;QACzC,CAAC,EAAE;YAAC,CAAC,CAAC,EAAE,CAAG,CAAC,AAAF,CAAG,MAAM,CAAC,CAAC;YAAE,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,MAAM,CAAC,CAAC;SAAC;KAC1C;IACD,KAAK,EAAE;QACL,MAAM,EAAE,MAAM;QACd,aAAa,EAAE,GAAG;KACnB;CACF,CAAC;AAEF,MAAM,oBAAoB,GAAG;IAC3B,IAAI,EAAE,OAAO;IACb,IAAI,EAAE,KAAK;IACX,MAAM,EAAE,KAAK;IACb,MAAM,EAAE;QACN,CAAC,EAAE,GAAG;QACN,CAAC,EAAE,GAAG;QACN,IAAI,EAAE,CAAC;QACP,KAAK,EAAE,OAAO;QACd,KAAK,EAAE,OAAO;KACf;IACD,KAAK,EAAE;QACL,MAAM,EAAE,MAAM;KACf;CACF,CAAC;AACF,MAAM,qBAAqB,GAAG;IAC5B,IAAI,EAAE,EAAE;CACT,CAAC;AAEF,SAAS,aAAa,CAAC,IAAI,EAAE,MAAM,EAAE,MAAM;IACzC,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC;IAC9B,MAAM,EAAE,KAAK,EAAE,YAAY,EAAE,YAAY,EAAE,GAAG,MAAM,CAAC;IACrD,MAAM,EAAE,OAAO,GAAG,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,EAAE,EAAE,OAAO,GAAG,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,EAAE,EAAE,GAAG,MAAM,CAAC;IAChE,MAAM,SAAS,iMAAG,iBAAA,AAAa,EAAE,CAAC;IAClC,MAAM,SAAS,0LAAG,YAAA,AAAS,EAAC,KAAK,CAAC,CAAC,EAAE,0JAAC,QAAA,AAAK,EAAC,OAAO,CAAC,CAAC,CAAC;IACtD,OAAO,YAAY,KAAK,UAAU,IAAI,SAAS,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;IACvE,OAAO,YAAY,KAAK,UAAU,IAAI,SAAS,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;IACvE,MAAM,UAAU,sMAAG,kBAAA,AAAe,EAAC,KAAK,CAAC,CACtC,KAAK,CAAC,MAAM,EAAE,SAAS,CAAC,CACxB,KAAK,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;IAC9B,KAAK,GACD,UAAU,CAAC,KAAK,CAAC,QAAQ,6LAAE,cAAA,AAAW,EAAE,CAAC,IACzC,UAAU,CAAC,KAAK,CAAC,GAAG,mLAAE,SAAM,AAAN,EAAQ,CAAC,EAAC,KAAK,CAAC,GAAG,mLAAE,SAAA,AAAM,EAAE,CAAC,CAAC;IACzD,UAAU,CAAC,IAAI,EAAE,CAAC;IAClB,MAAM,CAAC,GAAG,IAAI,CAAC,IAAI,CACjB,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,UAAU,CAAC,UAAU,EAAE,CAAC,CACxE,CAAC;IACF,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAE,UAAU,CAAC,IAAI,EAAE,CAAC;IAC9C,OAAO;QACL,SAAS,EAAE,KAAK;QAChB,SAAS,EAAE,KAAK;KACjB,CAAC;AACJ,CAAC;AAIM,MAAM,UAAU,GAA0B,CAAC,OAAO,EAAE,EAAE;IAC3D,MAAM,EACJ,IAAI,EACJ,MAAM,EAAE,CAAC,GAAG,CAAA,CAAE,EACd,KAAK,EACL,KAAK,GAAG,CAAA,CAAE,EACV,MAAM,GAAG,CAAA,CAAE,EACX,UAAU,GAAG,EAAE,EACf,UAAU,GAAG,EAAE,EACf,OAAO,GAAG,CAAA,CAAE,EACZ,OAAO,GAAG,CAAA,CAAE,EACb,GAAG,OAAO,CAAC;IACZ,MAAM,EAAE,OAAO,GAAG,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,EAAE,EAAE,OAAO,GAAG,CAAC,CAAC,EAAE,CAAG,CAAC,AAAF,CAAG,EAAE,EAAA,GAAoB,CAAC,EAAhB,UAAU,GAAA,OAAK,CAAC,EAAnE;QAAA;QAAA;KAA+D,CAAI,CAAC;IAC1E,MAAM,MAAM,GAAA,OAAA,MAAA,CAAA;QAAK,OAAO;QAAE,OAAO;IAAA,GAAK,UAAU,CAAE,CAAC;IACnD,MAAM,UAAU,GAAG,uKAAA,AAAS,EAAC,MAAM,EAAE,MAAM,CAAC,CAAC;IAC7C,MAAM,UAAU,8JAAG,YAAA,AAAS,EAAC,MAAM,EAAE,MAAM,CAAC,CAAC;IAC7C,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,4JAAG,iBAAA,AAAc,EAAC,IAAI,EAAE,MAAM,CAAC,CAAC;IACtD,MAAM,EAAE,SAAS,EAAE,SAAS,EAAE,GAAG,aAAa,CAC5C;QAAE,KAAK;QAAE,KAAK;IAAA,CAAE,EAChB,mNAAA,AAAO,EAAC,CAAA,CAAE,EAAE,sBAAsB,EAAE,MAAM,CAAC,EAC3C,MAAM,CACP,CAAC;IACF,MAAM,WAAW,4JAAG,aAAA,AAAU,EAAC,OAAO,EAAE,MAAM,EAAE;QAC9C,KAAK,EAAE;YACL,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE;oBAAE,IAAI,EAAE,QAAQ;oBAAE,KAAK,2JAAE,QAAA,AAAK,EAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;gBAAA,CAAE,CAAC;YAC5D,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE;oBAAE,IAAI,EAAE,QAAQ;oBAAE,KAAK,GAAE,gKAAK,AAAL,EAAM,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;gBAAA,CAAE,CAAC;SAC7D;KACF,CAAC,CAAC;IACH,MAAM,WAAW,4JAAG,aAAU,AAAV,EAClB,OAAO,EACP,MAAM,EACN;QACE,KAAK,EAAE;YAAC,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE;oBAAE,IAAI,EAAE,KAAK;oBAAE,KAAK,2JAAE,QAAA,AAAK,EAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gBAAA,CAAE,CAAC;SAAC;KAC5D,EACD,IAAI,CACL,CAAC;IACF,OAAO;iNACL,UAAA,AAAO,EAAC,CAAA,CAAE,EAAE,oBAAoB,EAAE;YAChC,IAAI,EAAE,SAAS;YACf,MAAM,EAAE,UAAU;YAClB,MAAM,EAAE,UAAU;YAClB,KAAK,EAAE,uKAAA,AAAS,EAAC,KAAK,EAAE,MAAM,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,OAAO,GAAE,yKAAA,AAAc,EAAC,OAAO,EAAE,MAAM,CAAC;SACzC,CAAC;iNACF,UAAO,AAAP,EAAQ,CAAA,CAAE,EAAE,oBAAoB,EAAE;YAChC,IAAI,EAAE,SAAS;YACf,MAAM,EAAA,OAAA,MAAA,CAAA,CAAA,GAAO,UAAU,CAAE;YACzB,KAAK;YACL,KAAK,6JAAE,YAAA,AAAS,EAAC,KAAK,EAAE,MAAM,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,MAAM,EAAE;gDACD,qBAAqB,8JAAK,YAAA,AAAS,EAAC,KAAK,EAAE,OAAO,CAAC;mBACrD,UAAU;aACd;YACD,OAAO,2JAAE,iBAAA,AAAc,EAAC,OAAO,EAAE,MAAM,CAAC;SACzC,CAAC;KACH,CAAC;AACJ,CAAC,CAAC;AAEF,UAAU,CAAC,KAAK,GAAG,CAAA,CAAE,CAAC","ignoreList":[0]}},
    {"offset": {"line": 408, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 414, "column": 0}, "map": {"version":3,"file":"tree.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/tree.ts"],"sourcesContent":["import { deepMix } from '@antv/util';\nimport { subObject } from '../utils/helper';\nimport { CompositeMarkComponent as CC } from '../runtime';\nimport { TreeMark } from '../spec';\nimport {\n  Tree as TreeTransform,\n  TreeOptions as TreeTransformOptions,\n} from '../data/tree';\nimport { maybeAnimation, subTooltip } from '../utils/mark';\n\nconst DEFAULT_LAYOUT_OPTIONS: TreeTransformOptions = {\n  sortBy: (a, b) => b.value - a.value,\n};\n\nconst DEFAULT_NODE_OPTIONS = {\n  axis: false,\n  legend: false,\n  type: 'point',\n  encode: {\n    x: 'x',\n    y: 'y',\n    size: 2,\n    shape: 'point',\n  },\n};\n\nconst DEFAULT_LINK_OPTIONS = {\n  type: 'link',\n  encode: {\n    x: 'x',\n    y: 'y',\n    shape: 'smooth',\n  },\n};\n\nconst DEFAULT_LABEL_OPTIONS = {\n  text: '',\n  fontSize: 10,\n};\n\nexport type TreeOptions = Omit<TreeMark, 'type'>;\n\nexport const Tree: CC<TreeOptions> = (options) => {\n  const {\n    data,\n    encode = {},\n    scale = {},\n    style = {},\n    layout = {},\n    nodeLabels = [],\n    linkLabels = [],\n    animate = {},\n    tooltip = {},\n  } = options;\n  const valueEncode = encode?.value;\n  const { nodes, edges } = TreeTransform({\n    ...DEFAULT_LAYOUT_OPTIONS,\n    ...layout,\n    field: valueEncode,\n  })(data);\n\n  const nodeTooltip = subTooltip(\n    tooltip,\n    'node',\n    {\n      title: 'name',\n      items: ['value'],\n    },\n    true,\n  );\n\n  const linkTooltip = subTooltip(tooltip, 'link', {\n    title: '',\n    items: [\n      (d) => ({ name: 'source', value: d.source.name }),\n      (d) => ({ name: 'target', value: d.target.name }),\n    ],\n  });\n\n  return [\n    deepMix({}, DEFAULT_LINK_OPTIONS, {\n      data: edges,\n      encode: subObject(encode, 'link'),\n      scale: subObject(scale, 'link'),\n      labels: linkLabels,\n      style: { stroke: '#999', ...subObject(style, 'link') },\n      tooltip: linkTooltip,\n      animate: maybeAnimation(animate, 'link'),\n    }),\n    deepMix({}, DEFAULT_NODE_OPTIONS, {\n      data: nodes,\n      scale: subObject(scale, 'node'),\n      encode: subObject(encode, 'node'),\n      labels: [\n        {\n          ...DEFAULT_LABEL_OPTIONS,\n          ...subObject(style, 'label'),\n        },\n        ...nodeLabels,\n      ],\n      style: { ...subObject(style, 'node') },\n      tooltip: nodeTooltip,\n      animate: maybeAnimation(animate, 'node'),\n    }),\n  ];\n};\n\nTree.props = {};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 503, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 509, "column": 0}, "map": {"version":3,"file":"pack.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/pack.ts"],"sourcesContent":["import { deepMix, isArray } from '@antv/util';\nimport {\n  stratify,\n  hierarchy,\n  pack as packLayout,\n} from '@antv/vendor/d3-hierarchy';\nimport { CompositionComponent as CC } from '../runtime';\nimport { subObject } from '../utils/helper';\nimport { PackMark } from '../spec';\nimport { maybeTooltip } from '../utils/mark';\nimport { field } from './utils';\n\nconst GET_DEFAULT_LAYOUT_OPTIONS = (width, height) => ({\n  size: [width, height],\n  padding: 0,\n  sort: (a, b) => b.value - a.value,\n});\n\nconst GET_DEFAULT_OPTIONS = (width, height, encode) => ({\n  type: 'point',\n  axis: false,\n  legend: false,\n  scale: {\n    x: { domain: [0, width] },\n    y: { domain: [0, height] },\n    size: { type: 'identity' },\n  },\n  encode: {\n    x: 'x',\n    y: 'y',\n    size: 'r',\n    shape: 'point',\n  },\n  style: {\n    fill: !encode.color ? (d) => (d.height === 0 ? '#ddd' : '#fff') : undefined,\n    stroke: !encode.color ? (d) => (d.height === 0 ? '' : '#000') : undefined,\n  },\n});\n\nconst DEFAULT_LABEL_OPTIONS = {\n  text: '',\n  position: 'inside',\n  textOverflow: 'clip',\n  wordWrap: true,\n  maxLines: 1,\n  wordWrapWidth: (d) => d.r * 2,\n};\nconst DEFAULT_TOOLTIP_OPTIONS = {\n  title: (d) => d.data.name,\n  items: [{ field: 'value' }],\n};\n\ntype PackLayout = {\n  size?: [number, number];\n  padding?: number;\n  sort?(a: any, b: any): number;\n  // @todo\n  path?: any;\n};\n\nconst dataTransform = (data, layout: PackLayout, encode) => {\n  const { value } = encode;\n  const root = isArray(data)\n    ? stratify().path(layout.path)(data)\n    : hierarchy(data);\n  value ? root.sum((d) => field(value)(d)).sort(layout.sort) : root.count();\n  // @ts-ignore\n  packLayout().size(layout.size).padding(layout.padding)(root);\n  return root.descendants();\n};\n\nexport type PackOptions = Omit<PackMark, 'type'>;\n\nexport const Pack: CC<PackOptions> = (markOptions, context) => {\n  const { width, height } = context;\n\n  const {\n    data,\n    encode = {},\n    scale = {},\n    style = {},\n    layout = {},\n    labels = [],\n    tooltip = {},\n    ...resOptions\n  } = markOptions;\n\n  const DEFAULT_OPTIONS = GET_DEFAULT_OPTIONS(width, height, encode);\n\n  const transformedData = dataTransform(\n    data,\n    deepMix({}, GET_DEFAULT_LAYOUT_OPTIONS(width, height), layout),\n    deepMix({}, DEFAULT_OPTIONS['encode'], encode),\n  );\n\n  const labelStyle = subObject(style, 'label');\n\n  return deepMix({}, DEFAULT_OPTIONS, {\n    data: transformedData,\n    encode,\n    scale,\n    style,\n    labels: [\n      {\n        ...DEFAULT_LABEL_OPTIONS,\n        ...labelStyle,\n      },\n      ...labels,\n    ],\n    ...resOptions,\n    tooltip: maybeTooltip(tooltip, DEFAULT_TOOLTIP_OPTIONS),\n    axis: false,\n  });\n};\n\nPack.props = {};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 627, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 633, "column": 0}, "map": {"version":3,"file":"sankey.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/sankey.ts"],"sourcesContent":["import { deepMix } from '@antv/util';\nimport { CompositeMarkComponent as CC } from '../runtime';\nimport { SankeyMark } from '../spec';\nimport { Sankey as SankeyTransform } from '../data/sankey';\nimport { omitPrefixObject, subObject } from '../utils/helper';\nimport { subTooltip, maybeAnimation } from '../utils/mark';\nimport { field, initializeData } from './utils';\n\nconst DEFAULT_LAYOUT_OPTIONS = {\n  nodeId: (d) => d.key,\n  nodeWidth: 0.02,\n  nodePadding: 0.02,\n};\n\nconst DEFAULT_NODE_OPTIONS = {\n  type: 'polygon',\n  axis: false,\n  legend: false,\n  encode: {\n    shape: 'polygon',\n    x: 'x',\n    y: 'y',\n  },\n  scale: {\n    x: { type: 'identity' },\n    y: { type: 'identity' },\n  },\n  style: {\n    stroke: '#000',\n  },\n};\n\nconst DEFAULT_LINK_OPTIONS = {\n  type: 'polygon',\n  axis: false,\n  legend: false,\n  encode: {\n    shape: 'ribbon',\n    x: 'x',\n    y: 'y',\n  },\n  style: {\n    fillOpacity: 0.5,\n    stroke: undefined,\n  },\n};\n\nconst DEFAULT_LABEL_OPTIONS = {\n  textAlign: (d) => (d.x[0] < 0.5 ? 'start' : 'end'),\n  position: (d) => (d.x[0] < 0.5 ? 'right' : 'left'),\n  fontSize: 10,\n};\n\nexport type SankeyOptions = Omit<SankeyMark, 'type'>;\n\n/**\n * @todo Add interaction\n * @todo Add source-link color mode\n */\nexport const Sankey: CC<SankeyOptions> = (options) => {\n  const {\n    data,\n    encode = {},\n    scale,\n    style = {},\n    layout = {},\n    nodeLabels = [],\n    linkLabels = [],\n    animate = {},\n    tooltip = {},\n    interaction,\n    state = {},\n    viewStyle = {},\n  } = options;\n\n  // Initialize data, generating nodes by link if is not specified.\n  const { links, nodes } = initializeData(data, encode);\n\n  // Early check for empty data - return empty marks instead of processing\n  if (!links || links.length === 0) {\n    return [\n      // Empty node mark\n      deepMix({}, DEFAULT_NODE_OPTIONS, {\n        data: [],\n        encode: {},\n        scale,\n        style: subObject(style, 'node'),\n        viewStyle,\n        labels: [],\n        tooltip: false,\n        animate: false,\n        axis: false,\n        interaction,\n        state: {},\n      }),\n      // Empty link mark\n      deepMix({}, DEFAULT_LINK_OPTIONS, {\n        data: [],\n        encode: {},\n        labels: [],\n        style: subObject(style, 'link'),\n        tooltip: false,\n        animate: false,\n        interaction,\n        state: {},\n      }),\n    ];\n  }\n\n  // Extract encode for node and link.\n  const nodeEncode = subObject(encode, 'node');\n  const linkEncode = subObject(encode, 'link');\n  const { key: nodeKey = (d) => d.key, color = nodeKey } = nodeEncode;\n\n  // Transform data, using nodeKey as nodeId.\n  const { links: linkData, nodes: nodeData } = SankeyTransform({\n    ...DEFAULT_LAYOUT_OPTIONS,\n    nodeId: field(nodeKey),\n    ...layout,\n  })({ links, nodes });\n\n  // Extract label style and apply defaults.\n  const {\n    text = nodeKey,\n    spacing = 5,\n    ...labelStyle\n  } = subObject(style, 'label');\n\n  const key1 = field(nodeKey);\n\n  const nodeTooltip = subTooltip(\n    tooltip,\n    'node',\n    {\n      title: key1,\n      items: [{ field: 'value' }],\n    },\n    true,\n  );\n  const linkTooltip = subTooltip(tooltip, 'link', {\n    title: '',\n    items: [\n      (d) => ({ name: 'source', value: key1(d.source) }),\n      (d) => ({ name: 'target', value: key1(d.target) }),\n    ],\n  });\n  // Extract node and link state.\n  const [nodeState, linkState] = Object.entries(state).reduce(\n    (acc, [stateName, styleObj]) => {\n      const commonState = omitPrefixObject(styleObj, 'node', 'link');\n      const nodeState = subObject(styleObj, 'node');\n      acc[0][stateName] = { ...commonState, ...nodeState };\n      const linkState = subObject(styleObj, 'link');\n      acc[1][stateName] = { ...commonState, ...linkState };\n      return acc;\n    },\n    [{}, {}],\n  );\n  return [\n    deepMix({}, DEFAULT_NODE_OPTIONS, {\n      data: nodeData,\n      encode: { ...nodeEncode, color },\n      scale,\n      style: subObject(style, 'node'),\n      viewStyle,\n      labels: [\n        {\n          ...DEFAULT_LABEL_OPTIONS,\n          text,\n          dx: (d) => (d.x[0] < 0.5 ? spacing : -spacing),\n          ...labelStyle,\n        },\n        ...nodeLabels,\n      ],\n      tooltip: nodeTooltip,\n      animate: maybeAnimation(animate, 'node'),\n      axis: false,\n      interaction,\n      state: nodeState,\n    }),\n    deepMix({}, DEFAULT_LINK_OPTIONS, {\n      data: linkData,\n      encode: linkEncode,\n      labels: linkLabels,\n      style: {\n        fill: linkEncode.color ? undefined : '#aaa',\n        lineWidth: 0,\n        ...subObject(style, 'link'),\n      },\n      tooltip: linkTooltip,\n      animate: maybeAnimation(animate, 'link'),\n      interaction,\n      state: linkState,\n    }),\n  ];\n};\n\nSankey.props = {};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 821, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 827, "column": 0}, "map": {"version":3,"file":"chord.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/chord.ts"],"sourcesContent":["import { deepMix } from '@antv/util';\nimport { CompositeMarkComponent as CC, MarkOptions } from '../runtime';\nimport { ChordMark } from '../spec';\nimport { subObject } from '../utils/helper';\nimport { subTooltip, maybeAnimation } from '../utils/mark';\nimport { Arc } from '../data/arc';\nimport { ArcOptions } from '../data/utils/arc/types';\nimport { field, initializeData } from './utils';\n\nconst DEFAULT_LAYOUT_OPTIONS: ArcOptions = {\n  y: 0,\n  thickness: 0.05, // width of the node, (0, 1)\n  marginRatio: 0.1, // margin ratio, [0, 1)\n  id: (node) => node.key,\n  source: (edge) => edge.source,\n  target: (edge) => edge.target,\n  sourceWeight: (edge) => edge.value || 1,\n  targetWeight: (edge) => edge.value || 1,\n  sortBy: null, // optional, id | weight | frequency | {function}\n};\n\nconst DEFAULT_NODE_OPTIONS = {\n  type: 'polygon',\n  axis: false,\n  legend: false,\n  encode: {\n    shape: 'polygon',\n    x: 'x',\n    y: 'y',\n  },\n  scale: {\n    x: { type: 'identity' },\n    y: { type: 'identity' },\n  },\n  style: {\n    opacity: 1,\n    fillOpacity: 1,\n    lineWidth: 1,\n  },\n};\n\nconst DEFAULT_LINK_OPTIONS = {\n  type: 'polygon',\n  axis: false,\n  legend: false,\n  encode: {\n    shape: 'ribbon',\n    x: 'x',\n    y: 'y',\n  },\n  style: {\n    opacity: 0.5,\n    lineWidth: 1,\n  },\n};\n\nconst DEFAULT_LABEL_OPTIONS = {\n  position: 'outside',\n  fontSize: 10,\n};\n\nexport type ChordOptions = Omit<ChordMark, 'type'>;\n\nexport const Chord: CC<ChordOptions> = (options, context) => {\n  const {\n    data,\n    encode = {},\n    scale,\n    style = {},\n    layout = {},\n    nodeLabels = [],\n    linkLabels = [],\n    animate = {},\n    tooltip = {},\n  } = options;\n\n  // Initialize data, generating nodes by link if is not specified.\n  const { nodes, links } = initializeData(data, encode);\n\n  // Extract encode for node and link.\n  const nodeEncode = subObject(encode, 'node');\n  const linkEncode = subObject(encode, 'link');\n  const { key: nodeKey = (d) => d.key, color = nodeKey } = nodeEncode;\n  const { linkEncodeColor = (d) => d.source } = linkEncode;\n  const {\n    nodeWidthRatio = DEFAULT_LAYOUT_OPTIONS.thickness,\n    nodePaddingRatio = DEFAULT_LAYOUT_OPTIONS.marginRatio,\n    ...restLayout\n  } = layout;\n\n  const { nodes: nodeData, edges: linkData } = Arc({\n    ...DEFAULT_LAYOUT_OPTIONS,\n    id: field(nodeKey),\n    thickness: nodeWidthRatio,\n    marginRatio: nodePaddingRatio,\n    ...restLayout,\n    weight: true,\n  })({ nodes, edges: links });\n\n  // Extract label style and apply defaults.\n  const { text = nodeKey, ...labelStyle } = subObject(style, 'label');\n\n  const nodeTooltip = subTooltip(\n    tooltip,\n    'node',\n    {\n      title: '',\n      items: [(d) => ({ name: d.key, value: d.value })],\n    },\n    true,\n  );\n  const linkTooltip = subTooltip(tooltip, 'link', {\n    title: '',\n    items: [(d) => ({ name: `${d.source} -> ${d.target}`, value: d.value })],\n  });\n\n  const { height, width } = context;\n\n  const minimumLen = Math.min(height, width);\n\n  return [\n    deepMix({}, DEFAULT_LINK_OPTIONS, {\n      data: linkData,\n      encode: { ...linkEncode, color: linkEncodeColor },\n      labels: linkLabels,\n      style: {\n        fill: linkEncodeColor ? undefined : '#aaa',\n        ...subObject(style, 'link'),\n      },\n      tooltip: linkTooltip,\n      animate: maybeAnimation(animate, 'link'),\n    }),\n    deepMix({}, DEFAULT_NODE_OPTIONS, {\n      data: nodeData,\n      encode: { ...nodeEncode, color },\n      scale,\n      style: subObject(style, 'node'),\n      coordinate: {\n        type: 'polar',\n        // Leave enough rendering space for the label.\n        outerRadius: (minimumLen - 20) / minimumLen,\n        startAngle: -Math.PI * 2,\n        endAngle: 0,\n      },\n      labels: [\n        {\n          ...DEFAULT_LABEL_OPTIONS,\n          text,\n          ...labelStyle,\n        },\n        ...nodeLabels,\n      ],\n      tooltip: nodeTooltip,\n      animate: maybeAnimation(animate, 'node'),\n      axis: false,\n    }),\n  ] as MarkOptions[];\n};\n\nChord.props = {};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 987, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 993, "column": 0}, "map": {"version":3,"file":"treemap.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/treemap.ts"],"sourcesContent":["import { deepMix, get, last } from '@antv/util';\nimport { subObject } from '../utils/helper';\nimport { CompositionComponent as CC } from '../runtime';\nimport { TreemapMark } from '../spec';\nimport { maybeTooltip } from '../utils/mark';\nimport { treeDataTransform } from '../utils/treeDataTransform';\n\nexport type TreemapOptions = Omit<TreemapMark, 'type'>;\n\n// Defaults\nconst GET_DEFAULT_LAYOUT_OPTIONS = (width, height) => ({\n  tile: 'treemapSquarify',\n  ratio: 0.5 * (1 + Math.sqrt(5)),\n  size: [width, height],\n  round: false,\n  ignoreParentValue: true,\n  padding: 0,\n  paddingInner: 0,\n  paddingOuter: 0,\n  paddingTop: 0,\n  paddingRight: 0,\n  paddingBottom: 0,\n  paddingLeft: 0,\n  sort: (a, b) => b.value - a.value,\n  layer: 0,\n});\n\nconst GET_DEFAULT_OPTIONS = (width, height) => ({\n  type: 'rect',\n  axis: false,\n  encode: {\n    x: 'x',\n    y: 'y',\n    key: 'id',\n    color: (d) => d.path[1],\n  },\n  scale: {\n    x: { domain: [0, width], range: [0, 1] },\n    y: { domain: [0, height], range: [0, 1] },\n  },\n  style: {\n    stroke: '#fff',\n  },\n  state: {\n    active: { opacity: 0.6 },\n    inactive: { opacity: 1 },\n  },\n});\n\nconst DEFAULT_LABEL_OPTIONS = {\n  fontSize: 10,\n  text: (d) => last(d.path),\n  position: 'inside',\n  fill: '#000',\n  textOverflow: 'clip',\n  wordWrap: true,\n  maxLines: 1,\n  wordWrapWidth: (d) => d.x1 - d.x0,\n  isTreemapLabel: true,\n};\n\nconst DEFAULT_TOOLTIP_OPTIONS = {\n  title: (d) => d.path?.join?.('.'),\n  items: [{ field: 'value' }],\n};\n\nconst DEFAULT_TOOLTIP_OPTIONS_DRILL = {\n  title: (d) => last(d.path),\n  items: [{ field: 'value' }],\n};\n\nexport const Treemap: CC<TreemapOptions> = (options, context) => {\n  const { width, height, options: markOptions } = context;\n\n  const {\n    data,\n    encode = {},\n    scale,\n    style = {},\n    layout = {},\n    labels = [],\n    tooltip = {},\n    ...resOptions\n  } = options;\n\n  const treemapDrillDown =\n    get(markOptions, ['interaction', 'treemapDrillDown']) ||\n    get(markOptions, ['marks', 0, 'interaction', 'treemapDrillDown']);\n\n  // Layout\n  const layoutOptions = deepMix(\n    {},\n    GET_DEFAULT_LAYOUT_OPTIONS(width, height),\n    layout,\n    {\n      layer: treemapDrillDown\n        ? (d) => {\n            return d.depth === 1;\n          }\n        : layout.layer,\n    },\n  );\n\n  // Data\n  const [transformedData, transformedDataAll] = treeDataTransform(\n    data,\n    layoutOptions,\n    encode,\n  );\n\n  // Label\n  const labelStyle = subObject(style, 'label');\n\n  return deepMix(\n    {},\n    GET_DEFAULT_OPTIONS(width, height),\n    {\n      data: transformedData,\n      scale,\n      style,\n      labels: [\n        {\n          ...DEFAULT_LABEL_OPTIONS,\n          ...labelStyle,\n          ...(treemapDrillDown && { cursor: 'pointer' }),\n        },\n        ...labels,\n      ],\n      ...resOptions,\n      encode,\n      tooltip: maybeTooltip(tooltip, DEFAULT_TOOLTIP_OPTIONS),\n      axis: false,\n    },\n    treemapDrillDown\n      ? {\n          interaction: {\n            ...resOptions.interaction,\n            treemapDrillDown: treemapDrillDown\n              ? {\n                  ...treemapDrillDown,\n                  originData: transformedDataAll,\n                  layout: layoutOptions,\n                }\n              : undefined,\n          },\n          encode: {\n            color: (d) => last(d.path),\n            ...encode,\n          },\n          tooltip: maybeTooltip(tooltip, DEFAULT_TOOLTIP_OPTIONS_DRILL),\n        }\n      : {},\n  );\n};\n\nTreemap.props = {};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1165, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1171, "column": 0}, "map": {"version":3,"file":"boxplot.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/boxplot.ts"],"sourcesContent":["import {\n  min as d3Min,\n  max as d3Max,\n  quantile,\n  group,\n} from '@antv/vendor/d3-array';\nimport { CompositeMarkComponent as CC } from '../runtime';\nimport { BoxPlotMark } from '../spec';\nimport { subObject } from '../utils/helper';\nimport { maybeAnimation, subTooltip } from '../utils/mark';\n\nexport type BoxPlotOptions = Omit<BoxPlotMark, 'type'>;\n\nfunction min(I: number[], V: number[]): number {\n  return d3Min(I, (i) => V[i]);\n}\n\nfunction max(I: number[], V: number[]): number {\n  return d3Max(I, (i) => V[i]);\n}\n\nfunction lower(I: number[], V: number[]): number {\n  const lo = q1(I, V) * 2.5 - q3(I, V) * 1.5;\n  return d3Min(I, (i) => (V[i] >= lo ? V[i] : NaN));\n}\n\nfunction q1(I: number[], V: number[]): number {\n  return quantile(I, 0.25, (i) => V[i]);\n}\n\nfunction q2(I: number[], V: number[]): number {\n  return quantile(I, 0.5, (i) => V[i]);\n}\n\nfunction q3(I: number[], V: number[]): number {\n  return quantile(I, 0.75, (i) => V[i]);\n}\n\nfunction upper(I: number[], V: number[]): number {\n  const hi = q3(I, V) * 2.5 - q1(I, V) * 1.5;\n  return d3Max(I, (i) => (V[i] <= hi ? V[i] : NaN));\n}\n\n/**\n * Group marks by x and reserve outlier indexes.\n */\nfunction OutlierY() {\n  return (I: number[], mark) => {\n    const { encode } = mark;\n    const { y, x } = encode;\n    const { value: V } = y;\n    const { value: X } = x;\n    const GI = Array.from(group(I, (i) => X[+i]).values());\n    const FI = GI.flatMap((I) => {\n      const lo = lower(I, V);\n      const hi = upper(I, V);\n      return I.filter((i) => V[i] < lo || V[i] > hi);\n    });\n    return [FI, mark];\n  };\n}\n\nexport const Boxplot: CC<BoxPlotOptions> = (options) => {\n  const {\n    data,\n    encode,\n    style = {},\n    tooltip = {},\n    transform,\n    animate,\n    ...rest\n  } = options;\n  const { point = true, ...restStyle } = style;\n  const { y } = encode;\n  const encodeY = { y, y1: y, y2: y, y3: y, y4: y };\n  const qy = { y1: q1, y2: q2, y3: q3 };\n\n  // Tooltips.\n  const boxTooltip = subTooltip(\n    tooltip,\n    'box',\n    {\n      items: [\n        { channel: 'y', name: 'min' },\n        { channel: 'y1', name: 'q1' },\n        { channel: 'y2', name: 'q2' },\n        { channel: 'y3', name: 'q3' },\n        { channel: 'y4', name: 'max' },\n      ],\n    },\n    true,\n  );\n  const pointTooltip = subTooltip(tooltip, 'point', {\n    title: { channel: 'x' },\n    items: [{ name: 'outlier', channel: 'y' }],\n  });\n\n  // Only show min and max instead of lower and upper.\n  // Only draw a box.\n  if (!point) {\n    return {\n      type: 'box',\n      data: data,\n      transform: [\n        {\n          type: 'groupX',\n          y: min,\n          ...qy,\n          y4: max,\n        },\n      ],\n      encode: { ...encode, ...encodeY },\n      style: restStyle,\n      tooltip: boxTooltip,\n      ...rest,\n    };\n  }\n\n  const boxStyle = subObject(restStyle, 'box');\n  const pointStyle = subObject(restStyle, 'point');\n  return [\n    // Draw five-number box.\n    {\n      type: 'box',\n      data: data,\n      transform: [\n        {\n          type: 'groupX',\n          y: lower,\n          ...qy,\n          y4: upper,\n        },\n      ],\n      encode: { ...encode, ...encodeY },\n      style: boxStyle,\n      tooltip: boxTooltip,\n      animate: maybeAnimation(animate, 'box'),\n      ...rest,\n    },\n    // Draw outliers.\n    {\n      type: 'point',\n      data: data,\n      transform: [{ type: OutlierY }],\n      encode,\n      style: { ...pointStyle },\n      tooltip: pointTooltip,\n      animate: maybeAnimation(animate, 'point'),\n    },\n  ];\n};\n\nBoxplot.props = {};\n"],"names":[],"mappings":";;;AAAA,OAAO,EACL,GAAG,IAAI,KAAK,EACZ,GAAG,IAAI,KAAK,EACZ,QAAQ,EACR,KAAK,GACN,MAAM,uBAAuB,CAAC;AAI/B,OAAO,EAAE,cAAc,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAD3D,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;;;;;;;;;;;;;;;;AAK5C,SAAS,GAAG,CAAC,CAAW,EAAE,CAAW;IACnC,uLAAO,MAAA,AAAK,EAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AAC/B,CAAC;AAED,SAAS,GAAG,CAAC,CAAW,EAAE,CAAW;IACnC,uLAAO,MAAK,AAAL,EAAM,CAAC,EAAE,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AAC/B,CAAC;AAED,SAAS,KAAK,CAAC,CAAW,EAAE,CAAW;IACrC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC;IAC3C,uLAAO,MAAA,AAAK,EAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAI,CAAF,AAAG,CAAC,AAAH,CAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AACpD,CAAC;AAED,SAAS,EAAE,CAAC,CAAW,EAAE,CAAW;IAClC,OAAO,qMAAA,AAAQ,EAAC,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AACxC,CAAC;AAED,SAAS,EAAE,CAAC,CAAW,EAAE,CAAW;IAClC,QAAO,oMAAA,AAAQ,EAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AACvC,CAAC;AAED,SAAS,EAAE,CAAC,CAAW,EAAE,CAAW;IAClC,iMAAO,WAAA,AAAQ,EAAC,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AACxC,CAAC;AAED,SAAS,KAAK,CAAC,CAAW,EAAE,CAAW;IACrC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC;IAC3C,QAAO,qLAAA,AAAK,EAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAI,CAAF,AAAG,CAAF,AAAG,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AACpD,CAAC;AAED;;GAEG,CACH,SAAS,QAAQ;IACf,OAAO,CAAC,CAAW,EAAE,IAAI,EAAE,EAAE;QAC3B,MAAM,EAAE,MAAM,EAAE,GAAG,IAAI,CAAC;QACxB,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,MAAM,CAAC;QACxB,MAAM,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;QACvB,MAAM,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;QACvB,MAAM,EAAE,GAAG,KAAK,CAAC,IAAI,qLAAC,QAAA,AAAK,EAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC;QACvD,MAAM,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;YAC1B,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACvB,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACvB,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,CAAC,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;QACH,OAAO;YAAC,EAAE;YAAE,IAAI;SAAC,CAAC;IACpB,CAAC,CAAC;AACJ,CAAC;AAEM,MAAM,OAAO,GAAuB,CAAC,OAAO,EAAE,EAAE;IACrD,MAAM,EACJ,IAAI,EACJ,MAAM,EACN,KAAK,GAAG,CAAA,CAAE,EACV,OAAO,GAAG,CAAA,CAAE,EACZ,SAAS,EACT,OAAO,EAAA,GAEL,OAAO,EADN,IAAI,GAAA,OACL,OAAO,EARL;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;KAQL,CAAU,CAAC;IACZ,MAAM,EAAE,KAAK,GAAG,IAAI,EAAA,GAAmB,KAAK,EAAnB,SAAS,GAAA,OAAK,KAAK,EAAtC;QAAA;KAA8B,CAAQ,CAAC;IAC7C,MAAM,EAAE,CAAC,EAAE,GAAG,MAAM,CAAC;IACrB,MAAM,OAAO,GAAG;QAAE,CAAC;QAAE,EAAE,EAAE,CAAC;QAAE,EAAE,EAAE,CAAC;QAAE,EAAE,EAAE,CAAC;QAAE,EAAE,EAAE,CAAC;IAAA,CAAE,CAAC;IAClD,MAAM,EAAE,GAAG;QAAE,EAAE,EAAE,EAAE;QAAE,EAAE,EAAE,EAAE;QAAE,EAAE,EAAE,EAAE;IAAA,CAAE,CAAC;IAEtC,YAAY;IACZ,MAAM,UAAU,4JAAG,aAAU,AAAV,EACjB,OAAO,EACP,KAAK,EACL;QACE,KAAK,EAAE;YACL;gBAAE,OAAO,EAAE,GAAG;gBAAE,IAAI,EAAE,KAAK;YAAA,CAAE;YAC7B;gBAAE,OAAO,EAAE,IAAI;gBAAE,IAAI,EAAE,IAAI;YAAA,CAAE;YAC7B;gBAAE,OAAO,EAAE,IAAI;gBAAE,IAAI,EAAE,IAAI;YAAA,CAAE;YAC7B;gBAAE,OAAO,EAAE,IAAI;gBAAE,IAAI,EAAE,IAAI;YAAA,CAAE;YAC7B;gBAAE,OAAO,EAAE,IAAI;gBAAE,IAAI,EAAE,KAAK;YAAA,CAAE;SAC/B;KACF,EACD,IAAI,CACL,CAAC;IACF,MAAM,YAAY,OAAG,kKAAA,AAAU,EAAC,OAAO,EAAE,OAAO,EAAE;QAChD,KAAK,EAAE;YAAE,OAAO,EAAE,GAAG;QAAA,CAAE;QACvB,KAAK,EAAE;YAAC;gBAAE,IAAI,EAAE,SAAS;gBAAE,OAAO,EAAE,GAAG;YAAA,CAAE;SAAC;KAC3C,CAAC,CAAC;IAEH,oDAAoD;IACpD,mBAAmB;IACnB,IAAI,CAAC,KAAK,EAAE;QACV,OAAA,OAAA,MAAA,CAAA;YACE,IAAI,EAAE,KAAK;YACX,IAAI,EAAE,IAAI;YACV,SAAS,EAAE;;oBAEP,IAAI,EAAE,QAAQ;oBACd,CAAC,EAAE,GAAG;gBAAA,GACH,EAAE,GAAA;oBACL,EAAE,EAAE,GAAG;gBAAA;aAEV;YACD,MAAM,EAAA,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA,CAAA,GAAO,MAAM,GAAK,OAAO;YAC/B,KAAK,EAAE,SAAS;YAChB,OAAO,EAAE,UAAU;QAAA,GAChB,IAAI,EACP;KACH;IAED,MAAM,QAAQ,OAAG,mKAAA,AAAS,EAAC,SAAS,EAAE,KAAK,CAAC,CAAC;IAC7C,MAAM,UAAU,8JAAG,YAAA,AAAS,EAAC,SAAS,EAAE,OAAO,CAAC,CAAC;IACjD,OAAO;;YAGH,IAAI,EAAE,KAAK;YACX,IAAI,EAAE,IAAI;YACV,SAAS,EAAE;;oBAEP,IAAI,EAAE,QAAQ;oBACd,CAAC,EAAE,KAAK;gBAAA,GACL,EAAE,GAAA;oBACL,EAAE,EAAE,KAAK;gBAAA;aAEZ;YACD,MAAM,EAAA,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA,CAAA,GAAO,MAAM,GAAK,OAAO;YAC/B,KAAK,EAAE,QAAQ;YACf,OAAO,EAAE,UAAU;YACnB,OAAO,2JAAE,iBAAA,AAAc,EAAC,OAAO,EAAE,KAAK,CAAC;QAAA,GACpC,IAAI;QAET,iBAAiB;QACjB;YACE,IAAI,EAAE,OAAO;YACb,IAAI,EAAE,IAAI;YACV,SAAS,EAAE;gBAAC;oBAAE,IAAI,EAAE,QAAQ;gBAAA,CAAE;aAAC;YAC/B,MAAM;YACN,KAAK,EAAA,OAAA,MAAA,CAAA,CAAA,GAAO,UAAU,CAAE;YACxB,OAAO,EAAE,YAAY;YACrB,OAAO,2JAAE,iBAAc,AAAd,EAAe,OAAO,EAAE,OAAO,CAAC;SAC1C;KACF,CAAC;AACJ,CAAC,CAAC;AAEF,OAAO,CAAC,KAAK,GAAG,CAAA,CAAE,CAAC","ignoreList":[0]}},
    {"offset": {"line": 1351, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1357, "column": 0}, "map": {"version":3,"file":"gauge.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/gauge.ts"],"sourcesContent":["import { deepMix, isNumber } from '@antv/util';\nimport { Vector2 } from '@antv/coord';\nimport { Group } from '@antv/g';\nimport { filterPrefixObject, isUnset, subObject } from '../utils/helper';\nimport { CompositeMarkComponent as CC, ShapeComponent as SC } from '../runtime';\nimport { ColorOptions } from '../shape/point/color';\nimport { GaugeMark } from '../spec';\nimport { getTransformOptions } from '../utils/coordinate';\nimport { Radial } from '../coordinate';\nimport { applyStyle, getOrigin } from '../shape/utils';\nimport { select } from '../utils/selection';\nimport { GaugeRound } from '../shape';\n\nconst indicatorShape: SC<ColorOptions> = (options, context) => {\n  const { shape, radius, ...style } = options;\n  const pointerStyle = subObject(style, 'pointer');\n  const pinStyle = subObject(style, 'pin');\n  const { shape: pointerShape, ...resPointerStyle } = pointerStyle;\n  const { shape: pinShape, ...resPinStyle } = pinStyle;\n  const { coordinate, theme } = context;\n  return (points, value) => {\n    // Invert points.\n    const invertedPoints = points.map((p) => coordinate.invert(p));\n    // Get new coordinate.\n    const [startAngle, endAngle, innerRadius] = getTransformOptions(\n      coordinate,\n      'polar',\n    ) as number[];\n    const newCoordinate = coordinate.clone();\n    const { color: stroke } = value;\n    const newTransformations = Radial({\n      startAngle,\n      endAngle,\n      innerRadius,\n      outerRadius: radius,\n    });\n    newTransformations.push(['cartesian']);\n    newCoordinate.update({\n      transformations: newTransformations,\n    });\n    const newPoints = invertedPoints.map((p) => newCoordinate.map(p));\n    const [x, y] = getOrigin(newPoints as Vector2[]);\n    const [cx, cy] = coordinate.getCenter();\n    const pointerAttrs = {\n      x1: x,\n      y1: y,\n      x2: cx,\n      y2: cy,\n      stroke,\n      ...resPointerStyle,\n      ...style,\n    };\n    const pinAttrs = {\n      cx,\n      cy,\n      stroke,\n      ...resPinStyle,\n      ...style,\n    };\n    const indicatorGroup = select(new Group());\n    if (!isUnset(pointerShape)) {\n      typeof pointerShape === 'function'\n        ? indicatorGroup.append(() =>\n            pointerShape(newPoints, value, newCoordinate, theme),\n          )\n        : indicatorGroup.append('line').call(applyStyle, pointerAttrs).node();\n    }\n    if (!isUnset(pinShape)) {\n      typeof pinShape === 'function'\n        ? indicatorGroup.append(() =>\n            pinShape(newPoints, value, newCoordinate, theme),\n          )\n        : indicatorGroup.append('circle').call(applyStyle, pinAttrs).node();\n    }\n    return indicatorGroup.node();\n  };\n};\n\nconst DEFAULT_OPTIONS = {\n  coordinate: {\n    type: 'radial',\n    innerRadius: 0.9,\n    outerRadius: 1,\n    startAngle: (-11 / 10) * Math.PI,\n    endAngle: (1 / 10) * Math.PI,\n  },\n  axis: {\n    x: false,\n  },\n  legend: false,\n  tooltip: false,\n  encode: {\n    x: 'x',\n    y: 'y',\n    color: 'color',\n  },\n  scale: {\n    color: {\n      range: ['#30BF78', '#D0D0D0'],\n    },\n  },\n};\n\nconst DEFAULT_INDICATOR_OPTIONS = {\n  style: {\n    shape: indicatorShape,\n    lineWidth: 4,\n    pointerLineCap: 'round',\n    pinR: 10,\n    pinFill: '#fff',\n    radius: 0.6,\n  },\n};\n\nconst DEFAULT_TEXT_OPTIONS = {\n  type: 'text',\n  style: {\n    x: '50%',\n    y: '60%',\n    textAlign: 'center',\n    textBaseline: 'middle',\n    fontSize: 20,\n    fontWeight: 800,\n    fill: '#888',\n  },\n  tooltip: false,\n};\n\nexport type GaugeData =\n  | {\n      target?: number;\n      total?: number;\n      percent?: number;\n      name?: string;\n      thresholds?: number[];\n    }\n  | number;\n\nfunction getGaugeData(data: GaugeData) {\n  if (isNumber(data)) {\n    // Percent range [0, 1].\n    const percent = Math.max(0, Math.min(data, 1));\n    return {\n      percent,\n      target: percent,\n      total: 1,\n    };\n  }\n  return data;\n}\n\nfunction dataTransform(data: GaugeData, scale) {\n  const {\n    name = 'score',\n    target,\n    total,\n    percent,\n    thresholds = [],\n  } = getGaugeData(data);\n  const _target = percent || target;\n  const _total = percent ? 1 : total;\n  const newScale = {\n    y: {\n      domain: [0, _total],\n    },\n    ...scale,\n  };\n  if (!thresholds.length) {\n    return {\n      targetData: [{ x: name, y: _target, color: 'target' }],\n      totalData: [\n        { x: name, y: _target, color: 'target' },\n        { x: name, y: _total - _target, color: 'total' },\n      ],\n      target: _target,\n      total: _total,\n      scale: newScale,\n    };\n  }\n  return {\n    targetData: [{ x: name, y: _target, color: 'target' }],\n    totalData: thresholds.map((d, i) => ({\n      x: name,\n      y: i >= 1 ? d - thresholds[i - 1] : d,\n      color: i,\n    })),\n    target: _target,\n    total: _total,\n    scale: newScale,\n  };\n}\n\nfunction getTextContent(textStyle, { target, total }) {\n  const { content } = textStyle;\n  return content ? content(target, total) : target.toString();\n}\n\nexport type GaugeOptions = Omit<GaugeMark, 'type'>;\n\nexport const Gauge: CC<GaugeOptions> = (options) => {\n  const {\n    data = {},\n    scale = {},\n    style = {},\n    animate = {},\n    transform = [],\n    ...resOptions\n  } = options;\n  const {\n    targetData,\n    totalData,\n    target,\n    total,\n    scale: newScale,\n  } = dataTransform(data, scale);\n  const { tooltip, ...textStyle } = subObject(style, 'text');\n  // pointer + pin\n  const indicatorStyle = filterPrefixObject(style, ['pointer', 'pin']);\n\n  const arcStyle = subObject(style, 'arc');\n  const shape = arcStyle.shape;\n\n  return [\n    deepMix({}, DEFAULT_OPTIONS, {\n      type: 'interval',\n      transform: [{ type: 'stackY' }],\n      data: totalData,\n      scale: newScale,\n      style: shape === 'round' ? { ...arcStyle, shape: GaugeRound } : arcStyle,\n      animate:\n        typeof animate === 'object' ? subObject(animate, 'arc') : animate,\n      ...resOptions,\n    }),\n    deepMix({}, DEFAULT_OPTIONS, DEFAULT_INDICATOR_OPTIONS, {\n      type: 'point',\n      data: targetData,\n      scale: newScale,\n      style: indicatorStyle,\n      animate:\n        typeof animate === 'object' ? subObject(animate, 'indicator') : animate,\n      ...resOptions,\n    }),\n    deepMix({}, DEFAULT_TEXT_OPTIONS, {\n      style: {\n        text: getTextContent(textStyle, { target, total }),\n        ...textStyle,\n      },\n      tooltip,\n      animate:\n        typeof animate === 'object' ? subObject(animate, 'text') : animate,\n    }),\n  ];\n};\n\nGauge.props = {};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1620, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1626, "column": 0}, "map": {"version":3,"file":"wordCloud.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/wordCloud.ts"],"sourcesContent":["import { deepMix } from '@antv/util';\nimport { itemsOf } from 'interaction/legendFilter';\nimport { CompositeMarkComponent as CC } from '../runtime';\nimport { WordCloudMark } from '../spec';\n\nexport type WordCloudOptions = Omit<WordCloudMark, 'type'>;\n\nfunction initializeData(data, encode) {\n  const { text = 'text', value = 'value' } = encode;\n  return data.map((d) => ({\n    ...d,\n    text: d[text],\n    value: d[value],\n  }));\n}\n\nconst GET_DEFAULT_OPTIONS = () => ({\n  axis: false,\n  type: 'text',\n  encode: {\n    x: 'x',\n    y: 'y',\n    text: 'text',\n    rotate: 'rotate',\n    fontSize: 'size',\n    shape: 'tag',\n  },\n  scale: {\n    x: { range: [0, 1] },\n    y: { range: [0, 1] },\n  },\n  style: {\n    fontFamily: (d) => d.fontFamily,\n  },\n  tooltip: {\n    items: [\n      (datum) => ({\n        name: datum.text,\n        value: datum.value,\n      }),\n    ],\n  },\n});\n\nexport const WordCloud: CC<WordCloudOptions> = async (options, context) => {\n  const { width, height } = context;\n\n  const {\n    data,\n    encode = {},\n    scale,\n    style = {},\n    layout = {},\n    ...resOptions\n  } = options;\n\n  const initializedData = initializeData(data, encode);\n\n  return deepMix({}, GET_DEFAULT_OPTIONS(), {\n    data: {\n      value: initializedData,\n      transform: [\n        {\n          type: 'wordCloud',\n          size: [width, height],\n          ...layout,\n        },\n      ],\n    },\n    encode,\n    scale,\n    style,\n    ...resOptions,\n    axis: false,\n  });\n};\n\nWordCloud.props = {};\n"],"names":[],"mappings":";;;AAAA,OAAO,EAAE,OAAO,EAAE,MAAM,YAAY,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOrC,SAAS,cAAc,CAAC,IAAI,EAAE,MAAM;IAClC,MAAM,EAAE,IAAI,GAAG,MAAM,EAAE,KAAK,GAAG,OAAO,EAAE,GAAG,MAAM,CAAC;IAClD,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAG,CAAD,CAAC,KAAA,MAAA,CAAA,OAAA,MAAA,CAAA,CAAA,GAClB,CAAC,GAAA;YACJ,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC;YACb,KAAK,EAAE,CAAC,CAAC,KAAK,CAAC;QAAA,GACf,CAAC,CAAC;AACN,CAAC;AAED,MAAM,mBAAmB,GAAG,GAAG,CAAG,CAAD,AAAE;QACjC,IAAI,EAAE,KAAK;QACX,IAAI,EAAE,MAAM;QACZ,MAAM,EAAE;YACN,CAAC,EAAE,GAAG;YACN,CAAC,EAAE,GAAG;YACN,IAAI,EAAE,MAAM;YACZ,MAAM,EAAE,QAAQ;YAChB,QAAQ,EAAE,MAAM;YAChB,KAAK,EAAE,KAAK;SACb;QACD,KAAK,EAAE;YACL,CAAC,EAAE;gBAAE,KAAK,EAAE;oBAAC,CAAC;oBAAE,CAAC;iBAAC;YAAA,CAAE;YACpB,CAAC,EAAE;gBAAE,KAAK,EAAE;oBAAC,CAAC;oBAAE,CAAC;iBAAC;YAAA,CAAE;SACrB;QACD,KAAK,EAAE;YACL,UAAU,EAAE,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,UAAU;SAChC;QACD,OAAO,EAAE;YACP,KAAK,EAAE;gBACL,CAAC,KAAK,EAAE,CAAG,CAAC,AAAF;wBACR,IAAI,EAAE,KAAK,CAAC,IAAI;wBAChB,KAAK,EAAE,KAAK,CAAC,KAAK;qBACnB,CAAC;aACH;SACF;KACF,CAAC,CAAC;AAEI,MAAM,SAAS,GAAyB,CAAO,OAAO,EAAE,OAAO,EAAE,CAAE,CAAA,SAAA,KAAA,GAAA,KAAA,GAAA,KAAA,GAAA;QACxE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,OAAO,CAAC;QAElC,MAAM,EACJ,IAAI,EACJ,MAAM,GAAG,CAAA,CAAE,EACX,KAAK,EACL,KAAK,GAAG,CAAA,CAAE,EACV,MAAM,GAAG,CAAA,CAAE,EAAA,GAET,OAAO,EADN,UAAU,GAAA,OACX,OAAO,EAPL;YAAA;YAAA;YAAA;YAAA;YAAA;SAOL,CAAU,CAAC;QAEZ,MAAM,eAAe,GAAG,cAAc,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QAErD,gNAAO,UAAA,AAAO,EAAC,CAAA,CAAE,EAAE,mBAAmB,EAAE,EAAA,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA;YACtC,IAAI,EAAE;gBACJ,KAAK,EAAE,eAAe;gBACtB,SAAS,EAAE;;wBAEP,IAAI,EAAE,WAAW;wBACjB,IAAI,EAAE;4BAAC,KAAK;4BAAE,MAAM;yBAAC;oBAAA,GAClB,MAAM;iBAEZ;aACF;YACD,MAAM;YACN,KAAK;YACL,KAAK;QAAA,GACF,UAAU,GAAA;YACb,IAAI,EAAE,KAAK;QAAA,GACX,CAAC;IACL,CAAC,CAAA,CAAC;AAEF,SAAS,CAAC,KAAK,GAAG,CAAA,CAAE,CAAC","ignoreList":[0]}},
    {"offset": {"line": 1741, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1747, "column": 0}, "map": {"version":3,"file":"liquid.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/liquid.ts"],"sourcesContent":["import { deepMix, isNumber } from '@antv/util';\nimport { subObject } from '../utils/helper';\nimport { prettyNumber } from '../utils/number';\nimport { CompositeMarkComponent as CC } from '../runtime';\nimport { LiquidMark } from '../spec';\nimport { LiquidShape } from '../shape';\n\nconst DEFAULT_OPTIONS = {\n  axis: {\n    x: false,\n    y: false,\n  },\n  legend: false,\n  tooltip: false,\n  encode: {\n    x: 'type',\n    y: 'percent',\n  },\n  scale: {\n    y: {\n      domain: [0, 1],\n    },\n  },\n  style: {\n    shape: LiquidShape,\n  },\n  animate: {\n    enter: {\n      type: 'fadeIn',\n    },\n  },\n};\n\nconst DEFAULT_TEXT_OPTIONS = {\n  type: 'text',\n  style: {\n    x: '50%',\n    y: '50%',\n    textAlign: 'center',\n    textBaseline: 'middle',\n    fontSize: 20,\n    fontWeight: 800,\n    fill: '#888',\n  },\n  animate: {\n    enter: {\n      type: 'fadeIn',\n    },\n  },\n};\n\nexport type LiquidData =\n  | {\n      percent?: number;\n    }\n  | number;\n\nexport type LiquidOptions = Omit<LiquidMark, 'type'>;\n\nexport const Liquid: CC<LiquidOptions> = (options) => {\n  const { data = {}, style = {}, animate, ...resOptions } = options;\n  // Compatible with old data structures: { percent: number } and percent >= 0.\n  const percent = Math.max(0, isNumber(data) ? data : data?.percent);\n\n  const newData = [{ percent, type: 'liquid' }];\n\n  const contentStyle = {\n    ...subObject(style, 'text'),\n    ...subObject(style, 'content'),\n  };\n\n  const outline = subObject(style, 'outline');\n  const wave = subObject(style, 'wave');\n  const background = subObject(style, 'background');\n\n  return [\n    deepMix({}, DEFAULT_OPTIONS, {\n      type: 'interval',\n      data: newData,\n      style: {\n        liquidOptions: {\n          percent,\n          liquidShape: style?.shape,\n        },\n        styleOptions: {\n          ...style,\n          outline,\n          wave,\n          background,\n        },\n      },\n      animate,\n      ...resOptions,\n    }),\n    deepMix({}, DEFAULT_TEXT_OPTIONS, {\n      style: {\n        text: `${prettyNumber(percent * 100)} %`,\n        ...contentStyle,\n      },\n      animate,\n    }),\n  ];\n};\n\nLiquid.props = {};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1856, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1862, "column": 0}, "map": {"version":3,"file":"interval.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/interval.ts"],"sourcesContent":["import { Band } from '@antv/scale';\nimport { MarkComponent as MC, Vector2 } from '../runtime';\nimport { IntervalMark } from '../spec';\nimport { MaybeZeroY1, MaybeZeroX } from '../transform';\nimport {\n  IntervalShape,\n  IntervalHollow,\n  IntervalFunnel,\n  IntervalPyramid,\n} from '../shape';\nimport {\n  baseGeometryChannels,\n  basePostInference,\n  basePreInference,\n  tooltip1d,\n} from './utils';\n\nfunction bandWidth(scale: Band, x: any): number {\n  return scale.getBandWidth(scale.invert(x));\n}\n\nconst shape = {\n  rect: IntervalShape,\n  hollow: IntervalHollow,\n  funnel: IntervalFunnel,\n  pyramid: IntervalPyramid,\n};\n\nexport type IntervalOptions = Omit<IntervalMark, 'type'>;\n\n/**\n * Convert value for each channel to rect shapes.\n * p0        p1\n *    \n *        \n *        \n * p3  p2\n */\nexport const Interval: MC<IntervalOptions> = () => {\n  return (index, scale, value, coordinate) => {\n    const { x: X, y1: Y1, series: S, size: SZ } = value;\n    let { y: Y } = value;\n    Y = Y.map((d) => (d !== undefined ? d : 1));\n\n    // Calc width for each interval.\n    // The scales for x and series channels must be band scale.\n    const x = scale.x as Band;\n    const series = scale.series as Band;\n    const [width] = coordinate.getSize();\n    const NSZ = SZ ? SZ.map((d) => +d / width) : null;\n    const x1x2 = !SZ\n      ? (x: number, w: number, i: number) => [x, x + w]\n      : (x: number, w: number, i: number) => {\n          const mx = x + w / 2;\n          const s = NSZ[i];\n          return [mx - s / 2, mx + s / 2];\n        };\n\n    // Calc the points of bounding box for the interval.\n    // They are start from left-top corner in clock wise order.\n    const P = Array.from(index, (i) => {\n      const groupWidth = bandWidth(x, X[i]);\n      const ratio = series ? bandWidth(series, S?.[i]) : 1;\n      const width = groupWidth * ratio;\n      const offset = (+S?.[i] || 0) * groupWidth;\n      const x0 = +X[i] + offset;\n      const [x1, x2] = x1x2(x0, width, i);\n      const y1 = +Y[i];\n      const y2 = +Y1[i];\n      const p1 = [x1, y1];\n      const p2 = [x2, y1];\n      const p3 = [x2, y2];\n      const p4 = [x1, y2];\n      return [p1, p2, p3, p4].map((d) => coordinate.map(d)) as Vector2[];\n    });\n    return [index, P];\n  };\n};\n\nInterval.props = {\n  defaultShape: 'rect',\n  defaultLabelShape: 'label',\n  composite: false,\n  shape,\n  channels: [\n    ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n    { name: 'x', scale: 'band', required: true },\n    { name: 'y', required: true },\n    { name: 'series', scale: 'band' },\n    { name: 'size' },\n  ],\n  preInference: [\n    ...basePreInference(),\n    { type: MaybeZeroY1 },\n    { type: MaybeZeroX },\n  ],\n  postInference: [...basePostInference(), ...tooltip1d()],\n  interaction: { shareTooltip: true },\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1989, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1995, "column": 0}, "map": {"version":3,"file":"rect.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/rect.ts"],"sourcesContent":["import { MarkComponent as MC, Vector2 } from '../runtime';\nimport { RectMark } from '../spec';\nimport { RectShape, RectHollow } from '../shape';\nimport { MaybeZeroY1 } from '../transform';\nimport {\n  baseGeometryChannels,\n  basePostInference,\n  basePreInference,\n  tooltip1d,\n} from './utils';\n\nconst shape = {\n  rect: RectShape,\n  hollow: RectHollow,\n};\n\nexport type RectOptions = Omit<RectMark, 'type'>;\n\nexport const Rect: MC<RectOptions> = () => {\n  return (index, scale, value, coordinate) => {\n    const { x: X, x1: X1, y: Y, y1: Y1 } = value;\n\n    const P = Array.from(index, (i) => {\n      const p1 = [+X[i], +Y[i]];\n      const p2 = [+X1[i], +Y[i]];\n      const p3 = [+X1[i], +Y1[i]];\n      const p4 = [+X[i], +Y1[i]];\n\n      return [p1, p2, p3, p4].map((d) => coordinate.map(d)) as Vector2[];\n    });\n\n    return [index, P];\n  };\n};\n\nRect.props = {\n  defaultShape: 'rect',\n  defaultLabelShape: 'label',\n  composite: false,\n  shape,\n  channels: [\n    ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n    { name: 'x', required: true },\n    { name: 'y', required: true },\n  ],\n  preInference: [...basePreInference(), { type: MaybeZeroY1 }],\n  postInference: [...basePostInference(), ...tooltip1d()],\n  interaction: {\n    shareTooltip: true,\n  },\n};\n"],"names":[],"mappings":";;;AAEA,OAAO,EAAE,SAAS,EAAE,UAAU,EAAE,MAAM,UAAU,CAAC;;AAEjD,OAAO,EACL,oBAAoB,EACpB,iBAAiB,EACjB,gBAAgB,EAChB,SAAS,GACV,MAAM,SAAS,CAAC;AANjB,OAAO,EAAE,WAAW,EAAE,MAAM,cAAc,CAAC;;;;AAQ3C,MAAM,KAAK,GAAG;IACZ,IAAI,wMAAE,YAAS;IACf,MAAM,6MAAE,aAAU;CACnB,CAAC;AAIK,MAAM,IAAI,GAAoB,GAAG,EAAE;IACxC,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,EAAE;QACzC,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,KAAK,CAAC;QAE7C,MAAM,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,EAAE;YAChC,MAAM,EAAE,GAAG;gBAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAAE,CAAC,CAAC,CAAC,CAAC,CAAC;aAAC,CAAC;YAC1B,MAAM,EAAE,GAAG;gBAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBAAE,CAAC,CAAC,CAAC,CAAC,CAAC;aAAC,CAAC;YAC3B,MAAM,EAAE,GAAG;gBAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBAAE,CAAC,EAAE,CAAC,CAAC,CAAC;aAAC,CAAC;YAC5B,MAAM,EAAE,GAAG;gBAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAAE,CAAC,EAAE,CAAC,CAAC,CAAC;aAAC,CAAC;YAE3B,OAAO;gBAAC,EAAE;gBAAE,EAAE;gBAAE,EAAE;gBAAE,EAAE;aAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAG,CAAD,SAAW,CAAC,GAAG,CAAC,CAAC,CAAC,CAAc,CAAC;QACrE,CAAC,CAAC,CAAC;QAEH,OAAO;YAAC,KAAK;YAAE,CAAC;SAAC,CAAC;IACpB,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,IAAI,CAAC,KAAK,GAAG;IACX,YAAY,EAAE,MAAM;IACpB,iBAAiB,EAAE,OAAO;IAC1B,SAAS,EAAE,KAAK;IAChB,KAAK;IACL,QAAQ,EAAE;WACL,gLAAA,AAAoB,EAAC;YAAE,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;QAAA,CAAE,CAAC;QACvD;YAAE,IAAI,EAAE,GAAG;YAAE,QAAQ,EAAE,IAAI;QAAA,CAAE;QAC7B;YAAE,IAAI,EAAE,GAAG;YAAE,QAAQ,EAAE,IAAI;QAAA,CAAE;KAC9B;IACD,YAAY,EAAE,CAAC;oKAAG,mBAAA,AAAgB,EAAE;QAAE;YAAE,IAAI,kKAAE,cAAW;QAAA,CAAE;KAAC;IAC5D,aAAa,EAAE,CAAC;oKAAG,oBAAA,AAAiB,EAAE,EAAE;oKAAG,YAAA,AAAS,EAAE;KAAC;IACvD,WAAW,EAAE;QACX,YAAY,EAAE,IAAI;KACnB;CACF,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2074, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2080, "column": 0}, "map": {"version":3,"file":"line.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/line.ts"],"sourcesContent":["import { Vector } from '@antv/coord';\nimport { group } from '@antv/vendor/d3-array';\nimport { isParallel, isPolar } from '../utils/coordinate';\nimport { Mark, MarkComponent as MC, SingleMark, Vector2 } from '../runtime';\nimport { LineMark } from '../spec';\nimport {\n  LineShape,\n  LineHV,\n  LineVH,\n  LineHVH,\n  LineTrail,\n  LineSmooth,\n} from '../shape';\nimport { MaybeSeries, MaybeGradient } from '../transform';\nimport {\n  baseGeometryChannels,\n  basePostInference,\n  basePreInference,\n  tooltip1d,\n  tooltipXd,\n} from './utils';\n\nconst shape = {\n  line: LineShape,\n  smooth: LineSmooth,\n  hv: LineHV,\n  vh: LineVH,\n  hvh: LineHVH,\n  trail: LineTrail,\n};\n\nexport type LineOptions = Omit<LineMark, 'type'>;\n\nconst line: Mark = (index, scale, value, coordinate) => {\n  const { series: S, x: X, y: Y } = value;\n  const { x, y } = scale;\n\n  // Because x and y channel is not strictly required in Line.props,\n  // it should throw error with empty x or y channels.\n  if (X === undefined || Y === undefined) {\n    throw new Error('Missing encode for x or y channel.');\n  }\n\n  // Group data into series.\n  // There is only one series without specified series encode.\n  const series = S ? Array.from(group(index, (i) => S[i]).values()) : [index];\n  const I = series.map((group) => group[0]).filter((i) => i !== undefined);\n\n  // A group of data corresponds to one line.\n  const xoffset = (x?.getBandWidth?.() || 0) / 2;\n  const yoffset = (y?.getBandWidth?.() || 0) / 2;\n  const P = Array.from(series, (I) => {\n    return I.map((i) =>\n      coordinate.map([+X[i] + xoffset, +Y[i] + yoffset]),\n    ) as Vector2[];\n  });\n  return [I, P, series];\n};\n\nconst parallel: Mark = (index, scale, value, coordinate) => {\n  // Extract all value for position[number] channels.\n  const PV = Object.entries(value)\n    .filter(([key]) => key.startsWith('position'))\n    .map(([, value]) => value);\n\n  // Because position channel is not strictly required in Line.props,\n  // it should throw error with empty position values.\n  if (PV.length === 0) {\n    throw new Error('Missing encode for position channel.');\n  }\n  // Close the loop for radar(= parallel + polar) coordinate.\n  if (isPolar(coordinate)) PV.push(PV[0]);\n\n  // One data corresponds to one line.\n  const P = Array.from(index, (i) => {\n    // Transform high dimension vector to a list of two-dimension vectors.\n    // [a, b, c] -> [d, e, f, g, h, i]\n    const vector = PV.map((pv) => +pv[i]);\n    const vectors = coordinate.map(vector) as Vector;\n\n    // Two-dimension vectors are stored in a flat array, so extract them.\n    // [d, e, f, g, h, i] -> [d, e], [f, g], [h, i]\n    const points = [];\n    for (let i = 0; i < vectors.length; i += 2) {\n      points.push([vectors[i], vectors[i + 1]]);\n    }\n    return points;\n  });\n  return [index, P];\n};\n\n/**\n * Convert value for each channel to line shapes.\n */\nexport const Line: MC<LineOptions> = () => {\n  return (index, scale, value, coordinate) => {\n    const mark = isParallel(coordinate) ? parallel : line;\n    return (mark as SingleMark)(index, scale, value, coordinate);\n  };\n};\n\nLine.props = {\n  defaultShape: 'line',\n  defaultLabelShape: 'label',\n  composite: false,\n  shape,\n  channels: [\n    ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n    { name: 'x' },\n    { name: 'y' },\n    { name: 'position', independent: true },\n    { name: 'size' },\n    { name: 'series', scale: 'band' },\n  ],\n  preInference: [\n    ...basePreInference(),\n    // !!!Note This order is very important.\n    { type: MaybeGradient },\n    { type: MaybeSeries },\n  ],\n  postInference: [...basePostInference(), ...tooltip1d(), ...tooltipXd()],\n  interaction: {\n    shareTooltip: true,\n    seriesTooltip: true,\n    crosshairs: true,\n  },\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2224, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2230, "column": 0}, "map": {"version":3,"file":"point.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/point.ts"],"sourcesContent":["import { MarkComponent as MC, Vector2 } from '../runtime';\nimport { PointMark } from '../spec';\nimport {\n  PointBowtie,\n  PointCross,\n  PointDiamond,\n  PointHexagon,\n  PointHollowBowtie,\n  PointHollowDiamond,\n  PointHollowHexagon,\n  PointHollow,\n  PointHollowSquare,\n  PointHollowTriangle,\n  PointHollowTriangleDown,\n  PointHyphen,\n  PointLine,\n  PointTriangleDown,\n  PointPlus,\n  PointSquare,\n  PointShape,\n  PointTick,\n  PointTriangle,\n  PointCircle,\n  PointHollowCircle,\n} from '../shape';\nimport { MaybeZeroX, MaybeZeroY, MaybeSize } from '../transform';\nimport {\n  baseGeometryChannels,\n  basePostInference,\n  basePreInference,\n  createBandOffset,\n  tooltip2d,\n} from './utils';\n\nconst shape = {\n  hollow: PointHollow,\n  hollowDiamond: PointHollowDiamond,\n  hollowHexagon: PointHollowHexagon,\n  hollowSquare: PointHollowSquare,\n  hollowTriangleDown: PointHollowTriangleDown,\n  hollowTriangle: PointHollowTriangle,\n  hollowBowtie: PointHollowBowtie,\n  hollowCircle: PointHollowCircle,\n  point: PointShape,\n  plus: PointPlus,\n  diamond: PointDiamond,\n  square: PointSquare,\n  triangle: PointTriangle,\n  hexagon: PointHexagon,\n  cross: PointCross,\n  bowtie: PointBowtie,\n  hyphen: PointHyphen,\n  line: PointLine,\n  tick: PointTick,\n  triangleDown: PointTriangleDown,\n  circle: PointCircle,\n};\n\nexport type PointOptions = Omit<PointMark, 'type'>;\n\n/**\n * Convert value for each channel to point shapes.\n * Calc the bbox of each point based on x, y and r.\n * This is for allowing their radius can be affected by coordinate(e.g. fisheye).\n */\nexport const Point: MC<PointOptions> = (options) => {\n  return (index, scale, value, coordinate) => {\n    const { x: X, y: Y, x1: X1, y1: Y1, size: S, dx: DX, dy: DY } = value;\n    const [width, height] = coordinate.getSize();\n    const offset = createBandOffset(scale, value, options);\n    const xy: (i: number) => Vector2 = (i) => {\n      const dx = +(DX?.[i] || 0);\n      const dy = +(DY?.[i] || 0);\n      const x = X1 ? (+X[i] + +X1[i]) / 2 : +X[i];\n      const y = Y1 ? (+Y[i] + +Y1[i]) / 2 : +Y[i];\n      const cx = x + dx;\n      const cy = y + dy;\n      return [cx, cy];\n    };\n    const P = S\n      ? Array.from(index, (i) => {\n          const [cx, cy] = xy(i);\n          const r = +S[i];\n          const a = r / width;\n          const b = r / height;\n          const p1: Vector2 = [cx - a, cy - b];\n          const p2: Vector2 = [cx + a, cy + b];\n          return [\n            coordinate.map(offset(p1, i)),\n            coordinate.map(offset(p2, i)),\n          ] as Vector2[];\n        })\n      : Array.from(\n          index,\n          (i) => [coordinate.map(offset(xy(i), i))] as Vector2[],\n        );\n    return [index, P];\n  };\n};\n\nPoint.props = {\n  defaultShape: 'hollow',\n  defaultLabelShape: 'label',\n  composite: false,\n  shape,\n  channels: [\n    ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n    { name: 'x', required: true },\n    { name: 'y', required: true },\n    { name: 'series', scale: 'band' },\n    { name: 'size', quantitative: 'sqrt' },\n    { name: 'dx', scale: 'identity' },\n    { name: 'dy', scale: 'identity' },\n  ],\n  preInference: [\n    ...basePreInference(),\n    { type: MaybeZeroX },\n    { type: MaybeZeroY },\n  ],\n  postInference: [...basePostInference(), { type: MaybeSize }, ...tooltip2d()],\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2378, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2384, "column": 0}, "map": {"version":3,"file":"text.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/text.ts"],"sourcesContent":["import { MarkComponent as MC, Vector2, Mark } from '../runtime';\nimport { TextMark } from '../spec';\nimport { TextShape, TextBadge, TextTag } from '../shape';\nimport { MaybeTuple, MaybeVisualPosition } from '../transform';\nimport {\n  baseGeometryChannels,\n  basePostInference,\n  basePreInference,\n  createBandOffset,\n  tooltip2d,\n  visualMark,\n} from './utils';\n\nconst shape = {\n  text: TextShape,\n  badge: TextBadge,\n  tag: TextTag,\n};\n\nexport type TextOptions = Omit<TextMark, 'type'>;\n\nexport const Text: MC<TextOptions> = (options) => {\n  const { cartesian = false } = options;\n  if (cartesian) return visualMark as Mark;\n  return ((index, scale, value, coordinate) => {\n    const { x: X, y: Y } = value;\n    const offset = createBandOffset(scale, value, options);\n    const P = Array.from(index, (i) => {\n      const p: Vector2 = [+X[i], +Y[i]];\n      return [coordinate.map(offset(p, i))] as Vector2[];\n    });\n    return [index, P];\n  }) as Mark;\n};\n\nText.props = {\n  defaultShape: 'text',\n  defaultLabelShape: 'label',\n  composite: false,\n  shape,\n  channels: [\n    ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n    { name: 'x', required: true },\n    { name: 'y', required: true },\n    { name: 'text', scale: 'identity' },\n    { name: 'fontSize', scale: 'identity' },\n    { name: 'rotate', scale: 'identity' },\n  ],\n  preInference: [\n    ...basePreInference(),\n    { type: MaybeTuple },\n    { type: MaybeVisualPosition },\n  ],\n  postInference: [...basePostInference(), ...tooltip2d()],\n};\n"],"names":[],"mappings":";;;AAEA,OAAO,EAAE,SAAS,EAAE,SAAS,EAAE,OAAO,EAAE,MAAM,UAAU,CAAC;;;AAEzD,OAAO,EACL,oBAAoB,EACpB,iBAAiB,EACjB,gBAAgB,EAChB,gBAAgB,EAChB,SAAS,EACT,UAAU,GACX,MAAM,SAAS,CAAC;;AARjB,OAAO,EAAE,UAAU,EAAE,mBAAmB,EAAE,MAAM,cAAc,CAAC;;;;AAU/D,MAAM,KAAK,GAAG;IACZ,IAAI,oMAAE,YAAS;IACf,KAAK,sMAAE,YAAS;IAChB,GAAG,gMAAE,UAAO;CACb,CAAC;AAIK,MAAM,IAAI,GAAoB,CAAC,OAAO,EAAE,EAAE;IAC/C,MAAM,EAAE,SAAS,GAAG,KAAK,EAAE,GAAG,OAAO,CAAC;IACtC,IAAI,SAAS,EAAE,4JAAO,aAAkB,CAAC;IACzC,OAAO,AAAC,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,EAAE;QAC1C,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,KAAK,CAAC;QAC7B,MAAM,MAAM,IAAG,2KAAA,AAAgB,EAAC,KAAK,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;QACvD,MAAM,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,EAAE;YAChC,MAAM,CAAC,GAAY;gBAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAAE,CAAC,CAAC,CAAC,CAAC,CAAC;aAAC,CAAC;YAClC,OAAO;gBAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;aAAc,CAAC;QACrD,CAAC,CAAC,CAAC;QACH,OAAO;YAAC,KAAK;YAAE,CAAC;SAAC,CAAC;IACpB,CAAC,CAAS,CAAC;AACb,CAAC,CAAC;AAEF,IAAI,CAAC,KAAK,GAAG;IACX,YAAY,EAAE,MAAM;IACpB,iBAAiB,EAAE,OAAO;IAC1B,SAAS,EAAE,KAAK;IAChB,KAAK;IACL,QAAQ,EAAE;oKACL,uBAAA,AAAoB,EAAC;YAAE,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;QAAA,CAAE,CAAC;QACvD;YAAE,IAAI,EAAE,GAAG;YAAE,QAAQ,EAAE,IAAI;QAAA,CAAE;QAC7B;YAAE,IAAI,EAAE,GAAG;YAAE,QAAQ,EAAE,IAAI;QAAA,CAAE;QAC7B;YAAE,IAAI,EAAE,MAAM;YAAE,KAAK,EAAE,UAAU;QAAA,CAAE;QACnC;YAAE,IAAI,EAAE,UAAU;YAAE,KAAK,EAAE,UAAU;QAAA,CAAE;QACvC;YAAE,IAAI,EAAE,QAAQ;YAAE,KAAK,EAAE,UAAU;QAAA,CAAE;KACtC;IACD,YAAY,EAAE;oKACT,mBAAA,AAAgB,EAAE;QACrB;YAAE,IAAI,iKAAE,aAAU;QAAA,CAAE;QACpB;YAAE,IAAI,0KAAE,sBAAmB;QAAA,CAAE;KAC9B;IACD,aAAa,EAAE,CAAC;oKAAG,oBAAA,AAAiB,EAAE,EAAE;oKAAG,YAAA,AAAS,EAAE;KAAC;CACxD,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2466, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2472, "column": 0}, "map": {"version":3,"file":"cell.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/cell.ts"],"sourcesContent":["import { Band } from '@antv/scale';\nimport { MarkComponent as MC, Vector2 } from '../runtime';\nimport { CellMark } from '../spec';\nimport { CellShape, CellHollow } from '../shape';\nimport { MaybeZeroX, MaybeZeroY, MaybeZeroPadding } from '../transform';\nimport {\n  baseGeometryChannels,\n  basePostInference,\n  basePreInference,\n  tooltip2d,\n} from './utils';\n\nconst shape = {\n  cell: CellShape,\n  hollow: CellHollow,\n};\n\nexport type CellOptions = Omit<CellMark, 'type'>;\n\n/**\n * Convert value for each channel to Cell shapes.\n * Calc the bbox of each Cell based on x, y and r.\n * This is for allowing their radius can be affected by coordinate(e.g. fisheye).\n */\nexport const Cell: MC<CellOptions> = () => {\n  return (index, scale, value, coordinate) => {\n    const { x: X, y: Y } = value;\n    const x = scale.x as Band;\n    const y = scale.y as Band;\n    const P = Array.from(index, (i) => {\n      const width = x.getBandWidth(x.invert(+X[i]));\n      const height = y.getBandWidth(y.invert(+Y[i]));\n      const x1 = +X[i];\n      const y1 = +Y[i];\n      const p1 = [x1, y1];\n      const p2 = [x1 + width, y1];\n      const p3 = [x1 + width, y1 + height];\n      const p4 = [x1, y1 + height];\n      return [p1, p2, p3, p4].map((d) => coordinate.map(d)) as Vector2[];\n    });\n    return [index, P];\n  };\n};\n\nCell.props = {\n  defaultShape: 'cell',\n  defaultLabelShape: 'label',\n  shape,\n  composite: false,\n  channels: [\n    ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n    { name: 'x', required: true, scale: 'band' },\n    { name: 'y', required: true, scale: 'band' },\n  ],\n  preInference: [\n    ...basePreInference(),\n    { type: MaybeZeroX },\n    { type: MaybeZeroY },\n    { type: MaybeZeroPadding },\n  ],\n  postInference: [...basePostInference(), ...tooltip2d()],\n};\n"],"names":[],"mappings":";;;AAGA,OAAO,EAAE,SAAS,EAAE,UAAU,EAAE,MAAM,UAAU,CAAC;;AAEjD,OAAO,EACL,oBAAoB,EACpB,iBAAiB,EACjB,gBAAgB,EAChB,SAAS,GACV,MAAM,SAAS,CAAC;AANjB,OAAO,EAAE,UAAU,EAAE,UAAU,EAAE,gBAAgB,EAAE,MAAM,cAAc,CAAC;;;;;;AAQxE,MAAM,KAAK,GAAG;IACZ,IAAI,wMAAE,YAAS;IACf,MAAM,6MAAE,aAAU;CACnB,CAAC;AASK,MAAM,IAAI,GAAoB,GAAG,EAAE;IACxC,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,EAAE;QACzC,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,KAAK,CAAC;QAC7B,MAAM,CAAC,GAAG,KAAK,CAAC,CAAS,CAAC;QAC1B,MAAM,CAAC,GAAG,KAAK,CAAC,CAAS,CAAC;QAC1B,MAAM,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,EAAE;YAChC,MAAM,KAAK,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC9C,MAAM,MAAM,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/C,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACjB,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACjB,MAAM,EAAE,GAAG;gBAAC,EAAE;gBAAE,EAAE;aAAC,CAAC;YACpB,MAAM,EAAE,GAAG;gBAAC,EAAE,GAAG,KAAK;gBAAE,EAAE;aAAC,CAAC;YAC5B,MAAM,EAAE,GAAG;gBAAC,EAAE,GAAG,KAAK;gBAAE,EAAE,GAAG,MAAM;aAAC,CAAC;YACrC,MAAM,EAAE,GAAG;gBAAC,EAAE;gBAAE,EAAE,GAAG,MAAM;aAAC,CAAC;YAC7B,OAAO;gBAAC,EAAE;gBAAE,EAAE;gBAAE,EAAE;gBAAE,EAAE;aAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAG,CAAD,SAAW,CAAC,GAAG,CAAC,CAAC,CAAC,CAAc,CAAC;QACrE,CAAC,CAAC,CAAC;QACH,OAAO;YAAC,KAAK;YAAE,CAAC;SAAC,CAAC;IACpB,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,IAAI,CAAC,KAAK,GAAG;IACX,YAAY,EAAE,MAAM;IACpB,iBAAiB,EAAE,OAAO;IAC1B,KAAK;IACL,SAAS,EAAE,KAAK;IAChB,QAAQ,EAAE;WACL,gLAAA,AAAoB,EAAC;YAAE,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;QAAA,CAAE,CAAC;QACvD;YAAE,IAAI,EAAE,GAAG;YAAE,QAAQ,EAAE,IAAI;YAAE,KAAK,EAAE,MAAM;QAAA,CAAE;QAC5C;YAAE,IAAI,EAAE,GAAG;YAAE,QAAQ,EAAE,IAAI;YAAE,KAAK,EAAE,MAAM;QAAA,CAAE;KAC7C;IACD,YAAY,EAAE;oKACT,mBAAA,AAAgB,EAAE;QACrB;YAAE,IAAI,iKAAE,aAAU;QAAA,CAAE;QACpB;YAAE,IAAI,iKAAE,aAAU;QAAA,CAAE;QACpB;YAAE,IAAI,uKAAE,mBAAgB;QAAA,CAAE;KAC3B;IACD,aAAa,EAAE,CAAC;oKAAG,oBAAA,AAAiB,EAAE,EAAE;oKAAG,YAAA,AAAS,EAAE;KAAC;CACxD,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2564, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2570, "column": 0}, "map": {"version":3,"file":"area.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/area.ts"],"sourcesContent":["import { group } from '@antv/vendor/d3-array';\nimport { MarkComponent as MC } from '../runtime';\nimport { AreaMark } from '../spec';\nimport { AreaShape, AreaHV, AreaHVH, AreaSmooth, AreaVH } from '../shape';\nimport { MaybeSeries, MaybeZeroY1, MaybeZeroPadding } from '../transform';\nimport {\n  baseGeometryChannels,\n  basePostInference,\n  basePreInference,\n  tooltip1d,\n} from './utils';\n\nconst shape = {\n  area: AreaShape,\n  smooth: AreaSmooth,\n  hvh: AreaHVH,\n  vh: AreaVH,\n  hv: AreaHV,\n};\n\nexport type AreaOptions = Omit<AreaMark, 'type'>;\n\n/*\n * Convert value for each channel to area shapes.\n *\n *     \n *     \n *                                              y2\n *     \n *                          y1     xxxxxxxxxxxxx\n *                              xxxx            x\n *                           xxx                x\n *                         xxx                  x\n *             y0       xxx                     x\n *                xxxxxxx                       x\n *               x                              x\n *              xx                              x\n *              x                               x\n *              x                               x\n *              x                               x\n *              x                               x\n *              x                               x\n *              x                               x\n *              x                               x\n * xx\n *             y3             y4                y5\n */\n\nexport const Area: MC<AreaOptions> = () => {\n  return (index, scale, value, coordinate) => {\n    const { x: X, y: Y, y1: Y1, series: S } = value;\n    const { x, y } = scale;\n\n    // Group data by series field.\n    const series = S ? Array.from(group(index, (i) => S[i]).values()) : [index];\n    const I = series.map((group) => group[0]).filter((i) => i !== undefined);\n\n    // A group of data corresponds to one area.\n    const xoffset = (x?.getBandWidth?.() || 0) / 2;\n    const yoffset = (y?.getBandWidth?.() || 0) / 2;\n    const P = Array.from(series, (SI) => {\n      const l = SI.length;\n      const points = new Array(l * 2);\n\n      for (let idx = 0; idx < SI.length; idx++) {\n        const i = SI[idx];\n        points[idx] = coordinate.map([+X[i] + xoffset, +Y[i] + yoffset]); // y1\n        points[l + idx] = coordinate.map([+X[i] + xoffset, +Y1[i] + yoffset]); // y0\n      }\n\n      return points;\n    });\n\n    return [I, P, series];\n  };\n};\n\nArea.props = {\n  defaultShape: 'area',\n  defaultLabelShape: 'label',\n  composite: false,\n  shape,\n  channels: [\n    ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n    { name: 'x', required: true },\n    { name: 'y', required: true },\n    { name: 'size' },\n    { name: 'series', scale: 'band' },\n  ],\n  preInference: [\n    ...basePreInference(),\n    { type: MaybeSeries },\n    { type: MaybeZeroY1 },\n    { type: MaybeZeroPadding },\n  ],\n  postInference: [...basePostInference(), ...tooltip1d()],\n  interaction: {\n    shareTooltip: true,\n    seriesTooltip: true,\n    crosshairs: true,\n  },\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2678, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2684, "column": 0}, "map": {"version":3,"file":"link.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/link.ts"],"sourcesContent":["import { MarkComponent as MC, Vector2 } from '../runtime';\nimport { LineMark } from '../spec';\nimport { MaybeIdentityX, MaybeIdentityY } from '../transform';\nimport { LinkArc, LinkShape, LinkSmooth, LinkVHV } from '../shape';\nimport {\n  baseGeometryChannels,\n  basePostInference,\n  basePreInference,\n  createBandOffset,\n  tooltip2d,\n} from './utils';\n\nconst shape = {\n  link: LinkShape,\n  arc: LinkArc,\n  smooth: LinkSmooth,\n  vhv: LinkVHV,\n};\n\nexport type LinkOptions = Omit<LineMark, 'type'>;\n\n/**\n * Connect `start` to `end` with single line.\n */\nexport const Link: MC<LinkOptions> = (options) => {\n  return (index, scale, value, coordinate) => {\n    const { x: X, y: Y, x1: X1 = X, y1: Y1 = Y } = value;\n    const offset = createBandOffset(scale, value, options);\n    const P = index.map((i) => [\n      coordinate.map(offset([+X[i], +Y[i]], i)) as Vector2,\n      coordinate.map(offset([+X1[i], +Y1[i]], i)) as Vector2,\n    ]);\n    return [index, P];\n  };\n};\n\nLink.props = {\n  defaultShape: 'link',\n  defaultLabelShape: 'label',\n  composite: false,\n  shape,\n  channels: [\n    ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n    { name: 'x', required: true },\n    { name: 'y', required: true },\n  ],\n  preInference: [\n    ...basePreInference(),\n    { type: MaybeIdentityY },\n    { type: MaybeIdentityX },\n  ],\n  postInference: [...basePostInference(), ...tooltip2d()],\n};\n"],"names":[],"mappings":";;;AAGA,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE,UAAU,EAAE,OAAO,EAAE,MAAM,UAAU,CAAC;;;;AACnE,OAAO,EACL,oBAAoB,EACpB,iBAAiB,EACjB,gBAAgB,EAChB,gBAAgB,EAChB,SAAS,GACV,MAAM,SAAS,CAAC;;AARjB,OAAO,EAAE,cAAc,EAAE,cAAc,EAAE,MAAM,cAAc,CAAC;;;;AAU9D,MAAM,KAAK,GAAG;IACZ,IAAI,oMAAE,YAAS;IACf,GAAG,gMAAE,UAAO;IACZ,MAAM,yMAAE,aAAU;IAClB,GAAG,gMAAE,UAAO;CACb,CAAC;AAOK,MAAM,IAAI,GAAoB,CAAC,OAAO,EAAE,EAAE;IAC/C,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,EAAE;QACzC,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,GAAG,KAAK,CAAC;QACrD,MAAM,MAAM,IAAG,2KAAA,AAAgB,EAAC,KAAK,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;QACvD,MAAM,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAG,CAAD;gBACxB,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC;oBAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAAE,CAAC,CAAC,CAAC,CAAC,CAAC;iBAAC,EAAE,CAAC,CAAC,CAAY;gBACpD,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC;oBAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oBAAE,CAAC,EAAE,CAAC,CAAC,CAAC;iBAAC,EAAE,CAAC,CAAC,CAAY;aACvD,CAAC,CAAC;QACH,OAAO;YAAC,KAAK;YAAE,CAAC;SAAC,CAAC;IACpB,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,IAAI,CAAC,KAAK,GAAG;IACX,YAAY,EAAE,MAAM;IACpB,iBAAiB,EAAE,OAAO;IAC1B,SAAS,EAAE,KAAK;IAChB,KAAK;IACL,QAAQ,EAAE;YACL,+KAAA,AAAoB,EAAC;YAAE,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;QAAA,CAAE,CAAC;QACvD;YAAE,IAAI,EAAE,GAAG;YAAE,QAAQ,EAAE,IAAI;QAAA,CAAE;QAC7B;YAAE,IAAI,EAAE,GAAG;YAAE,QAAQ,EAAE,IAAI;QAAA,CAAE;KAC9B;IACD,YAAY,EAAE;oKACT,mBAAgB,AAAhB,EAAkB;QACrB;YAAE,IAAI,qKAAE,iBAAc;QAAA,CAAE;QACxB;YAAE,IAAI,qKAAE,iBAAc;QAAA,CAAE;KACzB;IACD,aAAa,EAAE,CAAC;oKAAG,oBAAA,AAAiB,EAAE,EAAE;oKAAG,YAAA,AAAS,EAAE;KAAC;CACxD,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2755, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2761, "column": 0}, "map": {"version":3,"file":"image.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/image.ts"],"sourcesContent":["import { Mark, MarkComponent as MC, Vector2 } from '../runtime';\nimport { ImageMark } from '../spec';\nimport { MaybeTuple, MaybeVisualPosition } from '../transform';\nimport { ImageShape } from '../shape';\nimport {\n  baseGeometryChannels,\n  basePostInference,\n  basePreInference,\n  createBandOffset,\n  tooltip2d,\n  visualMark,\n} from './utils';\n\nconst shape = {\n  image: ImageShape,\n};\n\nexport type ImageOptions = Omit<ImageMark, 'type'>;\n\nexport const Image: MC<ImageOptions> = (options) => {\n  const { cartesian } = options;\n  if (cartesian) return visualMark as Mark;\n  return (index, scale, value, coordinate) => {\n    const { x: X, y: Y } = value;\n    const offset = createBandOffset(scale, value, options);\n    const P = Array.from(index, (i) => {\n      const p: Vector2 = [+X[i], +Y[i]];\n      return [coordinate.map(offset(p, i))] as Vector2[];\n    });\n    return [index, P];\n  };\n};\n\nImage.props = {\n  defaultShape: 'image',\n  defaultLabelShape: 'label',\n  composite: false,\n  shape,\n  channels: [\n    ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n    { name: 'x', required: true },\n    { name: 'y', required: true },\n    { name: 'src', scale: 'identity' },\n    { name: 'size' },\n  ],\n  preInference: [\n    ...basePreInference(),\n    { type: MaybeTuple },\n    { type: MaybeVisualPosition },\n  ],\n  postInference: [...basePostInference(), ...tooltip2d()],\n};\n"],"names":[],"mappings":";;;AAGA,OAAO,EAAE,UAAU,EAAE,MAAM,UAAU,CAAC;AACtC,OAAO,EACL,oBAAoB,EACpB,iBAAiB,EACjB,gBAAgB,EAChB,gBAAgB,EAChB,SAAS,EACT,UAAU,GACX,MAAM,SAAS,CAAC;AATjB,OAAO,EAAE,UAAU,EAAE,mBAAmB,EAAE,MAAM,cAAc,CAAC;;;;;AAW/D,MAAM,KAAK,GAAG;IACZ,KAAK,wMAAE,aAAU;CAClB,CAAC;AAIK,MAAM,KAAK,GAAqB,CAAC,OAAO,EAAE,EAAE;IACjD,MAAM,EAAE,SAAS,EAAE,GAAG,OAAO,CAAC;IAC9B,IAAI,SAAS,EAAE,4JAAO,aAAkB,CAAC;IACzC,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,EAAE;QACzC,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,KAAK,CAAC;QAC7B,MAAM,MAAM,4JAAG,mBAAA,AAAgB,EAAC,KAAK,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;QACvD,MAAM,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,EAAE;YAChC,MAAM,CAAC,GAAY;gBAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAAE,CAAC,CAAC,CAAC,CAAC,CAAC;aAAC,CAAC;YAClC,OAAO;gBAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;aAAc,CAAC;QACrD,CAAC,CAAC,CAAC;QACH,OAAO;YAAC,KAAK;YAAE,CAAC;SAAC,CAAC;IACpB,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,KAAK,CAAC,KAAK,GAAG;IACZ,YAAY,EAAE,OAAO;IACrB,iBAAiB,EAAE,OAAO;IAC1B,SAAS,EAAE,KAAK;IAChB,KAAK;IACL,QAAQ,EAAE;oKACL,uBAAA,AAAoB,EAAC;YAAE,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;QAAA,CAAE,CAAC;QACvD;YAAE,IAAI,EAAE,GAAG;YAAE,QAAQ,EAAE,IAAI;QAAA,CAAE;QAC7B;YAAE,IAAI,EAAE,GAAG;YAAE,QAAQ,EAAE,IAAI;QAAA,CAAE;QAC7B;YAAE,IAAI,EAAE,KAAK;YAAE,KAAK,EAAE,UAAU;QAAA,CAAE;QAClC;YAAE,IAAI,EAAE,MAAM;QAAA,CAAE;KACjB;IACD,YAAY,EAAE;YACT,2KAAA,AAAgB,EAAE;QACrB;YAAE,IAAI,iKAAE,aAAU;QAAA,CAAE;QACpB;YAAE,IAAI,0KAAE,sBAAmB;QAAA,CAAE;KAC9B;IACD,aAAa,EAAE,CAAC;oKAAG,oBAAA,AAAiB,EAAE,EAAE;oKAAG,YAAA,AAAS,EAAE;KAAC;CACxD,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2834, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2840, "column": 0}, "map": {"version":3,"file":"polygon.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/polygon.ts"],"sourcesContent":["import { Vector2, MarkComponent as MC } from '../runtime';\nimport { PolygonMark } from '../spec';\nimport { PolygonShape, PolygonRibbon } from '../shape';\nimport {\n  baseGeometryChannels,\n  basePostInference,\n  basePreInference,\n  tooltip2d,\n} from './utils';\n\nconst shape = {\n  polygon: PolygonShape,\n  ribbon: PolygonRibbon,\n};\n\nexport type PolygonOptions = Omit<PolygonMark, 'type'>;\n\n/**\n * Convert value for each channel to polygon shapes.\n */\nexport const Polygon: MC<PolygonOptions> = () => {\n  return (index, scale, value, coordinate) => {\n    const Xn = Object.entries(value)\n      .filter(([key]) => key.startsWith('x'))\n      .map(([, value]) => value);\n\n    const Yn = Object.entries(value)\n      .filter(([key]) => key.startsWith('y'))\n      .map(([, value]) => value);\n\n    const P = index.map((i) => {\n      const Pn = [];\n      for (let j = 0; j < Xn.length; j++) {\n        const x = Xn[j][i];\n        if (x === undefined) break;\n        const y = Yn[j][i];\n        Pn.push(coordinate.map([+x, +y]));\n      }\n      return Pn as Vector2[];\n    });\n\n    return [index, P];\n  };\n};\n\nPolygon.props = {\n  defaultShape: 'polygon',\n  defaultLabelShape: 'label',\n  composite: false,\n  shape,\n  channels: [\n    ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n    { name: 'x', required: true },\n    { name: 'y', required: true },\n  ],\n  preInference: [...basePreInference()],\n  postInference: [...basePostInference(), ...tooltip2d()],\n};\n"],"names":[],"mappings":";;;AAEA,OAAO,EAAE,YAAY,EAAE,aAAa,EAAE,MAAM,UAAU,CAAC;;AACvD,OAAO,EACL,oBAAoB,EACpB,iBAAiB,EACjB,gBAAgB,EAChB,SAAS,GACV,MAAM,SAAS,CAAC;;;AAEjB,MAAM,KAAK,GAAG;IACZ,OAAO,gNAAE,eAAY;IACrB,MAAM,+MAAE,gBAAa;CACtB,CAAC;AAOK,MAAM,OAAO,GAAuB,GAAG,EAAE;IAC9C,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,EAAE;QACzC,MAAM,EAAE,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAC7B,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAG,CAAD,EAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CACtC,GAAG,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,EAAE,CAAG,CAAD,IAAM,CAAC,CAAC;QAE7B,MAAM,EAAE,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAC7B,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAG,CAAD,EAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CACtC,GAAG,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,EAAE,CAAG,CAAD,IAAM,CAAC,CAAC;QAE7B,MAAM,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;YACxB,MAAM,EAAE,GAAG,EAAE,CAAC;YACd,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,MAAM,EAAE,CAAC,EAAE,CAAE;gBAClC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACnB,IAAI,CAAC,KAAK,SAAS,EAAE,MAAM;gBAC3B,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACnB,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC;oBAAC,CAAC,CAAC;oBAAE,CAAC,CAAC;iBAAC,CAAC,CAAC,CAAC;aACnC;YACD,OAAO,EAAe,CAAC;QACzB,CAAC,CAAC,CAAC;QAEH,OAAO;YAAC,KAAK;YAAE,CAAC;SAAC,CAAC;IACpB,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,OAAO,CAAC,KAAK,GAAG;IACd,YAAY,EAAE,SAAS;IACvB,iBAAiB,EAAE,OAAO;IAC1B,SAAS,EAAE,KAAK;IAChB,KAAK;IACL,QAAQ,EAAE;oKACL,uBAAA,AAAoB,EAAC;YAAE,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;QAAA,CAAE,CAAC;QACvD;YAAE,IAAI,EAAE,GAAG;YAAE,QAAQ,EAAE,IAAI;QAAA,CAAE;QAC7B;YAAE,IAAI,EAAE,GAAG;YAAE,QAAQ,EAAE,IAAI;QAAA,CAAE;KAC9B;IACD,YAAY,EAAE,CAAC;WAAG,4KAAA,AAAgB,EAAE;KAAC;IACrC,aAAa,EAAE,CAAC;oKAAG,oBAAA,AAAiB,EAAE,EAAE;oKAAG,YAAA,AAAS,EAAE;KAAC;CACxD,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2901, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2907, "column": 0}, "map": {"version":3,"file":"box.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/box.ts"],"sourcesContent":["import { Band } from '@antv/scale';\nimport { Vector2, MarkComponent as MC } from '../runtime';\nimport { BoxMark } from '../spec';\nimport { BoxShape, BoxViolin } from '../shape';\nimport { MaybeZeroX } from '../transform';\nimport {\n  baseGeometryChannels,\n  basePostInference,\n  basePreInference,\n  tooltip1d,\n} from './utils';\n\nconst shape = {\n  box: BoxShape,\n  violin: BoxViolin,\n};\n\nexport type BoxOptions = Omit<BoxMark, 'type'>;\n\n/**\n * Convert value for each channel to box shapes.\n *\n * p0           p2          p1\n *    \n *              \n *              \n *              \n *              \n *              \n *              \n *               p3\n * p4  p5\n *                        \n *                        \n * p8  p9\n *                        \n *            p10         \n * p7  p6\n *              \n *              \n *              \n *              \n *              \n *              \n *              \n *              \n *   \n * p12         p11           p13\n */\nexport const Box: MC<BoxOptions> = () => {\n  return (index, scale, value, coordinate) => {\n    const { x: X, y: Y, y1: Y1, y2: Y2, y3: Y3, y4: Y4, series: S } = value;\n\n    // Calc width for each box.\n    // The scales for x and series channels must be band scale.\n    const xScale = scale.x as Band;\n    const series = scale.series as Band;\n\n    const P = Array.from(index, (i) => {\n      const groupWidth = xScale.getBandWidth(xScale.invert(+X[i]));\n      const ratio = series ? series.getBandWidth(series.invert(+S?.[i])) : 1;\n      const width = groupWidth * ratio;\n      const offset = (+S?.[i] || 0) * groupWidth;\n\n      const x = +X[i] + offset + width / 2;\n      const [low, q1, median, q3, high] = [\n        +Y[i],\n        +Y1[i],\n        +Y2[i],\n        +Y3[i],\n        +Y4[i],\n      ];\n\n      const P13 = [\n        [x - width / 2, high],\n        [x + width / 2, high],\n        [x, high],\n        [x, q3], // idx = 3\n        [x - width / 2, q3],\n        [x + width / 2, q3],\n        [x + width / 2, q1],\n        [x - width / 2, q1],\n        [x - width / 2, median], // idx = 8\n        [x + width / 2, median],\n        [x, q1], // idx = 10\n        [x, low],\n        [x - width / 2, low],\n        [x + width / 2, low],\n      ];\n\n      return P13.map((d) => coordinate.map(d)) as Vector2[];\n    });\n    return [index, P];\n  };\n};\n\nBox.props = {\n  defaultShape: 'box',\n  defaultLabelShape: 'label',\n  composite: false,\n  shape,\n  channels: [\n    ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n    { name: 'x', scale: 'band', required: true },\n    { name: 'y', required: true },\n    { name: 'series', scale: 'band' },\n  ],\n  preInference: [...basePreInference(), { type: MaybeZeroX }],\n  postInference: [...basePostInference(), ...tooltip1d()],\n  interaction: {\n    shareTooltip: true,\n  },\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3044, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3050, "column": 0}, "map": {"version":3,"file":"vector.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/vector.ts"],"sourcesContent":["import { MarkComponent as MC, Vector2 } from '../runtime';\nimport { VectorMark } from '../spec';\nimport { VectorShape } from '../shape';\nimport {\n  baseGeometryChannels,\n  basePostInference,\n  basePreInference,\n  tooltip2d,\n} from './utils';\n\nconst shape = {\n  vector: VectorShape,\n};\n\nexport type VectorOptions = Omit<VectorMark, 'type'>;\n\n/**\n * Convert value for each channel to start, end.\n * The angle starts from the X axis(right direction).\n */\nexport const Vector: MC<VectorOptions> = () => {\n  return (index, scale, value, coordinate) => {\n    const { x: X, y: Y, size: S, rotate: R } = value;\n    const [width, height] = coordinate.getSize();\n\n    const P = index.map((i) => {\n      const angle = (+R[i] / 180) * Math.PI;\n      const s = +S[i];\n      const a = s / width;\n      const b = s / height;\n\n      const vx = a * Math.cos(angle);\n      const vy = -b * Math.sin(angle);\n\n      return [\n        coordinate.map([+X[i] - vx / 2, +Y[i] - vy / 2]),\n        coordinate.map([+X[i] + vx / 2, +Y[i] + vy / 2]),\n      ] as Vector2[];\n    });\n\n    return [index, P];\n  };\n};\n\nVector.props = {\n  defaultShape: 'vector',\n  defaultLabelShape: 'label',\n  composite: false,\n  shape,\n  channels: [\n    ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n    { name: 'x', required: true },\n    { name: 'y', required: true },\n    { name: 'rotate', required: true, scale: 'identity' },\n    { name: 'size', required: true },\n  ],\n  preInference: [...basePreInference()],\n  postInference: [...basePostInference(), ...tooltip2d()],\n};\n"],"names":[],"mappings":";;;AAEA,OAAO,EAAE,WAAW,EAAE,MAAM,UAAU,CAAC;AACvC,OAAO,EACL,oBAAoB,EACpB,iBAAiB,EACjB,gBAAgB,EAChB,SAAS,GACV,MAAM,SAAS,CAAC;;;AAEjB,MAAM,KAAK,GAAG;IACZ,MAAM,4MAAE,cAAW;CACpB,CAAC;AAQK,MAAM,MAAM,GAAsB,GAAG,EAAE;IAC5C,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,EAAE;QACzC,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,GAAG,KAAK,CAAC;QACjD,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,UAAU,CAAC,OAAO,EAAE,CAAC;QAE7C,MAAM,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;YACxB,MAAM,KAAK,GAAG,AAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,EAAG,IAAI,CAAC,EAAE,CAAC;YACtC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAChB,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;YACpB,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC;YAErB,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAC/B,MAAM,EAAE,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAEhC,OAAO;gBACL,UAAU,CAAC,GAAG,CAAC;oBAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC;oBAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC;iBAAC,CAAC;gBAChD,UAAU,CAAC,GAAG,CAAC;oBAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC;oBAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC;iBAAC,CAAC;aACpC,CAAC;QACjB,CAAC,CAAC,CAAC;QAEH,OAAO;YAAC,KAAK;YAAE,CAAC;SAAC,CAAC;IACpB,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,MAAM,CAAC,KAAK,GAAG;IACb,YAAY,EAAE,QAAQ;IACtB,iBAAiB,EAAE,OAAO;IAC1B,SAAS,EAAE,KAAK;IAChB,KAAK;IACL,QAAQ,EAAE;oKACL,uBAAA,AAAoB,EAAC;YAAE,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;QAAA,CAAE,CAAC;QACvD;YAAE,IAAI,EAAE,GAAG;YAAE,QAAQ,EAAE,IAAI;QAAA,CAAE;QAC7B;YAAE,IAAI,EAAE,GAAG;YAAE,QAAQ,EAAE,IAAI;QAAA,CAAE;QAC7B;YAAE,IAAI,EAAE,QAAQ;YAAE,QAAQ,EAAE,IAAI;YAAE,KAAK,EAAE,UAAU;QAAA,CAAE;QACrD;YAAE,IAAI,EAAE,MAAM;YAAE,QAAQ,EAAE,IAAI;QAAA,CAAE;KACjC;IACD,YAAY,EAAE,CAAC;WAAG,4KAAA,AAAgB,EAAE;KAAC;IACrC,aAAa,EAAE,CAAC;oKAAG,oBAAA,AAAiB,EAAE,EAAE;oKAAG,YAAA,AAAS,EAAE;KAAC;CACxD,CAAC","ignoreList":[0]}},
    {"offset": {"line": 3123, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3129, "column": 0}, "map": {"version":3,"file":"lineX.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/lineX.ts"],"sourcesContent":["import { deepMix } from '@antv/util';\nimport { MarkComponent as MC, Vector2 } from '../runtime';\nimport { LineXMark } from '../spec';\nimport { LineXY } from '../shape';\nimport { MaybeTupleX } from '../transform';\nimport {\n  basePostInference,\n  baseAnnotationChannels,\n  basePreInference,\n  createBandOffset,\n} from './utils';\n\nconst shape = {\n  line: LineXY,\n};\n\nexport type LineXOptions = Omit<LineXMark, 'type'>;\n\nexport const LineX: MC<LineXOptions> = (options) => {\n  return (index, scale, value, coordinate) => {\n    const { x: X } = value;\n    const offset = createBandOffset(\n      scale,\n      value,\n      deepMix({ style: { bandOffset: 0 } }, options),\n    );\n    const P = Array.from(index, (i) => {\n      const p1 = [X[i], 1] as Vector2;\n      const p2 = [X[i], 0] as Vector2;\n      return [p1, p2].map((d) => coordinate.map(offset(d, i))) as Vector2[];\n    });\n    return [index, P];\n  };\n};\n\nLineX.props = {\n  defaultShape: 'line',\n  defaultLabelShape: 'label',\n  composite: false,\n  shape,\n  channels: [\n    ...baseAnnotationChannels({ shapes: Object.keys(shape) }),\n    { name: 'x', required: true },\n  ],\n  preInference: [...basePreInference(), { type: MaybeTupleX }],\n  postInference: [...basePostInference()],\n};\n"],"names":[],"mappings":";;;AAGA,OAAO,EAAE,MAAM,EAAE,MAAM,UAAU,CAAC;AAElC,OAAO,EACL,iBAAiB,EACjB,sBAAsB,EACtB,gBAAgB,EAChB,gBAAgB,GACjB,MAAM,SAAS,CAAC;AAVjB,OAAO,EAAE,OAAO,EAAE,MAAM,YAAY,CAAC;AAIrC,OAAO,EAAE,WAAW,EAAE,MAAM,cAAc,CAAC;;;;;AAQ3C,MAAM,KAAK,GAAG;IACZ,IAAI,mMAAE,SAAM;CACb,CAAC;AAIK,MAAM,KAAK,GAAqB,CAAC,OAAO,EAAE,EAAE;IACjD,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,EAAE;QACzC,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,KAAK,CAAC;QACvB,MAAM,MAAM,4JAAG,mBAAgB,AAAhB,EACb,KAAK,EACL,KAAK,2MACL,UAAA,AAAO,EAAC;YAAE,KAAK,EAAE;gBAAE,UAAU,EAAE,CAAC;YAAA,CAAE;QAAA,CAAE,EAAE,OAAO,CAAC,CAC/C,CAAC;QACF,MAAM,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,EAAE;YAChC,MAAM,EAAE,GAAG;gBAAC,CAAC,CAAC,CAAC,CAAC;gBAAE,CAAC;aAAY,CAAC;YAChC,MAAM,EAAE,GAAG;gBAAC,CAAC,CAAC,CAAC,CAAC;gBAAE,CAAC;aAAY,CAAC;YAChC,OAAO;gBAAC,EAAE;gBAAE,EAAE;aAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAG,CAAD,SAAW,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAc,CAAC;QACxE,CAAC,CAAC,CAAC;QACH,OAAO;YAAC,KAAK;YAAE,CAAC;SAAC,CAAC;IACpB,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,KAAK,CAAC,KAAK,GAAG;IACZ,YAAY,EAAE,MAAM;IACpB,iBAAiB,EAAE,OAAO;IAC1B,SAAS,EAAE,KAAK;IAChB,KAAK;IACL,QAAQ,EAAE;oKACL,yBAAA,AAAsB,EAAC;YAAE,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;QAAA,CAAE,CAAC;QACzD;YAAE,IAAI,EAAE,GAAG;YAAE,QAAQ,EAAE,IAAI;QAAA,CAAE;KAC9B;IACD,YAAY,EAAE,CAAC;oKAAG,mBAAA,AAAgB,EAAE;QAAE;YAAE,IAAI,kKAAE,cAAW;QAAA,CAAE;KAAC;IAC5D,aAAa,EAAE,CAAC;oKAAG,oBAAA,AAAiB,EAAE;KAAC;CACxC,CAAC","ignoreList":[0]}},
    {"offset": {"line": 3195, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3201, "column": 0}, "map": {"version":3,"file":"lineY.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/lineY.ts"],"sourcesContent":["import { deepMix } from '@antv/util';\nimport { MarkComponent as MC, Vector2 } from '../runtime';\nimport { LineYMark } from '../spec';\nimport { LineXY } from '../shape';\nimport { MaybeTupleY } from '../transform';\nimport {\n  baseAnnotationChannels,\n  basePreInference,\n  basePostInference,\n  createBandOffset,\n} from './utils';\n\nconst shape = {\n  line: LineXY,\n};\n\nexport type LineYOptions = Omit<LineYMark, 'type'>;\n\nexport const LineY: MC<LineYOptions> = (options) => {\n  return (index, scale, value, coordinate) => {\n    const { y: Y } = value;\n    const offset = createBandOffset(\n      scale,\n      value,\n      deepMix({ style: { bandOffset: 0 } }, options),\n    );\n    const P = Array.from(index, (i) => {\n      const p1 = [0, Y[i]] as Vector2;\n      const p2 = [1, Y[i]] as Vector2;\n      return [p1, p2].map((d) => coordinate.map(offset(d, i))) as Vector2[];\n    });\n    return [index, P];\n  };\n};\n\nLineY.props = {\n  defaultShape: 'line',\n  defaultLabelShape: 'label',\n  composite: false,\n  shape,\n  channels: [\n    ...baseAnnotationChannels({ shapes: Object.keys(shape) }),\n    { name: 'y', required: true },\n  ],\n  preInference: [...basePreInference(), { type: MaybeTupleY }],\n  postInference: [...basePostInference()],\n};\n"],"names":[],"mappings":";;;AAGA,OAAO,EAAE,MAAM,EAAE,MAAM,UAAU,CAAC;AAElC,OAAO,EACL,sBAAsB,EACtB,gBAAgB,EAChB,iBAAiB,EACjB,gBAAgB,GACjB,MAAM,SAAS,CAAC;AAVjB,OAAO,EAAE,OAAO,EAAE,MAAM,YAAY,CAAC;AAIrC,OAAO,EAAE,WAAW,EAAE,MAAM,cAAc,CAAC;;;;;AAQ3C,MAAM,KAAK,GAAG;IACZ,IAAI,mMAAE,SAAM;CACb,CAAC;AAIK,MAAM,KAAK,GAAqB,CAAC,OAAO,EAAE,EAAE;IACjD,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,EAAE;QACzC,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,KAAK,CAAC;QACvB,MAAM,MAAM,4JAAG,mBAAgB,AAAhB,EACb,KAAK,EACL,KAAK,2MACL,UAAA,AAAO,EAAC;YAAE,KAAK,EAAE;gBAAE,UAAU,EAAE,CAAC;YAAA,CAAE;QAAA,CAAE,EAAE,OAAO,CAAC,CAC/C,CAAC;QACF,MAAM,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,EAAE;YAChC,MAAM,EAAE,GAAG;gBAAC,CAAC;gBAAE,CAAC,CAAC,CAAC,CAAC;aAAY,CAAC;YAChC,MAAM,EAAE,GAAG;gBAAC,CAAC;gBAAE,CAAC,CAAC,CAAC,CAAC;aAAY,CAAC;YAChC,OAAO;gBAAC,EAAE;gBAAE,EAAE;aAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAG,CAAD,SAAW,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAc,CAAC;QACxE,CAAC,CAAC,CAAC;QACH,OAAO;YAAC,KAAK;YAAE,CAAC;SAAC,CAAC;IACpB,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,KAAK,CAAC,KAAK,GAAG;IACZ,YAAY,EAAE,MAAM;IACpB,iBAAiB,EAAE,OAAO;IAC1B,SAAS,EAAE,KAAK;IAChB,KAAK;IACL,QAAQ,EAAE;oKACL,yBAAA,AAAsB,EAAC;YAAE,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;QAAA,CAAE,CAAC;QACzD;YAAE,IAAI,EAAE,GAAG;YAAE,QAAQ,EAAE,IAAI;QAAA,CAAE;KAC9B;IACD,YAAY,EAAE,CAAC;oKAAG,mBAAA,AAAgB,EAAE;QAAE;YAAE,IAAI,kKAAE,cAAW;QAAA,CAAE;KAAC;IAC5D,aAAa,EAAE,CAAC;oKAAG,oBAAA,AAAiB,EAAE;KAAC;CACxC,CAAC","ignoreList":[0]}},
    {"offset": {"line": 3267, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3273, "column": 0}, "map": {"version":3,"file":"connector.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/connector.ts"],"sourcesContent":["import { MarkComponent as MC } from '../runtime';\nimport { ConnectorMark } from '../spec';\nimport { ConnectorShape } from '../shape';\nimport {\n  baseAnnotationChannels,\n  basePostInference,\n  basePreInference,\n} from './utils';\nimport { Link } from './link';\n\nconst shape = {\n  connector: ConnectorShape,\n};\n\nexport type ConnectorOptions = Omit<ConnectorMark, 'type'>;\n\nexport const Connector: MC<ConnectorOptions> = (...args) => {\n  return Link(...args);\n};\n\nConnector.props = {\n  defaultShape: 'connector',\n  defaultLabelShape: 'label',\n  composite: false,\n  shape,\n  channels: [\n    ...baseAnnotationChannels({ shapes: Object.keys(shape) }),\n    { name: 'x', required: true },\n    { name: 'y', required: true },\n  ],\n  preInference: [...basePreInference()],\n  postInference: [...basePostInference()],\n};\n"],"names":[],"mappings":";;;AAEA,OAAO,EAAE,cAAc,EAAE,MAAM,UAAU,CAAC;AAM1C,OAAO,EAAE,IAAI,EAAE,MAAM,QAAQ,CAAC;AAL9B,OAAO,EACL,sBAAsB,EACtB,iBAAiB,EACjB,gBAAgB,GACjB,MAAM,SAAS,CAAC;;;;AAGjB,MAAM,KAAK,GAAG;IACZ,SAAS,wNAAE,iBAAc;CAC1B,CAAC;AAIK,MAAM,SAAS,GAAyB,CAAC,GAAG,IAAI,EAAE,EAAE;IACzD,+JAAO,OAAA,AAAI,CAAC,IAAG,IAAI,CAAC,CAAC;AACvB,CAAC,CAAC;AAEF,SAAS,CAAC,KAAK,GAAG;IAChB,YAAY,EAAE,WAAW;IACzB,iBAAiB,EAAE,OAAO;IAC1B,SAAS,EAAE,KAAK;IAChB,KAAK;IACL,QAAQ,EAAE;oKACL,yBAAA,AAAsB,EAAC;YAAE,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;QAAA,CAAE,CAAC;QACzD;YAAE,IAAI,EAAE,GAAG;YAAE,QAAQ,EAAE,IAAI;QAAA,CAAE;QAC7B;YAAE,IAAI,EAAE,GAAG;YAAE,QAAQ,EAAE,IAAI;QAAA,CAAE;KAC9B;IACD,YAAY,EAAE,CAAC;oKAAG,mBAAA,AAAgB,EAAE;KAAC;IACrC,aAAa,EAAE,CAAC;oKAAG,oBAAA,AAAiB,EAAE;KAAC;CACxC,CAAC","ignoreList":[0]}},
    {"offset": {"line": 3313, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3319, "column": 0}, "map": {"version":3,"file":"range.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/range.ts"],"sourcesContent":["import { Mark, MarkComponent as MC, Vector2 } from '../runtime';\nimport { RangeMark } from '../spec';\nimport { RangeShape } from '../shape';\nimport {\n  baseAnnotationChannels,\n  basePostInference,\n  basePreInference,\n} from './utils';\n\nfunction extend(channel: string, extended: boolean, value, scale) {\n  if (extended) return () => [0, 1];\n  const { [channel]: C, [`${channel}1`]: C1 } = value;\n  return (i) => {\n    const offset = scale.getBandWidth?.(scale.invert(+C1[i])) || 0;\n    return [C[i], C1[i] + offset];\n  };\n}\n\nexport function AbstractRange(\n  options: { extendX?: boolean; extendY?: boolean } = {},\n): Mark {\n  const { extendX = false, extendY = false } = options;\n  return (index, scale, value, coordinate) => {\n    const x = extend('x', extendX, value, scale.x);\n    const y = extend('y', extendY, value, scale.y);\n    const P = Array.from(index, (i) => {\n      const [x1, x2] = x(i);\n      const [y1, y2] = y(i);\n\n      const p1 = [x1, y1];\n      const p2 = [x2, y1];\n      const p3 = [x2, y2];\n      const p4 = [x1, y2];\n      return [p1, p2, p3, p4].map((d) => coordinate.map(d)) as Vector2[];\n    });\n    return [index, P];\n  };\n}\n\nconst shape = { range: RangeShape };\n\nexport type RangeOptions = Omit<RangeMark, 'type'>;\n\nexport const Range: MC<RangeOptions> = () => {\n  return AbstractRange();\n};\n\nRange.props = {\n  defaultShape: 'range',\n  defaultLabelShape: 'label',\n  composite: false,\n  shape,\n  channels: [\n    ...baseAnnotationChannels({ shapes: Object.keys(shape) }),\n    { name: 'x', required: true },\n    { name: 'y', required: true },\n  ],\n  preInference: [...basePreInference()],\n  postInference: [...basePostInference()],\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3410, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3416, "column": 0}, "map": {"version":3,"file":"rangeX.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/rangeX.ts"],"sourcesContent":["import { MarkComponent as MC } from '../runtime';\nimport { RangeXMark } from '../spec';\nimport { RangeShape } from '../shape';\nimport { MaybeDefaultX } from '../transform';\nimport {\n  baseAnnotationChannels,\n  basePostInference,\n  basePreInference,\n} from './utils';\nimport { AbstractRange } from './range';\n\nconst shape = {\n  range: RangeShape,\n};\n\nexport type RangeXOptions = Omit<RangeXMark, 'type'>;\n\nexport const RangeX: MC<RangeXOptions> = () => {\n  return AbstractRange({ extendY: true });\n};\n\nRangeX.props = {\n  defaultShape: 'range',\n  defaultLabelShape: 'label',\n  composite: false,\n  shape,\n  channels: [\n    ...baseAnnotationChannels({ shapes: Object.keys(shape) }),\n    { name: 'x', required: true },\n  ],\n  preInference: [...basePreInference(), { type: MaybeDefaultX }],\n  postInference: [...basePostInference()],\n};\n"],"names":[],"mappings":";;;AAEA,OAAO,EAAE,UAAU,EAAE,MAAM,UAAU,CAAC;AAOtC,OAAO,EAAE,aAAa,EAAE,MAAM,SAAS,CAAC;AALxC,OAAO,EACL,sBAAsB,EACtB,iBAAiB,EACjB,gBAAgB,GACjB,MAAM,SAAS,CAAC;AALjB,OAAO,EAAE,aAAa,EAAE,MAAM,cAAc,CAAC;;;;;AAQ7C,MAAM,KAAK,GAAG;IACZ,KAAK,yMAAE,aAAU;CAClB,CAAC;AAIK,MAAM,MAAM,GAAsB,GAAG,EAAE;IAC5C,QAAO,wKAAA,AAAa,EAAC;QAAE,OAAO,EAAE,IAAI;IAAA,CAAE,CAAC,CAAC;AAC1C,CAAC,CAAC;AAEF,MAAM,CAAC,KAAK,GAAG;IACb,YAAY,EAAE,OAAO;IACrB,iBAAiB,EAAE,OAAO;IAC1B,SAAS,EAAE,KAAK;IAChB,KAAK;IACL,QAAQ,EAAE;oKACL,yBAAA,AAAsB,EAAC;YAAE,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;QAAA,CAAE,CAAC;QACzD;YAAE,IAAI,EAAE,GAAG;YAAE,QAAQ,EAAE,IAAI;QAAA,CAAE;KAC9B;IACD,YAAY,EAAE,CAAC;oKAAG,mBAAA,AAAgB,EAAE;QAAE;YAAE,IAAI,oKAAE,gBAAa;QAAA,CAAE;KAAC;IAC9D,aAAa,EAAE,CAAC;oKAAG,oBAAA,AAAiB,EAAE;KAAC;CACxC,CAAC","ignoreList":[0]}},
    {"offset": {"line": 3459, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3465, "column": 0}, "map": {"version":3,"file":"rangeY.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/rangeY.ts"],"sourcesContent":["import { MarkComponent as MC } from '../runtime';\nimport { RangeYMark } from '../spec';\nimport { RangeShape } from '../shape';\nimport { MaybeDefaultY } from '../transform';\nimport {\n  baseAnnotationChannels,\n  basePostInference,\n  basePreInference,\n} from './utils';\nimport { AbstractRange } from './range';\n\nconst shape = {\n  range: RangeShape,\n};\n\nexport type RangeYOptions = Omit<RangeYMark, 'type'>;\n\nexport const RangeY: MC<RangeYOptions> = () => {\n  return AbstractRange({ extendX: true });\n};\n\nRangeY.props = {\n  defaultShape: 'range',\n  defaultLabelShape: 'label',\n  composite: false,\n  shape,\n  channels: [\n    ...baseAnnotationChannels({ shapes: Object.keys(shape) }),\n    { name: 'y', required: true },\n  ],\n  preInference: [...basePreInference(), { type: MaybeDefaultY }],\n  postInference: [...basePostInference()],\n};\n"],"names":[],"mappings":";;;AAEA,OAAO,EAAE,UAAU,EAAE,MAAM,UAAU,CAAC;AAOtC,OAAO,EAAE,aAAa,EAAE,MAAM,SAAS,CAAC;AALxC,OAAO,EACL,sBAAsB,EACtB,iBAAiB,EACjB,gBAAgB,GACjB,MAAM,SAAS,CAAC;AALjB,OAAO,EAAE,aAAa,EAAE,MAAM,cAAc,CAAC;;;;;AAQ7C,MAAM,KAAK,GAAG;IACZ,KAAK,yMAAE,aAAU;CAClB,CAAC;AAIK,MAAM,MAAM,GAAsB,GAAG,EAAE;IAC5C,QAAO,wKAAA,AAAa,EAAC;QAAE,OAAO,EAAE,IAAI;IAAA,CAAE,CAAC,CAAC;AAC1C,CAAC,CAAC;AAEF,MAAM,CAAC,KAAK,GAAG;IACb,YAAY,EAAE,OAAO;IACrB,iBAAiB,EAAE,OAAO;IAC1B,SAAS,EAAE,KAAK;IAChB,KAAK;IACL,QAAQ,EAAE;oKACL,yBAAA,AAAsB,EAAC;YAAE,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;QAAA,CAAE,CAAC;QACzD;YAAE,IAAI,EAAE,GAAG;YAAE,QAAQ,EAAE,IAAI;QAAA,CAAE;KAC9B;IACD,YAAY,EAAE,CAAC;oKAAG,mBAAA,AAAgB,EAAE;QAAE;YAAE,IAAI,oKAAE,gBAAa;QAAA,CAAE;KAAC;IAC9D,aAAa,EAAE,CAAC;oKAAG,oBAAA,AAAiB,EAAE;KAAC;CACxC,CAAC","ignoreList":[0]}},
    {"offset": {"line": 3508, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3514, "column": 0}, "map": {"version":3,"file":"path.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/path.ts"],"sourcesContent":["import { MarkComponent as MC } from '../runtime';\nimport { PathMark } from '../spec';\nimport { PathShape, PathHollow } from '../shape';\nimport {\n  baseGeometryChannels,\n  basePostInference,\n  basePreInference,\n} from './utils';\n\nconst shape = {\n  path: PathShape,\n  hollow: PathHollow,\n};\n\nexport type PathOptions = Omit<PathMark, 'type'>;\n\n/**\n * Draw a path.\n */\nexport const Path: MC<PathOptions> = (options) => {\n  return (index, scale, value, coordinate) => {\n    // The points is meaning less for path mark,\n    // because the position of path shapes specified\n    // by the d option. So set [0, 0] for render pipeline.\n    return [index, index.map(() => [[0, 0]])];\n  };\n};\n\nPath.props = {\n  defaultShape: 'path',\n  defaultLabelShape: 'label',\n  shape,\n  composite: false,\n  channels: [\n    ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n    { name: 'd', scale: 'identity' },\n  ],\n  preInference: [...basePreInference()],\n  postInference: [...basePostInference()],\n};\n"],"names":[],"mappings":";;;AAEA,OAAO,EAAE,SAAS,EAAE,UAAU,EAAE,MAAM,UAAU,CAAC;;AACjD,OAAO,EACL,oBAAoB,EACpB,iBAAiB,EACjB,gBAAgB,GACjB,MAAM,SAAS,CAAC;;;AAEjB,MAAM,KAAK,GAAG;IACZ,IAAI,oMAAE,YAAS;IACf,MAAM,yMAAE,aAAU;CACnB,CAAC;AAOK,MAAM,IAAI,GAAoB,CAAC,OAAO,EAAE,EAAE;IAC/C,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,EAAE;QACzC,4CAA4C;QAC5C,gDAAgD;QAChD,sDAAsD;QACtD,OAAO;YAAC,KAAK;YAAE,KAAK,CAAC,GAAG,CAAC,GAAG,CAAG,CAAD;oBAAE;wBAAC,CAAC;wBAAE,CAAC;qBAAC;iBAAC,CAAC;SAAC,CAAC;IAC5C,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,IAAI,CAAC,KAAK,GAAG;IACX,YAAY,EAAE,MAAM;IACpB,iBAAiB,EAAE,OAAO;IAC1B,KAAK;IACL,SAAS,EAAE,KAAK;IAChB,QAAQ,EAAE;oKACL,uBAAA,AAAoB,EAAC;YAAE,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;QAAA,CAAE,CAAC;QACvD;YAAE,IAAI,EAAE,GAAG;YAAE,KAAK,EAAE,UAAU;QAAA,CAAE;KACjC;IACD,YAAY,EAAE,CAAC;oKAAG,mBAAA,AAAgB,EAAE;KAAC;IACrC,aAAa,EAAE,CAAC;oKAAG,oBAAA,AAAiB,EAAE;KAAC;CACxC,CAAC","ignoreList":[0]}},
    {"offset": {"line": 3563, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3569, "column": 0}, "map": {"version":3,"file":"shape.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/shape.ts"],"sourcesContent":["import { Mark, MarkComponent as MC, Vector2 } from '../runtime';\nimport { ShapeMark } from '../spec';\nimport { ShapeShape } from '../shape';\nimport {\n  MaybeTuple,\n  MaybeVisualPosition,\n  MaybeFunctionAttribute,\n} from '../transform';\nimport { basePreInference, createBandOffset, visualMark } from './utils';\n\nconst shape = {\n  shape: ShapeShape,\n};\n\nexport type ShapeOptions = Omit<ShapeMark, 'type'>;\n\n/**\n * @todo Unify with text, image and point.\n */\nexport const Shape: MC<ShapeOptions> = (options) => {\n  const { cartesian } = options;\n  if (cartesian) return visualMark as Mark;\n  return (index, scale, value, coordinate) => {\n    const { x: X, y: Y } = value;\n    const offset = createBandOffset(scale, value, options);\n    const P = Array.from(index, (i) => {\n      const p: Vector2 = [+X[i], +Y[i]];\n      return [coordinate.map(offset(p, i))] as Vector2[];\n    });\n    return [index, P];\n  };\n};\n\nShape.props = {\n  defaultShape: 'shape',\n  defaultLabelShape: 'label',\n  composite: false,\n  shape,\n  channels: [\n    { name: 'x', required: true },\n    { name: 'y', required: true },\n  ],\n  preInference: [\n    ...basePreInference(),\n    { type: MaybeTuple },\n    { type: MaybeVisualPosition },\n    { type: MaybeFunctionAttribute },\n  ],\n};\n"],"names":[],"mappings":";;;AAEA,OAAO,EAAE,UAAU,EAAE,MAAM,UAAU,CAAC;AAMtC,OAAO,EAAE,gBAAgB,EAAE,gBAAgB,EAAE,UAAU,EAAE,MAAM,SAAS,CAAC;AALzE,OAAO,EACL,UAAU,EACV,mBAAmB,EACnB,sBAAsB,GACvB,MAAM,cAAc,CAAC;;;;;;AAGtB,MAAM,KAAK,GAAG;IACZ,KAAK,wMAAE,aAAU;CAClB,CAAC;AAOK,MAAM,KAAK,GAAqB,CAAC,OAAO,EAAE,EAAE;IACjD,MAAM,EAAE,SAAS,EAAE,GAAG,OAAO,CAAC;IAC9B,IAAI,SAAS,EAAE,4JAAO,aAAkB,CAAC;IACzC,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,EAAE;QACzC,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,KAAK,CAAC;QAC7B,MAAM,MAAM,4JAAG,mBAAA,AAAgB,EAAC,KAAK,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;QACvD,MAAM,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,EAAE;YAChC,MAAM,CAAC,GAAY;gBAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAAE,CAAC,CAAC,CAAC,CAAC,CAAC;aAAC,CAAC;YAClC,OAAO;gBAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;aAAc,CAAC;QACrD,CAAC,CAAC,CAAC;QACH,OAAO;YAAC,KAAK;YAAE,CAAC;SAAC,CAAC;IACpB,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,KAAK,CAAC,KAAK,GAAG;IACZ,YAAY,EAAE,OAAO;IACrB,iBAAiB,EAAE,OAAO;IAC1B,SAAS,EAAE,KAAK;IAChB,KAAK;IACL,QAAQ,EAAE;QACR;YAAE,IAAI,EAAE,GAAG;YAAE,QAAQ,EAAE,IAAI;QAAA,CAAE;QAC7B;YAAE,IAAI,EAAE,GAAG;YAAE,QAAQ,EAAE,IAAI;QAAA,CAAE;KAC9B;IACD,YAAY,EAAE;oKACT,mBAAA,AAAgB,EAAE;QACrB;YAAE,IAAI,iKAAE,aAAU;QAAA,CAAE;QACpB;YAAE,IAAI,0KAAE,sBAAmB;QAAA,CAAE;QAC7B;YAAE,IAAI,6KAAE,yBAAsB;QAAA,CAAE;KACjC;CACF,CAAC","ignoreList":[0]}},
    {"offset": {"line": 3632, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3638, "column": 0}, "map": {"version":3,"file":"density.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/density.ts"],"sourcesContent":["import { Band } from '@antv/scale';\nimport { MarkComponent as MC, Vector2 } from '../runtime';\nimport { DensityMark } from '../spec';\nimport { DensityShape } from '../shape';\nimport { MaybeZeroY1, MaybeZeroX } from '../transform';\nimport {\n  baseGeometryChannels,\n  basePostInference,\n  basePreInference,\n  tooltip1d,\n} from './utils';\n\nconst shape = {\n  density: DensityShape,\n};\n\nexport type DensityOptions = Omit<DensityMark, 'type'>;\n\nexport const Density: MC<DensityOptions> = () => {\n  return (index, scale, value, coordinate) => {\n    const { x: X, series: S } = value;\n\n    const Yn = Object.entries(value)\n      .filter(([key]) => key.startsWith('y'))\n      .map(([, value]) => value);\n\n    const SZn = Object.entries(value)\n      .filter(([key]) => key.startsWith('size'))\n      .map(([, value]) => value);\n\n    // Because x and y channel is not strictly required in Line.props,\n    // it should throw error with empty x or y channels.\n    if (X === undefined || Yn === undefined || SZn === undefined) {\n      throw new Error('Missing encode for x or y or size channel.');\n    }\n\n    // Calc width for each box.\n    // The scales for x and series channels must be band scale.\n    const xScale = scale.x as Band;\n    const series = scale.series as Band;\n\n    const P = Array.from(index, (i) => {\n      const groupWidth = xScale.getBandWidth(xScale.invert(+X[i]));\n      const ratio = series ? series.getBandWidth(series.invert(+S?.[i])) : 1;\n      const width = groupWidth * ratio;\n      const offset = (+S?.[i] || 0) * groupWidth;\n\n      const x = +X[i] + offset + width / 2;\n\n      const PN = [\n        ...Yn.map((_, idx) => [x + +SZn[idx][i] / index.length, +Yn[idx][i]]), // right\n        ...Yn.map((_, idx) => [\n          x - +SZn[idx][i] / index.length,\n          +Yn[idx][i],\n        ]).reverse(), // left\n      ];\n\n      return PN.map((p) => coordinate.map(p)) as Vector2[];\n    });\n    return [index, P];\n  };\n};\n\nDensity.props = {\n  defaultShape: 'density',\n  defaultLabelShape: 'label',\n  composite: false,\n  shape,\n  channels: [\n    ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n    { name: 'x', scale: 'band', required: true },\n    { name: 'y', required: true },\n    { name: 'size', required: true },\n    { name: 'series', scale: 'band' },\n    { name: 'size', required: true, scale: 'identity' },\n  ],\n  preInference: [\n    ...basePreInference(),\n    { type: MaybeZeroY1 },\n    { type: MaybeZeroX },\n  ],\n  postInference: [...basePostInference(), ...tooltip1d()],\n  interaction: { shareTooltip: true },\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3738, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3744, "column": 0}, "map": {"version":3,"file":"heatmap.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/heatmap.ts"],"sourcesContent":["import { MarkComponent as MC, Vector2 } from '../runtime';\nimport { HeatmapMark } from '../spec';\nimport { HeatmapShape } from '../shape';\nimport { MaybeZeroX, MaybeZeroY } from '../transform';\nimport {\n  baseGeometryChannels,\n  basePostInference,\n  basePreInference,\n  tooltip2d,\n} from './utils';\n\nconst shape = {\n  heatmap: HeatmapShape,\n};\n\nexport type HeatmapOptions = Omit<HeatmapMark, 'type'>;\n\n/**\n * Draw heatmap with gradient.\n */\nexport const Heatmap: MC<HeatmapOptions> = (options) => {\n  return (index, scale, value, coordinate) => {\n    const { x: X, y: Y, size: S, color: C } = value;\n    const P = Array.from(index, (i) => {\n      // Default size = 40.\n      const r = S ? +S[i] : 40;\n      // Warning: x, y, value, radius.\n      return [...coordinate.map([+X[i], +Y[i]]), C[i], r] as unknown as Vector2;\n    });\n\n    return [[0], [P]];\n  };\n};\n\nHeatmap.props = {\n  defaultShape: 'heatmap',\n  defaultLabelShape: 'label',\n  composite: false,\n  shape,\n  channels: [\n    ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n    { name: 'x', required: true },\n    { name: 'y', required: true },\n    { name: 'color', scale: 'identity', required: true },\n    { name: 'size' },\n  ],\n  preInference: [\n    ...basePreInference(),\n    { type: MaybeZeroX },\n    { type: MaybeZeroY },\n  ],\n  postInference: [...basePostInference(), ...tooltip2d()],\n};\n"],"names":[],"mappings":";;;AAEA,OAAO,EAAE,YAAY,EAAE,MAAM,UAAU,CAAC;AAExC,OAAO,EACL,oBAAoB,EACpB,iBAAiB,EACjB,gBAAgB,EAChB,SAAS,GACV,MAAM,SAAS,CAAC;AANjB,OAAO,EAAE,UAAU,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;;;;;AAQtD,MAAM,KAAK,GAAG;IACZ,OAAO,gNAAE,eAAY;CACtB,CAAC;AAOK,MAAM,OAAO,GAAuB,CAAC,OAAO,EAAE,EAAE;IACrD,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,EAAE;QACzC,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,KAAK,CAAC;QAChD,MAAM,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,EAAE;YAChC,qBAAqB;YACrB,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YACzB,gCAAgC;YAChC,OAAO,CAAC;mBAAG,UAAU,CAAC,GAAG,CAAC;oBAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAAE,CAAC,CAAC,CAAC,CAAC,CAAC;iBAAC,CAAC;gBAAE,CAAC,CAAC,CAAC,CAAC;gBAAE,CAAC;aAAuB,CAAC;QAC5E,CAAC,CAAC,CAAC;QAEH,OAAO;YAAC;gBAAC,CAAC;aAAC;YAAE;gBAAC,CAAC;aAAC;SAAC,CAAC;IACpB,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,OAAO,CAAC,KAAK,GAAG;IACd,YAAY,EAAE,SAAS;IACvB,iBAAiB,EAAE,OAAO;IAC1B,SAAS,EAAE,KAAK;IAChB,KAAK;IACL,QAAQ,EAAE;oKACL,uBAAA,AAAoB,EAAC;YAAE,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;QAAA,CAAE,CAAC;QACvD;YAAE,IAAI,EAAE,GAAG;YAAE,QAAQ,EAAE,IAAI;QAAA,CAAE;QAC7B;YAAE,IAAI,EAAE,GAAG;YAAE,QAAQ,EAAE,IAAI;QAAA,CAAE;QAC7B;YAAE,IAAI,EAAE,OAAO;YAAE,KAAK,EAAE,UAAU;YAAE,QAAQ,EAAE,IAAI;QAAA,CAAE;QACpD;YAAE,IAAI,EAAE,MAAM;QAAA,CAAE;KACjB;IACD,YAAY,EAAE;YACT,2KAAA,AAAgB,EAAE;QACrB;YAAE,IAAI,iKAAE,aAAU;QAAA,CAAE;QACpB;YAAE,IAAI,iKAAE,aAAU;QAAA,CAAE;KACrB;IACD,aAAa,EAAE,CAAC;oKAAG,oBAAA,AAAiB,EAAE,EAAE;oKAAG,YAAA,AAAS,EAAE;KAAC;CACxD,CAAC","ignoreList":[0]}},
    {"offset": {"line": 3823, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3829, "column": 0}, "map": {"version":3,"file":"beeswarm.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/mark/beeswarm.ts"],"sourcesContent":["import {\n  forceSimulation,\n  forceX,\n  forceY,\n  forceCollide,\n} from '@antv/vendor/d3-force';\nimport { MarkComponent as MC, Vector2 } from '../runtime';\nimport { PointMark } from '../spec';\nimport {\n  PointBowtie,\n  PointCross,\n  PointDiamond,\n  PointHexagon,\n  PointHollowBowtie,\n  PointHollowDiamond,\n  PointHollowHexagon,\n  PointHollow,\n  PointHollowSquare,\n  PointHollowTriangle,\n  PointHollowTriangleDown,\n  PointHyphen,\n  PointLine,\n  PointTriangleDown,\n  PointPlus,\n  PointSquare,\n  PointShape,\n  PointTick,\n  PointTriangle,\n  PointCircle,\n  PointHollowCircle,\n} from '../shape';\nimport { MaybeZeroX, MaybeZeroY, MaybeSize } from '../transform';\nimport {\n  baseGeometryChannels,\n  basePostInference,\n  basePreInference,\n  createBandOffset,\n  tooltip2d,\n} from './utils';\n\nconst shape = {\n  hollow: PointHollow,\n  hollowDiamond: PointHollowDiamond,\n  hollowHexagon: PointHollowHexagon,\n  hollowSquare: PointHollowSquare,\n  hollowTriangleDown: PointHollowTriangleDown,\n  hollowTriangle: PointHollowTriangle,\n  hollowBowtie: PointHollowBowtie,\n  hollowCircle: PointHollowCircle,\n  point: PointShape,\n  plus: PointPlus,\n  diamond: PointDiamond,\n  square: PointSquare,\n  triangle: PointTriangle,\n  hexagon: PointHexagon,\n  cross: PointCross,\n  bowtie: PointBowtie,\n  hyphen: PointHyphen,\n  line: PointLine,\n  tick: PointTick,\n  triangleDown: PointTriangleDown,\n  circle: PointCircle,\n};\n\nexport type BeeswarmOptions = Omit<PointMark, 'type'>;\n\nconst DEFAULT_RADIUS = 4;\nconst ITERATIONS = 200;\n\n/**\n *  (Beeswarm)\n */\nexport const Beeswarm: MC<BeeswarmOptions> = (options) => {\n  return (index, scale, value, coordinate) => {\n    const { x: X, y: Y, size: S } = value;\n\n    if (!X.length || !Y.length) return [index, Y.map(() => [[]])];\n    const [width, height] = coordinate.getSize();\n    const offset = createBandOffset(scale, value, options);\n\n    const nodes = Array.from(index, (i) => {\n      const x0 = +X[i] * width;\n      const y0 = +Y[i] * height;\n      const r = +S[i] || DEFAULT_RADIUS;\n      return { i, x: x0, y: y0, r };\n    });\n\n    // 2. forceSimulation\n    const sim = forceSimulation(nodes)\n      .stop()\n      .force(\n        'collide',\n        forceCollide<any>()\n          .radius((d) => d.r + 1)\n          .strength(1),\n      );\n\n    // \n    sim.force('x', forceX<any>((d) => d.x).strength(0.5));\n    sim.force('y', forceY<any>((d) => d.y).strength(5));\n\n    for (let i = 0; i < ITERATIONS; i++) sim.tick();\n    sim.stop();\n\n    const xy = (i: number): Vector2 => {\n      const n = nodes.find((d) => d.i === i)!;\n      return [n.x / width, n.y / height];\n    };\n\n    const P = S\n      ? Array.from(index, (i) => {\n          const [cx, cy] = xy(i);\n          const r = +S[i];\n          const a = r / width;\n          const b = r / height;\n          const p1: Vector2 = [cx - a, cy - b];\n          const p2: Vector2 = [cx + a, cy + b];\n          return [\n            coordinate.map(offset(p1, i)),\n            coordinate.map(offset(p2, i)),\n          ] as Vector2[];\n        })\n      : Array.from(\n          index,\n          (i) => [coordinate.map(offset(xy(i), i))] as Vector2[],\n        );\n\n    return [index, P];\n  };\n};\n\nBeeswarm.props = {\n  defaultShape: 'point',\n  defaultLabelShape: 'label',\n  composite: false,\n  shape,\n  channels: [\n    ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n    { name: 'x', required: true },\n    { name: 'y', required: true },\n    { name: 'series', scale: 'band' },\n    { name: 'size', quantitative: 'sqrt' },\n  ],\n  preInference: [\n    ...basePreInference(),\n    { type: MaybeZeroX },\n    { type: MaybeZeroY },\n  ],\n  postInference: [...basePostInference(), { type: MaybeSize }, ...tooltip2d()],\n};\n"],"names":[],"mappings":";;;AAAA,OAAO,EACL,eAAe,EACf,MAAM,EACN,MAAM,EACN,YAAY,GACb,MAAM,uBAAuB,CAAC;AAG/B,OAAO,EACL,WAAW,EACX,UAAU,EACV,YAAY,EACZ,YAAY,EACZ,iBAAiB,EACjB,kBAAkB,EAClB,kBAAkB,EAClB,WAAW,EACX,iBAAiB,EACjB,mBAAmB,EACnB,uBAAuB,EACvB,WAAW,EACX,SAAS,EACT,iBAAiB,EACjB,SAAS,EACT,WAAW,EACX,UAAU,EACV,SAAS,EACT,aAAa,EACb,WAAW,EACX,iBAAiB,GAClB,MAAM,UAAU,CAAC;;;;;;;;;;;;;;;;;;;;;AAElB,OAAO,EACL,oBAAoB,EACpB,iBAAiB,EACjB,gBAAgB,EAChB,gBAAgB,EAChB,SAAS,GACV,MAAM,SAAS,CAAC;;;;;;;AAPjB,OAAO,EAAE,UAAU,EAAE,UAAU,EAAE,SAAS,EAAE,MAAM,cAAc,CAAC;;;;;AASjE,MAAM,KAAK,GAAG;IACZ,MAAM,gNAAE,cAAW;IACnB,aAAa,gOAAE,qBAAkB;IACjC,aAAa,gOAAE,qBAAkB;IACjC,YAAY,EAAE,+OAAiB;IAC/B,kBAAkB,+OAAE,0BAAuB;IAC3C,cAAc,mOAAE,sBAAmB;IACnC,YAAY,6NAAE,oBAAiB;IAC/B,YAAY,6NAAE,oBAAiB;IAC/B,KAAK,wMAAE,aAAU;IACjB,IAAI,qMAAE,YAAS;IACf,OAAO,8MAAE,eAAY;IACrB,MAAM,2MAAE,cAAW;IACnB,QAAQ,iNAAE,gBAAa;IACvB,OAAO,8MAAE,eAAY;IACrB,KAAK,wMAAE,aAAU;IACjB,MAAM,2MAAE,cAAW;IACnB,MAAM,2MAAE,cAAW;IACnB,IAAI,qMAAE,YAAS;IACf,IAAI,qMAAE,YAAS;IACf,YAAY,6NAAE,oBAAiB;IAC/B,MAAM,2MAAE,cAAW;CACpB,CAAC;AAIF,MAAM,cAAc,GAAG,CAAC,CAAC;AACzB,MAAM,UAAU,GAAG,GAAG,CAAC;AAKhB,MAAM,QAAQ,GAAwB,CAAC,OAAO,EAAE,EAAE;IACvD,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,EAAE;QACzC,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,GAAG,KAAK,CAAC;QAEtC,IAAI,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,MAAM,EAAE,OAAO;YAAC,KAAK;YAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAG,CAAD;oBAAE,EAAE;iBAAC,CAAC;SAAC,CAAC;QAC9D,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,UAAU,CAAC,OAAO,EAAE,CAAC;QAC7C,MAAM,MAAM,4JAAG,mBAAA,AAAgB,EAAC,KAAK,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;QAEvD,MAAM,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,EAAE;YACpC,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;YACzB,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC;YAC1B,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,cAAc,CAAC;YAClC,OAAO;gBAAE,CAAC;gBAAE,CAAC,EAAE,EAAE;gBAAE,CAAC,EAAE,EAAE;gBAAE,CAAC;YAAA,CAAE,CAAC;QAChC,CAAC,CAAC,CAAC;QAEH,qBAAqB;QACrB,MAAM,GAAG,sMAAG,kBAAA,AAAe,EAAC,KAAK,CAAC,CAC/B,IAAI,EAAE,CACN,KAAK,CACJ,SAAS,+LACT,eAAA,AAAY,EAAO,EAChB,MAAM,CAAC,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CACtB,QAAQ,CAAC,CAAC,CAAC,CACf,CAAC;QAEJ,OAAO;QACP,GAAG,CAAC,KAAK,CAAC,GAAG,GAAE,yLAAA,AAAM,EAAM,CAAC,CAAC,EAAE,CAAG,CAAC,AAAF,CAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;QACtD,GAAG,CAAC,KAAK,CAAC,GAAG,GAAE,yLAAM,AAAN,EAAY,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;QAEpD,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,EAAE,CAAC,EAAE,CAAE,GAAG,CAAC,IAAI,EAAE,CAAC;QAChD,GAAG,CAAC,IAAI,EAAE,CAAC;QAEX,MAAM,EAAE,GAAG,CAAC,CAAS,EAAW,EAAE;YAChC,MAAM,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,CAAC,KAAK,CAAC,CAAE,CAAC;YACxC,OAAO;gBAAC,CAAC,CAAC,CAAC,GAAG,KAAK;gBAAE,CAAC,CAAC,CAAC,GAAG,MAAM;aAAC,CAAC;QACrC,CAAC,CAAC;QAEF,MAAM,CAAC,GAAG,CAAC,GACP,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,EAAE;YACtB,MAAM,CAAC,EAAE,EAAE,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YACvB,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAChB,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;YACpB,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC;YACrB,MAAM,EAAE,GAAY;gBAAC,EAAE,GAAG,CAAC;gBAAE,EAAE,GAAG,CAAC;aAAC,CAAC;YACrC,MAAM,EAAE,GAAY;gBAAC,EAAE,GAAG,CAAC;gBAAE,EAAE,GAAG,CAAC;aAAC,CAAC;YACrC,OAAO;gBACL,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;gBAC7B,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;aACjB,CAAC;QACjB,CAAC,CAAC,GACF,KAAK,CAAC,IAAI,CACR,KAAK,EACL,CAAC,CAAC,EAAE,CAAG,CAAD;gBAAE,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;aAAc,CACvD,CAAC;QAEN,OAAO;YAAC,KAAK;YAAE,CAAC;SAAC,CAAC;IACpB,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,QAAQ,CAAC,KAAK,GAAG;IACf,YAAY,EAAE,OAAO;IACrB,iBAAiB,EAAE,OAAO;IAC1B,SAAS,EAAE,KAAK;IAChB,KAAK;IACL,QAAQ,EAAE;oKACL,uBAAA,AAAoB,EAAC;YAAE,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;QAAA,CAAE,CAAC;QACvD;YAAE,IAAI,EAAE,GAAG;YAAE,QAAQ,EAAE,IAAI;QAAA,CAAE;QAC7B;YAAE,IAAI,EAAE,GAAG;YAAE,QAAQ,EAAE,IAAI;QAAA,CAAE;QAC7B;YAAE,IAAI,EAAE,QAAQ;YAAE,KAAK,EAAE,MAAM;QAAA,CAAE;QACjC;YAAE,IAAI,EAAE,MAAM;YAAE,YAAY,EAAE,MAAM;QAAA,CAAE;KACvC;IACD,YAAY,EAAE;oKACT,mBAAA,AAAgB,EAAE;QACrB;YAAE,IAAI,iKAAE,aAAU;QAAA,CAAE;QACpB;YAAE,IAAI,iKAAE,aAAU;QAAA,CAAE;KACrB;IACD,aAAa,EAAE,CAAC;oKAAG,oBAAA,AAAiB,EAAE;QAAE;YAAE,IAAI,gKAAE,YAAS;QAAA,CAAE,EAAE;oKAAG,YAAA,AAAS,EAAE;KAAC;CAC7E,CAAC","ignoreList":[0]}},
    {"offset": {"line": 3996, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}