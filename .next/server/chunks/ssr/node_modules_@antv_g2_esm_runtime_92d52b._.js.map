{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"file":"constant.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/runtime/constant.ts"],"sourcesContent":["export const MAIN_LAYER_CLASS_NAME = 'main-layer';\nexport const LABEL_LAYER_CLASS_NAME = 'label-layer';\nexport const ELEMENT_CLASS_NAME = 'element';\nexport const VIEW_CLASS_NAME = 'view';\nexport const PLOT_CLASS_NAME = 'plot';\nexport const COMPONENT_CLASS_NAME = 'component';\nexport const LABEL_CLASS_NAME = 'label';\nexport const AREA_CLASS_NAME = 'area';\nexport const MASK_CLASS_NAME = 'mask';\nexport const BREAK_CLASS_NAME = 'axis-breaks';\nexport const BREAK_GROUP_CLASS_NAME = 'axis-breaks-group';\n"],"names":[],"mappings":";;;;;;;;;;;;;AAAO,MAAM,qBAAqB,GAAG,YAAY,CAAC;AAC3C,MAAM,sBAAsB,GAAG,aAAa,CAAC;AAC7C,MAAM,kBAAkB,GAAG,SAAS,CAAC;AACrC,MAAM,eAAe,GAAG,MAAM,CAAC;AAC/B,MAAM,eAAe,GAAG,MAAM,CAAC;AAC/B,MAAM,oBAAoB,GAAG,WAAW,CAAC;AACzC,MAAM,gBAAgB,GAAG,OAAO,CAAC;AACjC,MAAM,eAAe,GAAG,MAAM,CAAC;AAC/B,MAAM,eAAe,GAAG,MAAM,CAAC;AAC/B,MAAM,gBAAgB,GAAG,aAAa,CAAC;AACvC,MAAM,sBAAsB,GAAG,mBAAmB,CAAC","ignoreList":[0]}},
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"file":"style.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/runtime/option-preprocess/style.ts"],"sourcesContent":["import { get } from '@antv/util';\nimport { G2View, G2ViewTree } from '../types/options';\n\n// style: { columnWidthRatio: 0.2 } => scale: { x: { padding: 0.8 } }\nexport function columnWidthRatio<T extends G2ViewTree = G2ViewTree>(\n  options: T,\n): T {\n  const { style, scale, type } = options;\n  const scaleOption: G2View = {};\n  const columnWidthRatio = get(style, 'columnWidthRatio');\n  if (columnWidthRatio && type === 'interval') {\n    scaleOption.x = {\n      ...scale?.x,\n      padding: 1 - columnWidthRatio,\n    };\n  }\n  return {\n    ...options,\n    scale: { ...scale, ...scaleOption },\n  };\n}\n"],"names":[],"mappings":";;;AAAA,OAAO,EAAE,GAAG,EAAE,MAAM,YAAY,CAAC;;AAI3B,SAAU,gBAAgB,CAC9B,OAAU;IAEV,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,OAAO,CAAC;IACvC,MAAM,WAAW,GAAW,CAAA,CAAE,CAAC;IAC/B,MAAM,gBAAgB,IAAG,kMAAA,AAAG,EAAC,KAAK,EAAE,kBAAkB,CAAC,CAAC;IACxD,IAAI,gBAAgB,IAAI,IAAI,KAAK,UAAU,EAAE;QAC3C,WAAW,CAAC,CAAC,GAAA,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA,CAAA,GACR,KAAK,KAAA,QAAL,KAAK,KAAA,KAAA,IAAA,KAAA,IAAL,KAAK,CAAE,CAAC,GAAA;YACX,OAAO,EAAE,CAAC,GAAG,gBAAgB;QAAA,EAC9B,CAAC;KACH;IACD,OAAA,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA,CAAA,GACK,OAAO,GAAA;QACV,KAAK,EAAA,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA,CAAA,GAAO,KAAK,GAAK,WAAW;IAAA,GACjC;AACJ,CAAC","ignoreList":[0]}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"file":"axis-breaks.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/runtime/option-preprocess/axis-breaks.ts"],"sourcesContent":["import { get, set } from '@antv/util';\nimport { G2ViewTree } from '../types/options';\n\n/**\n * Convert a percentage string to a ratio.\n */\nexport const percentToRatio = (gap: string) => {\n  if (!gap || typeof gap !== 'string') {\n    return gap;\n  }\n  const value = gap.endsWith('%')\n    ? parseFloat(gap.slice(0, -1)) / 100\n    : parseFloat(gap);\n  if (isNaN(value) || value < 0 || value > 1) {\n    throw new Error(`Invalid gap value: ${gap}. It should be between 0 and 1.`);\n  }\n  return value;\n};\n\nexport function axisBreaks<T extends G2ViewTree = G2ViewTree>(options: T): T {\n  const { axis } = options;\n  const breaks = get(axis, 'y.breaks');\n\n  if (breaks) {\n    set(\n      options,\n      'scale.y.breaks',\n      breaks.map((item) => ({\n        key: `break-${item.start}-${item.end}`,\n        ...item,\n        gap: percentToRatio(item.gap),\n      })),\n    );\n  }\n  return options;\n}\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,GAAG,EAAE,GAAG,EAAE,MAAM,YAAY,CAAC;;;AAM/B,MAAM,cAAc,GAAG,CAAC,GAAW,EAAE,EAAE;IAC5C,IAAI,CAAC,GAAG,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;QACnC,OAAO,GAAG,CAAC;KACZ;IACD,MAAM,KAAK,GAAG,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,GAC3B,UAAU,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAClC,UAAU,CAAC,GAAG,CAAC,CAAC;IACpB,IAAI,KAAK,CAAC,KAAK,CAAC,IAAI,KAAK,GAAG,CAAC,IAAI,KAAK,GAAG,CAAC,EAAE;QAC1C,MAAM,IAAI,KAAK,CAAC,CAAA,mBAAA,EAAsB,GAAG,CAAA,+BAAA,CAAiC,CAAC,CAAC;KAC7E;IACD,OAAO,KAAK,CAAC;AACf,CAAC,CAAC;AAEI,SAAU,UAAU,CAAoC,OAAU;IACtE,MAAM,EAAE,IAAI,EAAE,GAAG,OAAO,CAAC;IACzB,MAAM,MAAM,gMAAG,MAAA,AAAG,EAAC,IAAI,EAAE,UAAU,CAAC,CAAC;IAErC,IAAI,MAAM,EAAE;qMACV,MAAG,AAAH,EACE,OAAO,EACP,gBAAgB,EAChB,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAG,CAAD,CAAC,KAAA,MAAA,CAAA,OAAA,MAAA,CAAA;gBACnB,GAAG,EAAE,CAAA,MAAA,EAAS,IAAI,CAAC,KAAK,CAAA,CAAA,EAAI,IAAI,CAAC,GAAG,EAAE;YAAA,GACnC,IAAI,GAAA;gBACP,GAAG,EAAE,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC;YAAA,GAC7B,CAAC,CACJ,CAAC;KACH;IACD,OAAO,OAAO,CAAC;AACjB,CAAC","ignoreList":[0]}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/runtime/option-preprocess/index.ts"],"sourcesContent":["import { G2ViewTree } from '../types/options';\nimport { flow } from '../../utils/flow';\nimport { columnWidthRatio } from './style';\nimport { axisBreaks } from './axis-breaks';\n\nexport function preprocessOption<T extends G2ViewTree = G2ViewTree>(\n  options: T,\n): T {\n  const convertedOptions = adapter(options);\n  // If there are children, recursively convert each child node.\n  if (convertedOptions.children && Array.isArray(convertedOptions.children)) {\n    convertedOptions.children = convertedOptions.children.map((child) =>\n      preprocessOption(child),\n    );\n  }\n\n  return convertedOptions;\n}\n\n// Entry point for all syntactic sugar functions.\nfunction adapter<T extends G2ViewTree = G2ViewTree>(options: T): T {\n  //@todo define a type for params of flow\n  return flow(columnWidthRatio, axisBreaks)(options);\n}\n"],"names":[],"mappings":";;;AACA,OAAO,EAAE,IAAI,EAAE,MAAM,kBAAkB,CAAC;AACxC,OAAO,EAAE,gBAAgB,EAAE,MAAM,SAAS,CAAC;AAC3C,OAAO,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;;;;AAErC,SAAU,gBAAgB,CAC9B,OAAU;IAEV,MAAM,gBAAgB,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC;IAC1C,8DAA8D;IAC9D,IAAI,gBAAgB,CAAC,QAAQ,IAAI,KAAK,CAAC,OAAO,CAAC,gBAAgB,CAAC,QAAQ,CAAC,EAAE;QACzE,gBAAgB,CAAC,QAAQ,GAAG,gBAAgB,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,CAChE,CADkE,eAClD,CAAC,KAAK,CAAC,CACxB,CAAC;KACH;IAED,OAAO,gBAAgB,CAAC;AAC1B,CAAC;AAED,iDAAiD;AACjD,SAAS,OAAO,CAAoC,OAAU;IAC5D,wCAAwC;IACxC,gKAAO,OAAA,AAAI,kLAAC,mBAAgB,2LAAE,aAAU,CAAC,CAAC,OAAO,CAAC,CAAC;AACrD,CAAC","ignoreList":[0]}},
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"file":"library.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/runtime/library.ts"],"sourcesContent":["import { IDocument } from '@antv/g';\nimport { error } from '../utils/helper';\nimport { builtinlib } from '../lib/builtinlib';\nimport { G2ComponentOptions, G2Context, G2Library } from './types/options';\nimport {\n  G2Component,\n  G2ComponentNamespaces,\n  G2ComponentValue,\n} from './types/component';\n\nexport function useLibrary<\n  O extends G2ComponentOptions,\n  C extends G2Component,\n  V extends G2ComponentValue,\n>(\n  namespace: G2ComponentNamespaces,\n  publicLibrary: G2Library,\n): [(options: O, context?) => V, (type: O['type']) => C] {\n  const library = { ...builtinlib(), ...publicLibrary };\n\n  const create = (type: O['type']) => {\n    if (typeof type !== 'string') return type;\n    const key = `${namespace}.${type}`;\n    return library[key] || error(`Unknown Component: ${key}`);\n  };\n\n  const use = (options: O, context?) => {\n    const { type, ...rest } = options;\n    if (!type) error(`Plot type is required!`);\n    const currentLibrary = create(type);\n    return currentLibrary?.(rest, context);\n  };\n\n  return [use, create];\n}\n\nexport function documentOf(library: G2Context): IDocument {\n  const { canvas, group } = library;\n  return (\n    canvas?.document ||\n    group?.ownerDocument ||\n    error(`Cannot find library document`)\n  );\n}\n"],"names":[],"mappings":";;;;AAEA,OAAO,EAAE,UAAU,EAAE,MAAM,mBAAmB,CAAC;AAD/C,OAAO,EAAE,KAAK,EAAE,MAAM,iBAAiB,CAAC;;;;;;;;;;;AASlC,SAAU,UAAU,CAKxB,SAAgC,EAChC,aAAwB;IAExB,MAAM,OAAO,GAAA,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA,CAAA,gKAAQ,aAAA,AAAU,EAAE,IAAK,aAAa,CAAE,CAAC;IAEtD,MAAM,MAAM,GAAG,CAAC,IAAe,EAAE,EAAE;QACjC,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE,OAAO,IAAI,CAAC;QAC1C,MAAM,GAAG,GAAG,GAAG,SAAS,CAAA,CAAA,EAAI,IAAI,EAAE,CAAC;QACnC,OAAO,OAAO,CAAC,GAAG,CAAC,+JAAI,QAAA,AAAK,EAAC,CAAA,mBAAA,EAAsB,GAAG,EAAE,CAAC,CAAC;IAC5D,CAAC,CAAC;IAEF,MAAM,GAAG,GAAG,CAAC,OAAU,EAAE,OAAQ,EAAE,EAAE;QACnC,MAAM,EAAE,IAAI,EAAA,GAAc,OAAO,EAAhB,IAAI,GAAA,OAAK,OAAO,EAA3B;YAAA;SAAiB,CAAU,CAAC;QAClC,IAAI,CAAC,IAAI,6JAAE,QAAA,AAAK,EAAC,CAAA,sBAAA,CAAwB,CAAC,CAAC;QAC3C,MAAM,cAAc,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;QACpC,OAAO,cAAc,KAAA,QAAd,cAAc,KAAA,KAAA,IAAA,KAAA,IAAd,cAAc,CAAG,IAAI,EAAE,OAAO,CAAC,CAAC;IACzC,CAAC,CAAC;IAEF,OAAO;QAAC,GAAG;QAAE,MAAM;KAAC,CAAC;AACvB,CAAC;AAEK,SAAU,UAAU,CAAC,OAAkB;IAC3C,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,OAAO,CAAC;IAClC,OAAO,AACL,CAAA,MAAM,KAAA,QAAN,MAAM,KAAA,KAAA,IAAA,KAAA,IAAN,MAAM,CAAE,QAAQ,MAChB,KAAK,KAAA,QAAL,KAAK,KAAA,KAAA,IAAA,KAAA,IAAL,KAAK,CAAE,aAAa,CAAA,+JACpB,QAAA,AAAK,EAAC,CAAA,4BAAA,CAA8B,CAAC,CACtC,CAAC;AACJ,CAAC","ignoreList":[0]}},
    {"offset": {"line": 164, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 170, "column": 0}, "map": {"version":3,"file":"coordinate.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/runtime/coordinate.ts"],"sourcesContent":["import { Coordinate, Coordinate3D } from '@antv/coord';\nimport { G2View, G2CoordinateOptions, G2Library } from './types/options';\nimport { CoordinateComponent, CoordinateTransform } from './types/component';\nimport { useLibrary } from './library';\nimport { Layout } from './types/common';\n\nexport function createCoordinate(\n  layout: Layout,\n  partialOptions: G2View,\n  library: G2Library,\n): Coordinate {\n  const [useCoordinate] = useLibrary<\n    G2CoordinateOptions,\n    CoordinateComponent,\n    CoordinateTransform\n  >('coordinate', library);\n  const {\n    innerHeight,\n    innerWidth,\n    insetLeft,\n    insetTop,\n    insetRight,\n    insetBottom,\n  } = layout;\n  const { coordinates: partialTransform = [] } = partialOptions;\n  const transform = inferCoordinate(partialTransform);\n\n  const isCartesian3D = transform[0].type === 'cartesian3D';\n  const options = {\n    // @todo Find a better solution.\n    // Store more layout information for component.\n    ...layout,\n    x: insetLeft,\n    y: insetTop,\n    width: innerWidth - insetLeft - insetRight,\n    height: innerHeight - insetBottom - insetTop,\n    transformations: transform.flatMap(useCoordinate),\n  };\n\n  const coordinate = isCartesian3D\n    ? // @ts-ignore\n      new Coordinate3D(options)\n    : new Coordinate(options);\n  return coordinate as Coordinate;\n}\n\nexport function coordinate2Transform(node: G2View, library: G2Library): G2View {\n  // @ts-ignore\n  const { coordinate = {}, coordinates, ...rest } = node;\n\n  // If coordinates are already set, it means that the coordinate has been processed\n  // during the initialization. There is not need to process it during update.\n  if (coordinates) return node;\n\n  const { type, transform = [], ...options } = coordinate;\n  if (!type) return { ...rest, coordinates: transform };\n  const [, createCoordinate] = useLibrary<\n    G2CoordinateOptions,\n    CoordinateComponent,\n    CoordinateTransform\n  >('coordinate', library);\n  const { transform: isTransform = false } = createCoordinate(type).props || {};\n  if (isTransform) {\n    throw new Error(`Unknown coordinate: ${type}.`);\n  }\n  return { ...rest, coordinates: [{ type, ...options }, ...transform] };\n}\n\nexport function coordOf(\n  coordinates: G2CoordinateOptions[],\n  type: string,\n): G2CoordinateOptions[] {\n  return coordinates.filter((d) => d.type === type);\n}\n\n/**\n * todo Duplication is not considered\n */\n\nexport function isPolar(coordinates: G2CoordinateOptions[]) {\n  return coordOf(coordinates, 'polar').length > 0;\n}\n\nexport function isHelix(coordinates: G2CoordinateOptions[]) {\n  return coordOf(coordinates, 'helix').length > 0;\n}\n\n/**\n * todo The number of transposes matters\n */\nexport function isTranspose(coordinates: G2CoordinateOptions[]) {\n  return coordOf(coordinates, 'transpose').length % 2 === 1;\n}\n\nexport function isParallel(coordinates: G2CoordinateOptions[]) {\n  return coordOf(coordinates, 'parallel').length > 0;\n}\n\nexport function isTheta(coordinates: G2CoordinateOptions[]) {\n  return coordOf(coordinates, 'theta').length > 0;\n}\n\nexport function isReflect(coordinates: G2CoordinateOptions[]) {\n  return coordOf(coordinates, 'reflect').length > 0;\n}\n\nexport function isRadial(coordinates: G2CoordinateOptions[]) {\n  return coordOf(coordinates, 'radial').length > 0;\n}\n\nexport function isRadar(coordinates: G2CoordinateOptions[]) {\n  return coordOf(coordinates, 'radar').length > 0;\n}\n\n/**\n * todo The axis corresponding to the Y reversal is not reversed\n */\nexport function isReflectY(coordinates: G2CoordinateOptions[]) {\n  return coordOf(coordinates, 'reflectY').length > 0;\n}\n\nfunction inferCoordinate(\n  coordinates: G2CoordinateOptions[],\n): G2CoordinateOptions[] {\n  if (\n    coordinates.find((d) => d.type === 'cartesian' || d.type === 'cartesian3D')\n  )\n    return coordinates;\n  return [...coordinates, { type: 'cartesian' }];\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 283, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 289, "column": 0}, "map": {"version":3,"file":"scale.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/runtime/scale.ts"],"sourcesContent":["import { Linear, createInterpolateValue } from '@antv/scale';\nimport { extent, max, rollups } from '@antv/vendor/d3-array';\nimport * as d3ScaleChromatic from '@antv/vendor/d3-scale-chromatic';\nimport { deepMix, omit, upperFirst } from '@antv/util';\nimport { firstOf, lastOf, unique } from '../utils/array';\nimport { defined, identity, isStrictObject } from '../utils/helper';\nimport { Primitive, G2Theme, G2MarkState, ChannelGroups } from './types/common';\nimport {\n  G2CoordinateOptions,\n  G2Library,\n  G2ScaleOptions,\n  G2PaletteOptions,\n  G2Mark,\n  G2View,\n} from './types/options';\nimport {\n  ScaleComponent,\n  PaletteComponent,\n  Palette,\n  Scale,\n} from './types/component';\nimport { isTheta } from './coordinate';\nimport { useLibrary } from './library';\nimport { MarkChannel } from './types/mark';\n\nexport function inferScale(\n  name: string,\n  values: Primitive[][],\n  options: Record<string, any>,\n  coordinates: G2CoordinateOptions[],\n  theme: G2Theme,\n  library: G2Library,\n) {\n  const { guide = {} } = options;\n  const type = inferScaleType(name, values, options);\n  if (typeof type !== 'string') return options;\n  const expectedDomain = inferScaleDomain(type, name, values, options);\n  const actualDomain = maybeRatio(type, expectedDomain, options);\n  return {\n    ...options,\n    ...inferScaleOptions(type, name, values, options, coordinates),\n    domain: actualDomain,\n    range: inferScaleRange(\n      type,\n      name,\n      values,\n      options,\n      actualDomain,\n      theme,\n      library,\n    ),\n    expectedDomain,\n    guide,\n    name,\n    type,\n  };\n}\n\nexport function applyScale(\n  channels: ChannelGroups[],\n  scale: Record<string, Scale>,\n): MarkChannel {\n  const scaledValue = {};\n  for (const channel of channels) {\n    const { values, name: scaleName } = channel;\n    const scaleInstance = scale[scaleName];\n    for (const value of values) {\n      const { name, value: V } = value;\n      scaledValue[name] = V.map((d) => scaleInstance.map(d));\n    }\n  }\n  return scaledValue;\n}\n\nexport function groupTransform(\n  markState: Map<G2Mark, G2MarkState>,\n  uidScale: Map<symbol, Scale>,\n) {\n  const channels = Array.from(markState.values()).flatMap((d) => d.channels);\n\n  const scaleGroups = rollups(\n    channels,\n    (channels) => channels.map((d) => uidScale.get(d.scale.uid)),\n    (d) => d.name,\n  )\n    .filter(\n      ([, scales]) =>\n        scales.some(\n          (d) => typeof d.getOptions().groupTransform === 'function',\n        ) && // only sync scales with groupTransform options\n        scales.every((d) => d.getTicks), // only sync quantitative scales\n    )\n    .map((d) => d[1]);\n\n  scaleGroups.forEach((group) => {\n    const groupTransform = group.map((d) => d.getOptions().groupTransform)[0];\n    groupTransform(group);\n  });\n}\n\nexport function collectScales(states: G2MarkState[], options: G2View) {\n  const { components = [] } = options;\n\n  const NONE_STATIC_KEYS = [\n    'scale',\n    'encode',\n    'axis',\n    'legend',\n    'data',\n    'transform',\n  ];\n\n  // From normal marks.\n  const scales = Array.from(\n    new Set(states.flatMap((d) => d.channels.map((d) => d.scale))),\n  );\n\n  // From static marks.\n  const nameScale = new Map(scales.map((scale) => [scale.name, scale]));\n  for (const component of components) {\n    const channels = inferChannelsForComponent(component);\n    for (const channel of channels) {\n      const scale = nameScale.get(channel);\n      const staticScale = component.scale?.[channel] || {};\n      const { independent = false } = staticScale;\n\n      if (scale && !independent) {\n        // Merged with exist scales if is not independent.\n        const { guide } = scale;\n        const guide1 = typeof guide === 'boolean' ? {} : guide;\n        scale.guide = deepMix({}, guide1, component);\n        Object.assign(scale, staticScale);\n      } else {\n        // Append new scales without exit scales or independent.\n        const options1 = {\n          ...staticScale,\n          expectedDomain: staticScale.domain,\n          name: channel,\n          guide: omit(component, NONE_STATIC_KEYS),\n        };\n        scales.push(options1);\n      }\n    }\n  }\n  return scales;\n}\n\nexport function useRelation(\n  relations: [any, any][],\n): [(scale: Scale) => Scale, (scale: Scale) => Scale] {\n  if (!relations || !Array.isArray(relations)) return [identity, identity];\n\n  // Store original map and invert.\n  let map;\n  let invert;\n\n  const conditionalize = (scale: Scale) => {\n    map = scale.map.bind(scale);\n    invert = scale.invert?.bind(scale);\n\n    // Distinguish functions[function, output] and value[vale, output] relations.\n    const funcRelations = relations.filter(([v]) => typeof v === 'function');\n    const valueRelations = relations.filter(([v]) => typeof v !== 'function');\n\n    // Update scale.map\n    const valueOutput = new Map(valueRelations);\n    scale.map = (x) => {\n      for (const [verify, value] of funcRelations) {\n        if (verify(x)) return value;\n      }\n      if (valueOutput.has(x)) return valueOutput.get(x);\n      return map(x);\n    };\n\n    if (!invert) return scale;\n\n    // Update scale.invert\n    const outputValue = new Map(valueRelations.map(([a, b]) => [b, a]));\n    const outputFunc = new Map(funcRelations.map(([a, b]) => [b, a]));\n    scale.invert = (x) => {\n      if (outputFunc.has(x)) return x;\n      if (outputValue.has(x)) return outputValue.get(x);\n      return invert(x);\n    };\n    return scale;\n  };\n\n  const deconditionalize = (scale: Scale) => {\n    if (map !== null) scale.map = map;\n    if (invert !== null) scale.invert = invert;\n    return scale;\n  };\n\n  return [conditionalize, deconditionalize];\n}\n\nexport function assignScale(\n  target: Record<string, Scale>,\n  source: Record<string, Scale>,\n): Record<string, Scale> {\n  const keys = Object.keys(target);\n  for (const scale of Object.values(source)) {\n    const { name } = scale.getOptions();\n    if (!(name in target)) target[name] = scale;\n    else {\n      const I = keys\n        .filter((d) => d.startsWith(name))\n        // Reg is for extract `1` from `x1`;\n        .map((d) => +(d.replace(name, '') || 0));\n      const index = max(I) + 1;\n      const newKey = `${name}${index}`;\n      target[newKey] = scale;\n      scale.getOptions().key = newKey;\n    }\n  }\n  return target;\n}\n\nexport function useRelationScale(\n  options: Record<string, any>,\n  library: G2Library,\n) {\n  const [useScale] = useLibrary<G2ScaleOptions, ScaleComponent, Scale>(\n    'scale',\n    library,\n  );\n  const { relations } = options;\n  const [conditionalize] = useRelation(relations);\n  const scale = useScale(options);\n  return conditionalize(scale);\n}\n\nexport function syncFacetsScales(states: Map<G2Mark, G2MarkState>[]): void {\n  const scales = states\n    .flatMap((d) => Array.from(d.values()))\n    .flatMap((d) => d.channels.map((d) => d.scale));\n  syncFacetsScaleByChannel(scales, 'x');\n  syncFacetsScaleByChannel(scales, 'y');\n}\n\nfunction inferChannelsForComponent(component) {\n  const { channels = [], type, scale = {} } = component;\n  const L = ['shape', 'color', 'opacity', 'size'];\n  if (channels.length !== 0) return channels;\n  if (type === 'axisX') return ['x'];\n  if (type === 'axisY') return ['y'];\n  if (type === 'legends')\n    return Object.keys(scale).filter((d) => L.includes(d));\n  return [];\n}\n\nfunction syncFacetsScaleByChannel(\n  scales: G2ScaleOptions[],\n  channel: 'x' | 'y',\n): void {\n  const S = scales.filter(\n    ({ name, facet = true }) => facet && name === channel,\n  );\n  const D = S.flatMap((d) => d.domain);\n  const syncedD = S.every(isQuantitativeScale)\n    ? extent(D)\n    : S.every(isDiscreteScale)\n    ? Array.from(new Set(D))\n    : null;\n  if (syncedD === null) return;\n  for (const scale of S) {\n    scale.domain = syncedD;\n  }\n}\n\nfunction maybeRatio(\n  type: string,\n  domain: Primitive[],\n  options: G2ScaleOptions,\n) {\n  const { ratio } = options;\n  if (ratio === undefined || ratio === null) return domain;\n  if (isQuantitativeScale({ type })) {\n    return clampQuantitativeScale(domain as number[], ratio, type);\n  }\n  if (isDiscreteScale({ type })) return clampDiscreteScale(domain, ratio);\n  return domain;\n}\n\nfunction clampQuantitativeScale(domain: number[], ratio: number, type: string) {\n  const D = domain.map(Number);\n  const scale = new Linear({\n    domain: D,\n    range: [D[0], D[0] + (D[D.length - 1] - D[0]) * ratio],\n  });\n  if (type === 'time') return domain.map((d) => new Date(scale.map(d)));\n  return domain.map((d) => scale.map(d));\n}\n\nfunction clampDiscreteScale(domain: Primitive[], ratio: number) {\n  const index = Math.round(domain.length * ratio);\n  return domain.slice(0, index);\n}\n\nfunction isQuantitativeScale(scale: G2ScaleOptions) {\n  const { type } = scale;\n  if (typeof type !== 'string') return false;\n  // Do not take quantize, quantile or threshold scale into account,\n  // because they are not for position scales. If they are, there is\n  // no need to sync them.\n  const names = ['linear', 'log', 'pow', 'time'];\n  return names.includes(type);\n}\n\nfunction isDiscreteScale(scale: G2ScaleOptions) {\n  const { type } = scale;\n  if (typeof type !== 'string') return false;\n  const names = ['band', 'point', 'ordinal'];\n  return names.includes(type);\n}\n\n// @todo More accurate inference for different cases.\nfunction inferScaleType(\n  name: string,\n  values: Primitive[][],\n  options: G2ScaleOptions,\n): string | ScaleComponent {\n  const { type, domain, range, quantitative, ordinal } = options;\n  if (type !== undefined) return type;\n  if (isObject(values)) return 'identity';\n  if (typeof range === 'string') return 'linear';\n  if ((domain || range || []).length > 2) return asOrdinalType(name, ordinal);\n  if (domain !== undefined) {\n    if (isOrdinal([domain])) return asOrdinalType(name, ordinal);\n    if (isTemporal(values)) return 'time';\n    return asQuantitativeType(name, range, quantitative);\n  }\n  if (isOrdinal(values)) return asOrdinalType(name, ordinal);\n  if (isTemporal(values)) return 'time';\n  return asQuantitativeType(name, range, quantitative);\n}\n\nfunction inferScaleDomain(\n  type: string,\n  name: string,\n  values,\n  options: G2ScaleOptions,\n): Primitive[] {\n  const { domain } = options;\n  if (domain !== undefined) return domain;\n  switch (type) {\n    case 'linear':\n    case 'time':\n    case 'log':\n    case 'pow':\n    case 'sqrt':\n    case 'quantize':\n    case 'threshold':\n      return maybeMinMax(inferDomainQ(values, options), options);\n    case 'band':\n    case 'ordinal':\n    case 'point':\n      return inferDomainC(values);\n    case 'quantile':\n      return inferDomainO(values);\n    case 'sequential':\n      return maybeMinMax(inferDomainS(values), options);\n    default:\n      return [];\n  }\n}\n\nfunction inferScaleRange(\n  type: string,\n  name: string,\n  values: Primitive[][],\n  options: G2ScaleOptions,\n  domain: Primitive[],\n  theme: G2Theme,\n  library: G2Library,\n) {\n  const { range } = options;\n  if (typeof range === 'string') return gradientColors(range);\n  if (range !== undefined) return range;\n  const { rangeMin, rangeMax } = options;\n  switch (type) {\n    case 'linear':\n    case 'time':\n    case 'log':\n    case 'pow':\n    case 'sqrt': {\n      const colors = categoricalColors(values, options, domain, theme, library);\n      const [r0, r1] = inferRangeQ(name, colors);\n      return [rangeMin ?? r0, rangeMax ?? r1];\n    }\n    case 'band':\n    case 'point': {\n      const min = name === 'size' ? 5 : 0;\n      const max = name === 'size' ? 10 : 1;\n      return [rangeMin ?? min, rangeMax ?? max];\n    }\n    case 'ordinal': {\n      return categoricalColors(values, options, domain, theme, library);\n    }\n    case 'sequential':\n      return undefined;\n    case 'constant':\n      return [values[0][0]];\n    default:\n      return [];\n  }\n}\n\nfunction inferScaleOptions(\n  type: string,\n  name: string,\n  values: Primitive[][],\n  options: G2ScaleOptions,\n  coordinates: G2CoordinateOptions[],\n): G2ScaleOptions {\n  switch (type) {\n    case 'linear':\n    case 'time':\n    case 'log':\n    case 'pow':\n    case 'sqrt':\n      return inferOptionsQ(coordinates, options);\n    case 'band':\n    case 'point':\n      return inferOptionsC(type, name, coordinates, options);\n    case 'sequential':\n      return inferOptionsS(options);\n    default:\n      return options;\n  }\n}\n\nfunction categoricalColors(\n  values: Primitive[][],\n  options: G2ScaleOptions,\n  domain: Primitive[],\n  theme: G2Theme,\n  library: G2Library,\n) {\n  const [usePalette] = useLibrary<G2PaletteOptions, PaletteComponent, Palette>(\n    'palette',\n    library,\n  );\n  const { category10: c10, category20: c20 } = theme;\n  const defaultPalette = unique(domain).length <= c10.length ? c10 : c20;\n  const { palette = defaultPalette, offset } = options;\n  if (Array.isArray(palette)) return palette;\n  // Built-in palettes have higher priority.\n  try {\n    return usePalette({ type: palette });\n  } catch (e) {\n    const colors = interpolatedColors(palette, domain, offset);\n    if (colors) return colors;\n    throw new Error(`Unknown Component: ${palette} `);\n  }\n}\n\nfunction gradientColors(range: string): string[] {\n  return range.split('-');\n}\n\nfunction interpolatedColors(\n  palette: string,\n  domain: Primitive[],\n  offset = (d) => d,\n): string[] {\n  if (!palette) return null;\n  const fullName = upperFirst(palette);\n\n  // If scheme have enough colors, then return pre-defined colors.\n  const scheme = d3ScaleChromatic[`scheme${fullName}`];\n  const interpolator = d3ScaleChromatic[`interpolate${fullName}`];\n  if (!scheme && !interpolator) return null;\n\n  if (scheme) {\n    // If is a one dimension array, return it.\n    if (!scheme.some(Array.isArray)) return scheme;\n    const schemeColors = scheme[domain.length];\n    if (schemeColors) return schemeColors;\n  }\n\n  // Otherwise interpolate to get full colors.\n  return domain.map((_, i) => interpolator(offset(i / domain.length)));\n}\n\nfunction inferOptionsS(options) {\n  const { palette = 'ylGnBu', offset } = options;\n  const name = upperFirst(palette);\n  const interpolator = d3ScaleChromatic[`interpolate${name}`];\n  if (!interpolator) throw new Error(`Unknown palette: ${name}`);\n  return {\n    interpolator: offset ? (x) => interpolator(offset(x)) : interpolator,\n  };\n}\n\nfunction inferOptionsQ(\n  coordinates: G2CoordinateOptions[],\n  options: G2ScaleOptions,\n): G2ScaleOptions {\n  const {\n    interpolate = createInterpolateValue,\n    nice = false,\n    tickCount = 5,\n  } = options;\n  return { ...options, interpolate, nice, tickCount };\n}\n\nfunction inferOptionsC(\n  type: string,\n  name: string,\n  coordinates: G2CoordinateOptions[],\n  options: G2ScaleOptions,\n): G2ScaleOptions {\n  if (\n    options.padding !== undefined ||\n    options.paddingInner !== undefined ||\n    options.paddingOuter !== undefined\n  ) {\n    return { ...options, unknown: NaN };\n  }\n  const padding = inferPadding(type, name, coordinates);\n  const { paddingInner = padding, paddingOuter = padding } = options;\n  return {\n    ...options,\n    paddingInner,\n    paddingOuter,\n    padding,\n    unknown: NaN,\n  };\n}\n\nfunction inferPadding(\n  type: string,\n  name: string,\n  coordinates: G2CoordinateOptions[],\n): number {\n  // The scale for enterDelay and enterDuration should has zero padding by default.\n  // Because there is no need to add extra delay for the start and the end.\n  if (name === 'enterDelay' || name === 'enterDuration') return 0;\n  if (name === 'size') return 0;\n  if (type === 'band') return isTheta(coordinates) ? 0 : 0.1;\n  // Point scale need 0.5 padding to make interval between first and last point\n  // equal to other intervals in polar coordinate.\n  if (type === 'point') return 0.5;\n  return 0;\n}\n\nfunction asOrdinalType(name: string, defaults: string) {\n  if (defaults) return defaults;\n  return isQuantitative(name) ? 'point' : 'ordinal';\n}\n\nfunction asQuantitativeType(\n  name: string,\n  range: Primitive[],\n  defaults: string,\n) {\n  if (defaults) return defaults;\n  if (name !== 'color') return 'linear';\n  return range ? 'linear' : 'sequential';\n}\n\nfunction maybeMinMax(\n  domain: Primitive[],\n  options: G2ScaleOptions,\n): Primitive[] {\n  if (domain.length === 0) return domain;\n  const { domainMin, domainMax } = options;\n  const [d0, d1] = domain;\n  return [domainMin ?? d0, domainMax ?? d1];\n}\n\nfunction inferDomainQ(values: Primitive[][], options: G2ScaleOptions) {\n  const { zero = false } = options;\n  let min = Infinity;\n  let max = -Infinity;\n  for (const value of values) {\n    for (const d of value) {\n      if (defined(d)) {\n        min = Math.min(min, +d);\n        max = Math.max(max, +d);\n      }\n    }\n  }\n  if (min === Infinity) return [];\n  return zero ? [Math.min(0, min), max] : [min, max];\n}\n\nfunction inferDomainC(values: Primitive[][]) {\n  return Array.from(new Set(values.flat()));\n}\n\nfunction inferDomainO(values: Primitive[][]) {\n  return values.flat().sort();\n}\n\nfunction inferDomainS(values: Primitive[][]) {\n  let min = Infinity;\n  let max = -Infinity;\n  for (const value of values) {\n    for (const d of value) {\n      if (defined(d)) {\n        min = Math.min(min, +d);\n        max = Math.max(max, +d);\n      }\n    }\n  }\n  if (min === Infinity) return [];\n  return [min < 0 ? -max : min, max];\n}\n\n/**\n * @todo More nice default range for enterDelay and enterDuration.\n * @todo Move these to channel definition.\n */\nfunction inferRangeQ(name: string, palette: Palette): Primitive[] {\n  if (name === 'enterDelay') return [0, 1000];\n  if (name == 'enterDuration') return [300, 1000];\n  if (name.startsWith('y') || name.startsWith('position')) return [1, 0];\n  if (name === 'color') return [firstOf(palette), lastOf(palette)];\n  if (name === 'opacity') return [0, 1];\n  if (name === 'size') return [1, 10];\n  return [0, 1];\n}\n\nfunction isOrdinal(values: Primitive[][]): boolean {\n  return some(values, (d) => {\n    const type = typeof d;\n    return type === 'string' || type === 'boolean';\n  });\n}\n\nfunction isTemporal(values: Primitive[][]): boolean {\n  return some(values, (d) => d instanceof Date);\n}\n\nfunction isObject(values: Primitive[][]): boolean {\n  return some(values, isStrictObject);\n}\n\nfunction some(values, callback) {\n  for (const V of values) {\n    if (V.some(callback)) return true;\n  }\n  return false;\n}\n\nfunction isQuantitative(name: string): boolean {\n  return (\n    name.startsWith('x') ||\n    name.startsWith('y') ||\n    name.startsWith('position') ||\n    name.startsWith('size')\n  );\n}\n\n// Spatial and temporal position.\nexport function isPosition(name: string): boolean {\n  return (\n    name.startsWith('x') ||\n    name.startsWith('y') ||\n    name.startsWith('position') ||\n    name === 'enterDelay' ||\n    name === 'enterDuration' ||\n    name === 'updateDelay' ||\n    name === 'updateDuration' ||\n    name === 'exitDelay' ||\n    name === 'exitDuration'\n  );\n}\n\nexport function isValidScale(scale: G2ScaleOptions) {\n  if (!scale || !scale.type) return false;\n  if (typeof scale.type === 'function') return true;\n  const { type, domain, range, interpolator } = scale;\n  const isValidDomain = domain && domain.length > 0;\n  const isValidRange = range && range.length > 0;\n\n  if (\n    [\n      'linear',\n      'sqrt',\n      'log',\n      'time',\n      'pow',\n      'threshold',\n      'quantize',\n      'quantile',\n      'ordinal',\n      'band',\n      'point',\n    ].includes(type) &&\n    isValidDomain &&\n    isValidRange\n  ) {\n    return true;\n  }\n\n  if (\n    ['sequential'].includes(type) &&\n    isValidDomain &&\n    (isValidRange || interpolator)\n  ) {\n    return true;\n  }\n\n  if (['constant', 'identity'].includes(type) && isValidRange) return true;\n\n  return false;\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 894, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 900, "column": 0}, "map": {"version":3,"file":"scale.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/runtime/types/scale.ts"],"sourcesContent":["export const ContinuousScale = {\n  linear: 'linear',\n  identity: 'identity',\n  log: 'log',\n  pow: 'pow',\n  sqrt: 'sqrt',\n  sequential: 'sequential',\n} as const;\n\nexport const DistributionScale = {\n  threshold: 'threshold',\n  quantize: 'quantize',\n  quantile: 'quantile',\n} as const;\n\nexport const DiscreteScale = {\n  ordinal: 'ordinal',\n  band: 'band',\n  point: 'point',\n} as const;\n\nexport const ConstantScale = {\n  constant: 'constant',\n} as const;\n"],"names":[],"mappings":";;;;;;AAAO,MAAM,eAAe,GAAG;IAC7B,MAAM,EAAE,QAAQ;IAChB,QAAQ,EAAE,UAAU;IACpB,GAAG,EAAE,KAAK;IACV,GAAG,EAAE,KAAK;IACV,IAAI,EAAE,MAAM;IACZ,UAAU,EAAE,YAAY;CAChB,CAAC;AAEJ,MAAM,iBAAiB,GAAG;IAC/B,SAAS,EAAE,WAAW;IACtB,QAAQ,EAAE,UAAU;IACpB,QAAQ,EAAE,UAAU;CACZ,CAAC;AAEJ,MAAM,aAAa,GAAG;IAC3B,OAAO,EAAE,SAAS;IAClB,IAAI,EAAE,MAAM;IACZ,KAAK,EAAE,OAAO;CACN,CAAC;AAEJ,MAAM,aAAa,GAAG;IAC3B,QAAQ,EAAE,UAAU;CACZ,CAAC","ignoreList":[0]}},
    {"offset": {"line": 927, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 933, "column": 0}, "map": {"version":3,"file":"component.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/runtime/component.ts"],"sourcesContent":["/**\n * @see https://github.com/antvis/G2/discussions/4557\n */\nimport { Coordinate } from '@antv/coord';\nimport { deepMix, isEqual } from '@antv/util';\nimport { groups, max, sum } from '@antv/vendor/d3-array';\nimport { format } from '@antv/vendor/d3-format';\nimport { DisplayObject, Text } from '@antv/g';\nimport {\n  getPolarOptions,\n  getRadialOptions,\n  type PolarOptions,\n  type RadialOptions,\n} from '../coordinate';\nimport { combine } from '../utils/array';\nimport { prettyNumber } from '../utils/number';\nimport { capitalizeFirst, defined, subObject } from '../utils/helper';\nimport { LEGEND_INFER_STRATEGIES } from '../component/constant';\nimport {\n  coordOf,\n  isHelix,\n  isParallel,\n  isPolar,\n  isRadar,\n  isRadial,\n  isReflect,\n  isReflectY,\n  isTheta,\n  isTranspose,\n} from './coordinate';\nimport { useLibrary } from './library';\nimport { isValidScale } from './scale';\nimport {\n  G2MarkState,\n  G2Theme,\n  GuideComponentOrientation as GCO,\n  GuideComponentPosition as GCP,\n} from './types/common';\nimport {\n  GuideComponent,\n  GuideComponentComponent as GCC,\n  ScaleComponent,\n  Scale,\n} from './types/component';\nimport {\n  G2CoordinateOptions,\n  G2GuideComponentOptions,\n  G2Library,\n  G2Mark,\n  G2ScaleOptions,\n  G2View,\n} from './types/options';\nimport {\n  ConstantScale,\n  ContinuousScale,\n  DiscreteScale,\n  DistributionScale,\n} from './types/scale';\n\nexport function inferComponent(\n  scales: G2ScaleOptions[],\n  partialOptions: G2View,\n  library: G2Library,\n): G2GuideComponentOptions[] {\n  const { coordinates = [], title } = partialOptions;\n  const [, createGuideComponent] = useLibrary<\n    G2GuideComponentOptions,\n    GCC,\n    GuideComponent\n  >('component', library);\n\n  const displayedScales = scales.filter(({ guide }) => {\n    if (guide === null) return false;\n    return true;\n  });\n\n  const components = [];\n\n  // Sliders and scrollbar component.\n  const sliders = inferScrollableComponents(partialOptions, scales, library);\n  components.push(...sliders);\n\n  // Title components.\n  if (title) {\n    const { props } = createGuideComponent('title');\n    const {\n      defaultPosition,\n      defaultOrientation,\n      defaultOrder,\n      defaultSize,\n      defaultCrossPadding,\n    } = props;\n    const titleOptions = typeof title === 'string' ? { title } : title;\n    components.push({\n      type: 'title',\n      position: defaultPosition,\n      orientation: defaultOrientation,\n      order: defaultOrder,\n      crossPadding: defaultCrossPadding[0],\n      defaultSize,\n      ...titleOptions,\n    });\n  }\n\n  // Axis and legends.\n  const inferredComponents = inferComponentsType(displayedScales, coordinates);\n\n  inferredComponents.forEach(([type, relativeScales]) => {\n    const { props } = createGuideComponent(type);\n    const {\n      defaultPosition,\n      defaultPlane = 'xy',\n      defaultOrientation,\n      defaultSize,\n      defaultOrder,\n      defaultLength,\n      defaultPadding: DP = [0, 0],\n      defaultCrossPadding: DCP = [0, 0],\n    } = props;\n    // @todo to be confirm if the scale can be merged.\n    // const scale: G2ScaleOptions = Object.assign({}, ...relativeScales);\n    const scale: G2ScaleOptions = deepMix({}, ...relativeScales);\n    const { guide: guideOptions, field } = scale;\n    // A scale may have multiple guides.\n    const guides = Array.isArray(guideOptions) ? guideOptions : [guideOptions];\n    for (const partialGuide of guides) {\n      const [position, orientation] = inferComponentPositionAndOrientation(\n        type,\n        defaultPosition,\n        defaultOrientation,\n        partialGuide,\n        relativeScales,\n        displayedScales,\n        coordinates,\n      );\n\n      // Skip if position and orientation are not specified.\n      // @example the last axis of radar chart\n      if (!position && !orientation) continue;\n\n      const isVertical = position === 'left' || position === 'right';\n      const defaultPadding = isVertical ? DP[1] : DP[0];\n      const defaultCrossPadding = isVertical ? DCP[1] : DCP[0];\n\n      const {\n        size,\n        order = defaultOrder,\n        length = defaultLength,\n        padding = defaultPadding,\n        crossPadding = defaultCrossPadding,\n      } = partialGuide;\n\n      components.push({\n        title: field,\n        ...partialGuide,\n        defaultSize,\n        length,\n        position,\n        plane: defaultPlane,\n        orientation,\n        padding,\n        order,\n        crossPadding,\n        size,\n        type,\n        scales: relativeScales,\n      });\n    }\n  });\n\n  return components;\n}\n\nexport function renderComponent(\n  component: G2GuideComponentOptions,\n  coordinate: Coordinate,\n  theme: G2Theme,\n  library: G2Library,\n  markState: Map<G2Mark, G2MarkState>,\n) {\n  const [useGuideComponent] = useLibrary<\n    G2GuideComponentOptions,\n    GCC,\n    GuideComponent\n  >('component', library);\n  const { scaleInstances: scales, scale, bbox, ...options } = component;\n  const value = { bbox, library };\n  const render = useGuideComponent(options);\n  return render({\n    coordinate,\n    library,\n    markState,\n    scales,\n    theme,\n    value,\n    scale,\n  });\n}\n\nexport function normalizeComponents(components: G2GuideComponentOptions[]) {\n  return components.map((d) => {\n    const component = deepMix(d, d.style);\n    delete component.style;\n    return component;\n  });\n}\n\nexport function flatComponents(\n  components: G2GuideComponentOptions[],\n): G2GuideComponentOptions[] {\n  return components.flatMap((d) => (d.type == 'group' ? d.children : d));\n}\n\n// Wrap legends into a group component.\nexport function groupComponents(\n  components: G2GuideComponentOptions[],\n  crossSize?: number,\n): G2GuideComponentOptions[] {\n  // Group components by key.\n  const P = ['left', 'right', 'bottom', 'top'];\n  const key = ({ type, position, group }) => {\n    if (!P.includes(position)) return Symbol('independent');\n    if (group === undefined) {\n      if (type.startsWith('legend')) return `legend-${position}`;\n      return Symbol('independent');\n    }\n    if (group === 'independent') return Symbol('independent');\n    return group;\n  };\n  const grouped = groups(components, key);\n\n  // Update attributes of group components,\n  // and maybe flatten group components without enough room.\n  return grouped.flatMap(([, components]) => {\n    if (components.length === 1) return components[0];\n\n    // If crossSize defined, group components only when has\n    // enough room.\n    if (crossSize !== undefined) {\n      // Compute total length.\n      const DL = components\n        .filter((d) => d.length !== undefined)\n        .map((d) => d.length);\n      const totalLength = sum(DL);\n\n      // If there is no enough room for components,\n      // do not group.\n      if (totalLength > crossSize) {\n        components.forEach((d) => (d.group = Symbol('independent')));\n        return components;\n      }\n\n      // Group legends and update legend length.\n      const emptyLength = crossSize - totalLength;\n      const emptyCount = components.length - DL.length;\n      const length = emptyLength / emptyCount;\n      components.forEach((d) => {\n        if (d.length !== undefined) return;\n        d.length = length;\n      });\n    }\n\n    // Create a group component.\n    const size = max(components, (d) => d.size);\n    const order = max(components, (d) => d.order);\n    const crossPadding = max(components, (d) => d.crossPadding);\n    const position = components[0].position;\n    return {\n      type: 'group',\n      size,\n      order,\n      position,\n      children: components,\n      crossPadding,\n    };\n  });\n}\n\nfunction inferLegendComponentType(\n  scales: G2ScaleOptions[],\n  coordinates: G2CoordinateOptions[],\n) {\n  // Filter accepts scales.\n  const channels = ['shape', 'size', 'color', 'opacity'];\n  const isConstantSize = (type, name) => type === 'constant' && name === 'size';\n  const accepts = scales.filter(\n    ({ type, name }) =>\n      typeof type === 'string' &&\n      channels.includes(name) &&\n      !isConstantSize(type, name), // Do not support constant size scale.\n  );\n\n  // Group scales by fields.\n  const constants = accepts.filter(({ type }) => type === 'constant');\n  const nonConstants = accepts.filter(({ type }) => type !== 'constant');\n  const groupKey = (d) => (d.field ? d.field : Symbol('independent'));\n  const fieldScales = groups(nonConstants, groupKey)\n    .map(([key, scales]) => [key, [...scales, ...constants]] as const)\n    .filter(([, scales]) => scales.some((scale) => scale.type !== 'constant'));\n  const scalesByField = new Map(fieldScales) as Map<string, G2ScaleOptions[]>;\n\n  // Skip empty scales.\n  if (scalesByField.size === 0) return [];\n\n  // Infer components.\n  const sort = (arr: string[][]) => arr.sort(([a], [b]) => a.localeCompare(b));\n  const components = Array.from(scalesByField)\n    .map(([, scs]) => {\n      const combinations = combine(scs).sort((a, b) => b.length - a.length);\n      const options = combinations.map((combination) => ({\n        combination,\n        option: combination.map((scale) => [scale.name, getScaleType(scale)]),\n      }));\n\n      // For category legend.\n      for (const { option, combination } of options) {\n        // If every scale is constant, do not display legend.\n        if (option.every((d) => d[1] === 'constant')) continue;\n        if (option.every((d) => d[1] === 'discrete' || d[1] === 'constant')) {\n          return ['legendCategory', combination] as [string, G2ScaleOptions[]];\n        }\n      }\n\n      // For reset legend.\n      // @todo Remove this.\n      for (const [componentType, accords] of LEGEND_INFER_STRATEGIES) {\n        for (const { option, combination } of options) {\n          if (accords.some((accord) => isEqual(sort(accord), sort(option)))) {\n            return [componentType, combination] as [string, G2ScaleOptions[]];\n          }\n        }\n      }\n      return null;\n    })\n    .filter(defined);\n\n  return components;\n}\n\nfunction getScaleType(scale: G2ScaleOptions): string {\n  const { type } = scale;\n  if (typeof type !== 'string') return null;\n  if (type in ContinuousScale) return 'continuous';\n  if (type in DiscreteScale) return 'discrete';\n  if (type in DistributionScale) return 'distribution';\n  if (type in ConstantScale) return 'constant';\n  return null;\n}\n\nfunction inferAxisComponentType(\n  scales: G2ScaleOptions[],\n  coordinates: G2CoordinateOptions[],\n) {\n  return scales\n    .map((scale) => {\n      const { name } = scale;\n      // todo wait for gui provide helix axis\n      if (isHelix(coordinates) || isTheta(coordinates)) return null;\n      if (\n        isTranspose(coordinates) &&\n        (isPolar(coordinates) || isRadial(coordinates))\n      )\n        return null;\n      // infer axis\n      if (name.startsWith('x')) {\n        if (isPolar(coordinates)) return ['axisArc', [scale]];\n        if (isRadial(coordinates)) return ['axisLinear', [scale]];\n        return [isTranspose(coordinates) ? 'axisY' : 'axisX', [scale]];\n      }\n      if (name.startsWith('y')) {\n        if (isPolar(coordinates)) return ['axisLinear', [scale]];\n        if (isRadial(coordinates)) return ['axisArc', [scale]];\n        return [isTranspose(coordinates) ? 'axisX' : 'axisY', [scale]];\n      }\n      // Only support linear axis for z.\n      if (name.startsWith('z')) {\n        return ['axisZ', [scale]];\n      }\n      if (name.startsWith('position')) {\n        if (isRadar(coordinates)) return ['axisRadar', [scale]];\n        if (!isPolar(coordinates)) return ['axisY', [scale]];\n      }\n      return null;\n    })\n    .filter(defined) as [string | GCC, G2ScaleOptions[]][];\n}\n\nfunction inferComponentsType(\n  scales: G2ScaleOptions[],\n  coordinates: G2CoordinateOptions[],\n): [string | GCC, G2ScaleOptions[]][] {\n  const availableScales = scales.filter((scale) => isValidScale(scale));\n  return [\n    ...inferLegendComponentType(availableScales, coordinates),\n    ...inferAxisComponentType(availableScales, coordinates),\n  ];\n}\n\nfunction angleOf(coordinates: G2CoordinateOptions[]) {\n  const polar = coordOf(coordinates, 'polar');\n  if (polar.length) {\n    const lastPolar = polar[polar.length - 1] as PolarOptions;\n    const { startAngle, endAngle } = getPolarOptions(lastPolar);\n    return [startAngle, endAngle];\n  }\n  const radial = coordOf(coordinates, 'radial') as RadialOptions[];\n  if (radial.length) {\n    const lastRadial = radial[radial.length - 1];\n    const { startAngle, endAngle } = getRadialOptions(lastRadial);\n    return [startAngle, endAngle];\n  }\n  return [-Math.PI / 2, (Math.PI / 2) * 3];\n}\n\n/**\n * match index of position\n */\nfunction matchPosition(name: string) {\n  const match = /position(\\d*)/g.exec(name);\n  if (!match) return null;\n  return +match[1];\n}\n\nfunction inferAxisPositionAndOrientation(\n  type: string,\n  ordinalPosition: [GCP, GCO],\n  relativeScales: G2ScaleOptions[],\n  scales: G2ScaleOptions[],\n  coordinates: G2CoordinateOptions[],\n): [GCP, GCO] {\n  // a axis only has one scale\n  const { name } = relativeScales[0];\n  // todo, in current resolution, the radar chart is implement by parallel + polar coordinate.\n  // implementation plan to be confirmed.\n  // in current implementation, it must to add the first position encode to it's last.\n  // so we won't render the last axis repeatably.\n  if (type === 'axisRadar') {\n    const positions = scales.filter((scale) =>\n      scale.name.startsWith('position'),\n    );\n    const index = matchPosition(name);\n    if (index === null) return [null, null];\n    // infer radar axis orientation\n    const [startAngle, endAngle] = angleOf(coordinates);\n    const positionLength = isRadar(coordinates)\n      ? positions.length\n      : positions.length - 1;\n    const angle =\n      ((endAngle - startAngle) / positionLength) * index + startAngle;\n    return ['center', angle];\n  }\n\n  if (type === 'axisY' && isParallel(coordinates)) {\n    return isTranspose(coordinates)\n      ? ['center', 'horizontal']\n      : ['center', 'vertical'];\n  }\n\n  // in non-cartesian coordinate systems, infer the arc axis angle\n  if (type === 'axisLinear') {\n    const [startAngle] = angleOf(coordinates);\n    return ['center', startAngle];\n  }\n\n  if (type === 'axisArc') {\n    if (ordinalPosition[0] === 'inner') return ['inner', null];\n    return ['outer', null];\n  }\n\n  if (isPolar(coordinates)) return ['center', null];\n  if (isRadial(coordinates)) return ['center', null];\n  if (\n    (type === 'axisX' && isReflect(coordinates)) ||\n    (type === 'axisX' && isReflectY(coordinates))\n  ) {\n    return ['top', null];\n  }\n\n  // if (type === 'axisX') return ['bottom', null];\n  return ordinalPosition;\n}\n\n// @todo Infer position by coordinates.\nfunction inferComponentPositionAndOrientation(\n  type: string | GCC,\n  defaultPosition: GCP,\n  defaultOrientation: GCO,\n  guide: G2GuideComponentOptions,\n  relativeScales: G2ScaleOptions[],\n  scales: G2ScaleOptions[],\n  coordinates: G2CoordinateOptions[],\n): [GCP, GCO] {\n  const [startAngle] = angleOf(coordinates);\n  const ordinalPositionAndOrientation: [GCP, GCO] = [\n    guide.position || defaultPosition,\n    startAngle ?? defaultOrientation,\n  ];\n\n  if (typeof type === 'string' && type.startsWith('axis')) {\n    return inferAxisPositionAndOrientation(\n      type,\n      ordinalPositionAndOrientation,\n      relativeScales,\n      scales,\n      coordinates,\n    );\n  }\n\n  if (\n    typeof type === 'string' &&\n    type.startsWith('legend') &&\n    isPolar(coordinates)\n  ) {\n    if (guide.position === 'center') return ['center', 'vertical'];\n  }\n  // for general component, use default position\n  return ordinalPositionAndOrientation;\n}\n\nfunction inferScrollableType(name: string, type: string, coordinates = []) {\n  if (name === 'x') return isTranspose(coordinates) ? `${type}Y` : `${type}X`;\n  if (name === 'y') return isTranspose(coordinates) ? `${type}X` : `${type}Y`;\n  return null;\n}\n\n/**\n * Infer scrollable components, such as slider and scrollbar.\n */\nfunction inferScrollableComponents(\n  partialOptions: G2View,\n  scales: G2ScaleOptions[],\n  library: G2Library,\n): G2GuideComponentOptions[] {\n  const [, createGuideComponent] = useLibrary<\n    G2GuideComponentOptions,\n    GCC,\n    GuideComponent\n  >('component', library);\n\n  const { coordinates } = partialOptions;\n\n  function normalized(\n    type: string,\n    channelName: string,\n    scale: G2ScaleOptions,\n    options: Record<string, any>,\n  ) {\n    const componentType = inferScrollableType(channelName, type, coordinates);\n    if (!options || !componentType) return;\n\n    const { props } = createGuideComponent(componentType);\n    const {\n      defaultPosition,\n      defaultSize,\n      defaultOrder,\n      defaultCrossPadding: [crossPadding],\n    } = props;\n    return {\n      position: defaultPosition,\n      defaultSize,\n      order: defaultOrder,\n      type: componentType,\n      crossPadding,\n      ...options,\n      scales: [scale],\n    };\n  }\n  return scales\n    .filter((d) => d.slider || d.scrollbar)\n    .flatMap((scale) => {\n      const { slider, scrollbar, name: channelName } = scale;\n      return [\n        normalized('slider', channelName, scale, slider),\n        normalized('scrollbar', channelName, scale, scrollbar),\n      ];\n    })\n    .filter((d) => !!d);\n}\n\n// !!! Note Mutate component.size and component.\nexport function computeComponentSize(\n  component: G2GuideComponentOptions,\n  crossSize: number,\n  crossPadding: [number, number],\n  position: GCP,\n  theme: G2Theme,\n  library: G2Library,\n) {\n  // Only compute and update size of components in padding area.\n  const { type } = component;\n  const paddingAreas = ['left', 'right', 'bottom', 'top'];\n  if (!paddingAreas.includes(position)) return;\n  if (typeof type !== 'string') return;\n  const t = type as unknown as string;\n  const createCompute = () => {\n    if (t.startsWith('axis')) return computeAxisSize;\n    if (t.startsWith('group')) return computeGroupSize;\n    if (t.startsWith('legendContinuous')) return computeContinuousLegendSize;\n    if (t === 'legendCategory') return computeCategoryLegendSize;\n    if (t.startsWith('slider')) return computeSliderSize;\n    if (t === 'title') return computeTitleSize;\n    if (t.startsWith('scrollbar')) return computeScrollbarSize;\n    return () => {};\n  };\n  return createCompute()(\n    component,\n    crossSize,\n    crossPadding,\n    position,\n    theme,\n    library,\n  );\n}\n\nfunction computeGroupSize(\n  component: G2GuideComponentOptions,\n  crossSize: number,\n  crossPadding: [number, number],\n  position: GCP,\n  theme: G2Theme,\n  library: G2Library,\n) {\n  const { children } = component;\n  const maxCrossPadding = max(\n    children,\n    (d: G2GuideComponentOptions) => d.crossPadding,\n  );\n  children.forEach((d) => (d.crossPadding = maxCrossPadding));\n  children.forEach((child) =>\n    computeComponentSize(\n      child,\n      crossSize,\n      crossPadding,\n      position,\n      theme,\n      library,\n    ),\n  );\n  const maxSize = max(children, (d: G2GuideComponentOptions) => d.size);\n  component.size = maxSize;\n  children.forEach((d) => (d.size = maxSize));\n}\n\nfunction computeScrollbarSize(\n  component: G2GuideComponentOptions,\n  crossSize: number,\n  crossPadding: [number, number],\n  position: GCP,\n  theme: G2Theme,\n  library: G2Library,\n) {\n  const { trackSize = 6 } = deepMix({}, theme.scrollbar, component);\n  component.size = trackSize;\n}\n\nfunction computeTitleSize(\n  component: G2GuideComponentOptions,\n  crossSize: number,\n  crossPadding: [number, number],\n  position: GCP,\n  theme: G2Theme,\n  library: G2Library,\n) {\n  const {\n    title,\n    subtitle,\n    spacing = 0,\n    ...style\n  } = deepMix({}, theme.title, component);\n  if (title) {\n    const titleStyle = subObject(style, 'title');\n    const titleBBox = computeLabelSize(title, titleStyle);\n    component.size = titleBBox.height;\n  }\n  if (subtitle) {\n    const subtitleStyle = subObject(style, 'subtitle');\n    const subtitleBBox = computeLabelSize(subtitle, subtitleStyle);\n    component.size += spacing + subtitleBBox.height;\n  }\n}\n\nfunction computeSliderSize(\n  component: G2GuideComponentOptions,\n  crossSize: number,\n  crossPadding: [number, number],\n  position: GCP,\n  theme: G2Theme,\n  library: G2Library,\n) {\n  const styleOf = () => {\n    const { slider } = theme;\n    return deepMix({}, slider, component);\n  };\n  const { trackSize, handleIconSize } = styleOf();\n  const size = Math.max(trackSize, handleIconSize * 2.4);\n  component.size = size;\n}\n\nfunction computeAxisSize(\n  component: G2GuideComponentOptions,\n  crossSize: number,\n  crossPadding: [number, number],\n  position: GCP,\n  theme: G2Theme,\n  library: G2Library,\n) {\n  // If padding is auto, use hide as the labelTransform by default\n  // to avoid overlap between labels.\n  component.transform = component.transform || [{ type: 'hide' }];\n\n  // Vertical or horizontal.\n  const isVertical = position === 'left' || position === 'right';\n\n  // Get styles to be applied.\n  const style = styleOf(component, position, theme);\n  const {\n    tickLength = 0,\n    labelSpacing = 0,\n    titleSpacing = 0,\n    labelAutoRotate,\n    ...rest\n  } = style;\n\n  // Compute Labels.\n  const scale = createScale(component, library);\n  const labelBBoxes = computeLabelsBBox(rest, scale);\n\n  // Compute dynamic tickLength if it's a function\n  let maxTickLength = tickLength;\n  if (typeof component.tickLength === 'function') {\n    const ticks = scale.getTicks?.() || scale.getOptions().domain;\n    const tickLengths = ticks.map((d, i, array) =>\n      component.tickLength(d, i, array),\n    );\n    maxTickLength = Math.max(...tickLengths, 0);\n  }\n\n  const paddingTick = maxTickLength + labelSpacing;\n  if (labelBBoxes && labelBBoxes.length) {\n    const maxLabelWidth = max(labelBBoxes, (d) => d.width);\n    const maxLabelHeight = max(labelBBoxes, (d) => d.height);\n    if (isVertical) {\n      component.size = maxLabelWidth + paddingTick;\n    } else {\n      const { tickFilter, labelTransform } = component;\n      // If the labels can't be placed horizontally, and labelTransform is unset,\n      // rotate 90 deg to display them.\n      if (\n        overflowX(scale, labelBBoxes, crossSize, crossPadding, tickFilter) &&\n        !labelTransform &&\n        labelAutoRotate !== false &&\n        labelAutoRotate !== null\n      ) {\n        component.labelTransform = 'rotate(90)';\n        component.size = maxLabelWidth + paddingTick;\n      } else {\n        component.labelTransform = component.labelTransform ?? 'rotate(0)';\n        component.size = maxLabelHeight + paddingTick;\n      }\n    }\n  } else {\n    component.size = maxTickLength;\n  }\n\n  // Compute title.\n  const titleBBox = computeTitleBBox(rest);\n  if (titleBBox) {\n    if (isVertical) {\n      component.size += titleSpacing + titleBBox.width;\n    } else {\n      component.size += titleSpacing + titleBBox.height;\n    }\n  }\n}\n\nfunction computeContinuousLegendSize(\n  component: G2GuideComponentOptions,\n  crossSize: number,\n  crossPadding: [number, number],\n  position: GCP,\n  theme: G2Theme,\n  library: G2Library,\n) {\n  // Get styles.\n  const styleOf = () => {\n    const { legendContinuous } = theme;\n    return deepMix({}, legendContinuous, component);\n  };\n  const { labelSpacing = 0, titleSpacing = 0, ...rest } = styleOf();\n\n  // Vertical or horizontal.\n  const isVertical = position === 'left' || position === 'right';\n\n  // Ribbon styles.\n  const ribbonStyles = subObject(rest, 'ribbon');\n  const { size: ribbonSize } = ribbonStyles;\n\n  const handleIconStyles = subObject(rest, 'handleIcon');\n  const { size: handleIconSize } = handleIconStyles;\n\n  const mainSize = Math.max(\n    ribbonSize,\n    handleIconSize * 2.4, // height = width * 2.4\n  );\n\n  component.size = mainSize;\n\n  // Compute labels.\n  const scale = createScale(component, library);\n  const labelBBoxes = computeLabelsBBox(rest, scale);\n  if (labelBBoxes) {\n    const key = isVertical ? 'width' : 'height';\n    const size = max(labelBBoxes, (d) => d[key]);\n    component.size += size + labelSpacing;\n  }\n\n  // Compute title.\n  const titleBBox = computeTitleBBox(rest);\n  if (titleBBox) {\n    if (isVertical) {\n      component.size = Math.max(component.size, titleBBox.width);\n    } else {\n      component.size += titleSpacing + titleBBox.height;\n    }\n  }\n}\n\nfunction computeCategoryLegendSize(\n  component: G2GuideComponentOptions,\n  crossSize0: number,\n  crossPadding: [number, number],\n  position: GCP,\n  theme: G2Theme,\n  library: G2Library,\n) {\n  const styleOf = () => {\n    const { legendCategory } = theme;\n    const { title } = component;\n    const [defaultTitle, specifiedTitle] = Array.isArray(title)\n      ? [title, undefined]\n      : [undefined, title];\n    return deepMix({ title: defaultTitle }, legendCategory, {\n      ...component,\n      title: specifiedTitle,\n    });\n  };\n\n  const {\n    focus,\n    itemSpacing,\n    focusMarkerSize,\n    itemMarkerSize,\n    titleSpacing,\n    rowPadding,\n    colPadding,\n    maxCols = Infinity,\n    maxRows = Infinity,\n    ...rest\n  } = styleOf();\n\n  const { cols, length } = component;\n\n  const getRows = (rows) => Math.min(rows, maxRows);\n  const getCols = (cols) => Math.min(cols, maxCols);\n\n  // Vertical or horizontal.\n  const isVertical = position === 'left' || position === 'right';\n\n  const crossSize =\n    length === undefined\n      ? crossSize0 + (isVertical ? 0 : crossPadding[0] + crossPadding[1])\n      : length;\n\n  // Compute title.\n  const titleBBox = computeTitleBBox(rest);\n\n  const scale = createScale(component, library);\n  const labelBBoxes = computeLabelsBBox(rest, scale, 'itemLabel');\n\n  const height = Math.max(labelBBoxes[0].height, itemMarkerSize) + rowPadding;\n  const widthOf = (w, padding = 0) =>\n    itemMarkerSize +\n    w +\n    itemSpacing[0] +\n    padding +\n    (focus ? focusMarkerSize + itemSpacing[2] : 0);\n\n  // Only support grid layout for vertical area.\n  const computeVerticalSize = () => {\n    let maxSize = -Infinity;\n    let pos = 0;\n    let cols = 1;\n    let rows = 0;\n    let maxRows = -Infinity;\n    let maxPos = -Infinity;\n    const titleHeight = titleBBox ? titleBBox.height : 0;\n    const maxHeight = crossSize - titleHeight;\n    for (const { width } of labelBBoxes) {\n      const w = widthOf(width, colPadding);\n      maxSize = Math.max(maxSize, w);\n      if (pos + height > maxHeight) {\n        cols++;\n        maxRows = Math.max(maxRows, rows);\n        maxPos = Math.max(maxPos, pos);\n        rows = 1;\n        pos = height;\n      } else {\n        pos += height;\n        rows++;\n      }\n    }\n    if (cols <= 1) {\n      maxRows = rows;\n      maxPos = pos;\n    }\n    component.size = maxSize * getCols(cols);\n    component.length = maxPos + titleHeight;\n    deepMix(component, { cols: getCols(cols), gridRow: maxRows });\n  };\n\n  // Horizontal grid layout.\n  const computeHorizontalGrid = () => {\n    const rows = Math.ceil(labelBBoxes.length / cols);\n    const maxWidth = max(labelBBoxes, (d) => widthOf(d.width)) * cols;\n    component.size = height * getRows(rows) - rowPadding;\n    component.length = Math.min(maxWidth, crossSize);\n  };\n\n  // Horizontal flex layout.\n  const computeHorizontalFlex = () => {\n    let rows = 1;\n    let pos = 0;\n    let maxPos = -Infinity;\n    for (const { width } of labelBBoxes) {\n      const w = widthOf(width, colPadding);\n      if (pos + w > crossSize) {\n        maxPos = Math.max(maxPos, pos);\n        pos = w;\n        rows++;\n      } else {\n        pos += w;\n      }\n    }\n    if (rows === 1) maxPos = pos;\n    component.size = height * getRows(rows) - rowPadding;\n    component.length = maxPos;\n  };\n\n  if (isVertical) computeVerticalSize();\n  else if (typeof cols === 'number') computeHorizontalGrid();\n  else computeHorizontalFlex();\n\n  // Compute titles.\n  if (titleBBox) {\n    if (isVertical) {\n      component.size = Math.max(component.size, titleBBox.width);\n    } else {\n      component.size += titleSpacing + titleBBox.height;\n    }\n  }\n}\n\nexport function createScale(\n  component: G2GuideComponentOptions,\n  library: G2Library,\n): Scale {\n  const [useScale] = useLibrary<G2ScaleOptions, ScaleComponent, Scale>(\n    'scale',\n    library,\n  );\n  // Init scale, the tickCount of axis has higher priority than scale.\n  const { scales, tickCount, tickMethod } = component;\n  const scaleOptions = scales.find(\n    (d) => d.type !== 'constant' && d.type !== 'identity',\n  );\n  if (tickCount !== undefined) scaleOptions.tickCount = tickCount;\n  if (tickMethod !== undefined) scaleOptions.tickMethod = tickMethod;\n  return useScale(scaleOptions);\n}\n\nexport function computeLabelsBBox(\n  component: G2GuideComponentOptions,\n  scale: Scale,\n  key = 'label',\n) {\n  const { labelFormatter, tickFilter, label = true, ...style } = component;\n  if (!label) return null;\n\n  // Get labels to be rendered.\n  const labels = labelsOf(scale, labelFormatter, tickFilter);\n  const labelStyle = subObject(style, key);\n  const labelStyles = labels.map((d, i) =>\n    Object.fromEntries(\n      Object.entries(labelStyle).map(([key, value]) => [\n        key,\n        typeof value === 'function' ? value(d, i) : value,\n      ]),\n    ),\n  );\n  const labelBBoxes = labels.map((d, i) => {\n    const normalizeStyle = labelStyles[i];\n    return computeLabelSize(d, normalizeStyle);\n  });\n\n  // Cache boxes to avoid computed twice.\n  // @todo GUI use untransformed bbox, so it can't cache if\n  // label.style has transform attributes.\n  const hasTransform = labelStyles.some((d) => d.transform);\n  if (!hasTransform) {\n    const I = labels.map((_, i) => i);\n    component.indexBBox = new Map(\n      I.map((i) => [i, [labels[i], labelBBoxes[i]]]),\n    );\n  }\n\n  return labelBBoxes;\n}\n\nexport function computeTitleBBox(component: G2GuideComponentOptions) {\n  const isFalsy = (x) => x === false || x === null;\n  const { title, ...style } = component;\n  if (isFalsy(title) || title === undefined) return null;\n  const titleStyle = subObject(style, 'title');\n  const { direction, transform } = titleStyle;\n  const titleText = Array.isArray(title) ? title.join(',') : title;\n  if (typeof titleText !== 'string') return null;\n  const titleBBox = computeLabelSize(titleText, {\n    ...titleStyle,\n    transform: transform || (direction === 'vertical' ? 'rotate(-90)' : ''),\n  });\n  return titleBBox;\n}\n\nexport function styleOf(\n  axis: G2GuideComponentOptions,\n  position: GCP,\n  theme: G2Theme,\n): Record<string, any> {\n  const { title } = axis;\n  const [defaultTitle, specifiedTitle] = Array.isArray(title)\n    ? [title, undefined]\n    : [undefined, title];\n  const {\n    axis: baseStyle,\n    // @ts-ignore\n    [`axis${capitalizeFirst(position)}`]: positionStyle,\n  } = theme;\n  return deepMix({ title: defaultTitle }, baseStyle, positionStyle, {\n    ...axis,\n    title: specifiedTitle,\n  });\n}\n\nfunction ticksOf(scale: Scale, tickFilter: (d: any) => boolean): any[] {\n  const ticks = scale.getTicks ? scale.getTicks() : scale.getOptions().domain;\n  if (!tickFilter) return ticks;\n  return ticks.filter(tickFilter);\n}\n\nfunction labelsOf(\n  scale: Scale,\n  labelFormatter: (d: any) => string | DisplayObject,\n  tickFilter,\n): (string | DisplayObject)[] {\n  const T = ticksOf(scale, tickFilter);\n  const ticks = T.map((d) => (typeof d === 'number' ? prettyNumber(d) : d));\n  const formatter = labelFormatter\n    ? typeof labelFormatter === 'string'\n      ? format(labelFormatter)\n      : labelFormatter\n    : scale.getFormatter\n    ? scale.getFormatter()\n    : (d) => `${d}`;\n  return ticks.map(formatter);\n}\n\nfunction offsetOf(scale: Scale, d: any): number {\n  if (!scale.getBandWidth) return 0;\n  const offset = scale.getBandWidth(d) / 2;\n  return offset;\n}\n\nfunction overflowX(\n  scale: Scale,\n  labelBBoxes: DOMRect[],\n  crossSize: number,\n  crossPadding: [number, number],\n  tickFilter: (d: any) => boolean,\n): boolean {\n  // If actual size bigger than container size, overflow.\n  const totalSize = sum(labelBBoxes, (d) => d.width);\n  if (totalSize > crossSize) return true;\n\n  // Clone scale to get visual position for labels.\n  const scaleX = scale.clone();\n  scaleX.update({ range: [0, crossSize] });\n  const ticks = ticksOf(scale, tickFilter);\n  const X = ticks.map((d) => scaleX.map(d) + offsetOf(scaleX, d));\n\n  const I = ticks.map((_, i) => i);\n  const startX = -crossPadding[0];\n  const endX = crossSize + crossPadding[1];\n  const extent = (x, bbox) => {\n    const { width } = bbox;\n    return [x - width / 2, x + width / 2];\n  };\n\n  // Collision detection.\n  for (let i = 0; i < I.length; i++) {\n    const x = X[i];\n    const [x0, x1] = extent(x, labelBBoxes[i]);\n    // If a label is out of plot area, overflow.\n    if (x0 < startX || x1 > endX) return true;\n    const y = X[i + 1];\n    if (y) {\n      // If two labels intersect, overflow.\n      const [y0] = extent(y, labelBBoxes[i + 1]);\n      if (x1 > y0) return true;\n    }\n  }\n  return false;\n}\n\nfunction computeLabelSize(\n  d: string | DisplayObject,\n  style: Record<string, any>,\n): DOMRect {\n  const shape = normalizeLabel(d);\n  const { filter, ...rest } = style;\n  shape.attr({ ...rest, visibility: 'none' });\n  const bbox = shape.getBBox();\n  return bbox;\n}\n\nfunction normalizeLabel(d: string | DisplayObject): DisplayObject {\n  if (d instanceof DisplayObject) return d;\n  return new Text({ style: { text: `${d}` } });\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1875, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1881, "column": 0}, "map": {"version":3,"file":"layout.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/runtime/layout.ts"],"sourcesContent":["import { Coordinate } from '@antv/coord';\nimport {\n  NestedInternMap,\n  ascending,\n  group,\n  max,\n  min,\n  sum,\n} from '@antv/vendor/d3-array';\nimport { measureTextWidth } from '@antv/component';\nimport { deepMix, head, last, get } from '@antv/util';\nimport { isParallel, isPolar, isRadar, radiusOf } from '../utils/coordinate';\nimport { capitalizeFirst, defined } from '../utils/helper';\nimport { divide } from '../utils/array';\nimport { camelCase } from '../utils/string';\nimport {\n  GuideComponentPosition as GCP,\n  GuideComponentOrientation as GCO,\n  Layout,\n  Section,\n  SectionArea,\n  G2Theme,\n  GuideComponentPlane,\n} from './types/common';\nimport {\n  computeComponentSize,\n  computeLabelsBBox,\n  computeTitleBBox,\n  createScale,\n  groupComponents,\n  styleOf,\n} from './component';\nimport { G2GuideComponentOptions, G2Library, G2View } from './types/options';\nimport {\n  isPolar as isPolarOptions,\n  isRadial as isRadarOptions,\n} from './coordinate';\n\nconst DEFAULT_MARGIN = 16;\n\nexport function processAxisZ(components: G2GuideComponentOptions[]) {\n  const axisX = components.find(({ type }) => type === 'axisX');\n  const axisY = components.find(({ type }) => type === 'axisY');\n  const axisZ = components.find(({ type }) => type === 'axisZ');\n  if (axisX && axisY && axisZ) {\n    axisX.plane = 'xy';\n    axisY.plane = 'xy';\n    axisZ.plane = 'yz';\n    axisZ.origin = [axisX.bbox.x, axisX.bbox.y, 0];\n    axisZ.eulerAngles = [0, -90, 0];\n    axisZ.bbox.x = axisX.bbox.x;\n    axisZ.bbox.y = axisX.bbox.y;\n    components.push({\n      ...axisX,\n      plane: 'xz',\n      showLabel: false,\n      showTitle: false,\n      origin: [axisX.bbox.x, axisX.bbox.y, 0],\n      eulerAngles: [-90, 0, 0],\n    });\n    components.push({\n      ...axisY,\n      plane: 'yz',\n      showLabel: false,\n      showTitle: false,\n      origin: [axisY.bbox.x + axisY.bbox.width, axisY.bbox.y, 0],\n      eulerAngles: [0, -90, 0],\n    });\n    components.push({\n      ...axisZ,\n      plane: 'xz',\n      actualPosition: 'left',\n      showLabel: false,\n      showTitle: false,\n      eulerAngles: [90, -90, 0],\n    });\n  }\n}\n\nexport function computeLayout(\n  components: G2GuideComponentOptions[],\n  options: G2View,\n  theme: G2Theme,\n  library: G2Library,\n): Layout {\n  const {\n    width,\n    height,\n    depth,\n    x = 0,\n    y = 0,\n    z = 0,\n    inset = theme.inset ?? 0,\n    insetLeft = inset,\n    insetTop = inset,\n    insetBottom = inset,\n    insetRight = inset,\n    margin = theme.margin ?? 0,\n    marginLeft = margin,\n    marginBottom = margin,\n    marginTop = margin,\n    marginRight = margin,\n    padding = theme.padding,\n    paddingBottom = padding,\n    paddingLeft = padding,\n    paddingRight = padding,\n    paddingTop = padding,\n  } = computeInset(components, options, theme, library);\n\n  const isDefaultLayoutLeft =\n    marginLeft === DEFAULT_MARGIN && paddingLeft === 'auto';\n  const isDefaultLayoutRight =\n    marginRight === DEFAULT_MARGIN && paddingRight === 'auto';\n  const isTranspose = get(options, 'coordinates', []).some(\n    (t) => t.type === 'transpose',\n  );\n  const axisX = components.find(({ type }) => type === 'axisX');\n  const { size, labelTransform } = axisX || {};\n\n  const MIN_CONTENT_RATIO = 1 / 4;\n\n  const maybeClamp = (viewWidth, paddingLeft, paddingRight, pl0, pr0) => {\n    // Only clamp when has marks.\n    const { marks } = options;\n    if (marks.length === 0) return [pl0, pr0];\n\n    // If size of content is enough, skip.\n    const contentSize = viewWidth - pl0 - pr0;\n    const diff = contentSize - viewWidth * MIN_CONTENT_RATIO;\n    if (diff > 0) return [pl0, pr0];\n\n    // Shrink start and end size equally.\n    const shrinkSize = viewWidth * (1 - MIN_CONTENT_RATIO);\n    return [\n      paddingLeft === 'auto' ? (shrinkSize * pl0) / (pl0 + pr0) : pl0,\n      paddingRight === 'auto' ? (shrinkSize * pr0) / (pl0 + pr0) : pr0,\n    ];\n  };\n\n  const roughPadding = (padding) => (padding === 'auto' ? 20 : padding ?? 20);\n  const rpt = roughPadding(paddingTop);\n  const rpb = roughPadding(paddingBottom);\n\n  // Compute paddingLeft and paddingRight first to get innerWidth.\n  const horizontalPadding = computePadding(\n    components,\n    height - rpt - rpb,\n    [rpt + marginTop, rpb + marginBottom],\n    ['left', 'right'],\n    options,\n    theme,\n    library,\n  );\n  const { paddingLeft: pl0, paddingRight: pr0 } = horizontalPadding;\n  const viewWidth = width - marginLeft - marginRight;\n  let [pl, pr] = maybeClamp(viewWidth, paddingLeft, paddingRight, pl0, pr0);\n  let iw = viewWidth - pl - pr;\n\n  // Compute paddingBottom and paddingTop based on innerWidth.\n  const verticalPadding = computePadding(\n    components,\n    iw,\n    [pl + marginLeft, pr + marginRight],\n    ['bottom', 'top'],\n    options,\n    theme,\n    library,\n  );\n  const { paddingTop: pt0, paddingBottom: pb0 } = verticalPadding;\n  const viewHeight = height - marginBottom - marginTop;\n  const [pb, pt] = maybeClamp(viewHeight, paddingBottom, paddingTop, pb0, pt0);\n  const ih = viewHeight - pb - pt;\n\n  // Adjust paddingLeft and paddingRight for axisX when they are 'auto' and not specified by user.\n  if (size && !isTranspose && !labelTransform) {\n    const { fontSize = 12, fontFamily = 'sans-serif', scales = [] } = axisX;\n    const domain = scales?.[0]?.domain ?? [];\n    if (!domain.length) return;\n\n    const adjustSide = (\n      side: 'left' | 'right',\n      labelText: string,\n      margin: number,\n      padding: number,\n    ) => {\n      const labelWidth = measureTextWidth(labelText, { fontSize, fontFamily });\n      const diff = labelWidth / 2 - margin - padding;\n      if (diff > 0) {\n        iw -= diff;\n        if (side === 'left') pl += labelWidth / 2 - margin;\n        else pr += labelWidth / 2 - margin;\n      }\n    };\n\n    if (isDefaultLayoutLeft) {\n      adjustSide('left', head(domain), marginLeft, pl);\n    }\n\n    if (isDefaultLayoutRight) {\n      adjustSide('right', last(domain), marginRight, pr);\n    }\n  }\n\n  return {\n    width,\n    height,\n    depth,\n    insetLeft,\n    insetTop,\n    insetBottom,\n    insetRight,\n    innerWidth: iw,\n    innerHeight: ih,\n    paddingLeft: pl,\n    paddingRight: pr,\n    paddingTop: pt,\n    paddingBottom: pb,\n    marginLeft,\n    marginBottom,\n    marginTop,\n    marginRight,\n    x,\n    y,\n    z,\n  };\n}\n\n// For composite mark with a layout algorithm and without axis,\n// such as worldcloud, circlepack.\nexport function computeRoughPlotSize(options: G2View) {\n  const {\n    height,\n    width,\n    padding = 0,\n    paddingLeft = padding,\n    paddingRight = padding,\n    paddingTop = padding,\n    paddingBottom = padding,\n    margin = 16,\n    marginLeft = margin,\n    marginRight = margin,\n    marginTop = margin,\n    marginBottom = margin,\n    inset = 0,\n    insetLeft = inset,\n    insetRight = inset,\n    insetTop = inset,\n    insetBottom = inset,\n  } = options;\n\n  // @todo Add this padding to theme.\n  // 30 is default size for padding, which defined in runtime.\n  const maybeAuto = (padding) => (padding === 'auto' ? 20 : padding);\n\n  const finalWidth =\n    width -\n    maybeAuto(paddingLeft) -\n    maybeAuto(paddingRight) -\n    marginLeft -\n    marginRight -\n    insetLeft -\n    insetRight;\n\n  const finalHeight =\n    height -\n    maybeAuto(paddingTop) -\n    maybeAuto(paddingBottom) -\n    marginTop -\n    marginBottom -\n    insetTop -\n    insetBottom;\n\n  return { width: finalWidth, height: finalHeight };\n}\n\nfunction computeInset(\n  components: G2GuideComponentOptions[],\n  options: G2View,\n  theme: G2Theme,\n  library: G2Library,\n) {\n  const { coordinates } = options;\n  if (!isPolarOptions(coordinates) && !isRadarOptions(coordinates)) {\n    return options;\n  }\n\n  // Filter axis.\n  const axes = components.filter(\n    (d) => typeof d.type === 'string' && d.type.startsWith('axis'),\n  );\n\n  if (axes.length === 0) return options;\n\n  const styles = axes.map((component) => {\n    const key = component.type === 'axisArc' ? 'arc' : 'linear';\n    return styleOf(component, key as any, theme);\n  });\n\n  // Compute max labelSpacing.\n  const maxLabelSpacing = max(styles, (d) => d.labelSpacing ?? 0);\n\n  // Compute labelBBoxes.\n  const labelBBoxes = axes\n    .flatMap((component, i) => {\n      const style = styles[i];\n      const scale = createScale(component, library);\n      const labels = computeLabelsBBox(style, scale);\n      return labels;\n    })\n    .filter(defined);\n\n  const size = max(labelBBoxes, (d) => d.height) + maxLabelSpacing;\n\n  // Compute titles.\n  const titleBBoxes = axes\n    .flatMap((_, i) => {\n      const style = styles[i];\n      return computeTitleBBox(style);\n    })\n    .filter((d) => d !== null);\n  const titleSize =\n    titleBBoxes.length === 0 ? 0 : max(titleBBoxes, (d) => d.height);\n\n  // Update inset.\n  const {\n    inset = size,\n    insetLeft = inset,\n    insetBottom = inset,\n    insetTop = inset + titleSize,\n    insetRight = inset,\n  } = options;\n  return { ...options, insetLeft, insetBottom, insetTop, insetRight };\n}\n\n/**\n * @todo Support percentage size(e.g. 50%)\n */\nfunction computePadding(\n  components: G2GuideComponentOptions[],\n  crossSize: number,\n  crossPadding: [number, number],\n  positions: GCP[],\n  options: G2View,\n  theme: G2Theme,\n  library: G2Library,\n) {\n  const positionComponents = group(components, (d) => d.position);\n  const {\n    padding = theme.padding,\n    paddingLeft = padding,\n    paddingRight = padding,\n    paddingBottom = padding,\n    paddingTop = padding,\n  } = options;\n  const layout = {\n    paddingBottom,\n    paddingLeft,\n    paddingTop,\n    paddingRight,\n  };\n\n  for (const position of positions) {\n    const key = `padding${capitalizeFirst(camelCase(position))}`;\n    const components = positionComponents.get(position) || [];\n    const value = layout[key];\n    const defaultSizeOf = (d) => {\n      if (d.size === undefined) d.size = d.defaultSize;\n    };\n    const sizeOf = (d) => {\n      if (d.type === 'group') {\n        d.children.forEach(defaultSizeOf);\n        d.size = max(d.children, (d) => (d as any).size);\n      } else {\n        d.size = d.defaultSize;\n      }\n    };\n    const autoSizeOf = (d) => {\n      if (d.size) return;\n      if (value !== 'auto') sizeOf(d);\n      else {\n        // Compute component size dynamically.\n        computeComponentSize(\n          d,\n          crossSize,\n          crossPadding,\n          position,\n          theme,\n          library,\n        );\n        defaultSizeOf(d);\n      }\n    };\n\n    const maybeHide = (d) => {\n      if (!d.type.startsWith('axis')) return;\n      if (d.labelAutoHide === undefined) d.labelAutoHide = true;\n    };\n\n    const isHorizontal = position === 'bottom' || position === 'top';\n\n    // !!!Note\n    // Mute axis component padding.\n    // The first axis do not has padding.\n    const minOrder = min(components, (d) => d.order);\n    const axes = components.filter(\n      (d) => (d.type as string).startsWith('axis') && d.order == minOrder,\n    );\n    if (axes.length) axes[0].crossPadding = 0;\n\n    // Specified padding.\n    if (typeof value === 'number') {\n      components.forEach(defaultSizeOf);\n      components.forEach(maybeHide);\n    } else {\n      // Compute padding dynamically.\n      if (components.length === 0) {\n        layout[key] = 0;\n      } else {\n        const size = isHorizontal\n          ? crossSize + crossPadding[0] + crossPadding[1]\n          : crossSize;\n        const grouped = groupComponents(components, size);\n        grouped.forEach(autoSizeOf);\n        const totalSize = grouped.reduce(\n          (sum, { size, crossPadding = 12 }) => sum + size + crossPadding,\n          0,\n        );\n        layout[key] = totalSize;\n      }\n    }\n  }\n\n  return layout;\n}\n\nexport function placeComponents(\n  components: G2GuideComponentOptions[],\n  coordinate: Coordinate,\n  layout: Layout,\n): void {\n  // Group components by plane & position.\n\n  const positionComponents: NestedInternMap<\n    G2GuideComponentOptions,\n    G2GuideComponentOptions[],\n    [string]\n  > = group<G2GuideComponentOptions, [string]>(\n    components,\n    (d) => `${d.plane || 'xy'}-${d.position}`,\n  );\n\n  const {\n    paddingLeft,\n    paddingRight,\n    paddingTop,\n    paddingBottom,\n    marginLeft,\n    marginTop,\n    marginBottom,\n    marginRight,\n    innerHeight,\n    innerWidth,\n    insetBottom,\n    insetLeft,\n    insetRight,\n    insetTop,\n    height,\n    width,\n    depth,\n  } = layout;\n\n  const planes = {\n    xy: createSection({\n      width,\n      height,\n      paddingLeft,\n      paddingRight,\n      paddingTop,\n      paddingBottom,\n      marginLeft,\n      marginTop,\n      marginBottom,\n      marginRight,\n      innerHeight,\n      innerWidth,\n      insetBottom,\n      insetLeft,\n      insetRight,\n      insetTop,\n    }),\n    yz: createSection({\n      width: depth,\n      height: height,\n      paddingLeft: 0,\n      paddingRight: 0,\n      paddingTop: 0,\n      paddingBottom: 0,\n      marginLeft: 0,\n      marginTop: 0,\n      marginBottom: 0,\n      marginRight: 0,\n      innerWidth: depth,\n      innerHeight: height,\n      insetBottom: 0,\n      insetLeft: 0,\n      insetRight: 0,\n      insetTop: 0,\n    }),\n    xz: createSection({\n      width,\n      height: depth,\n      paddingLeft: 0,\n      paddingRight: 0,\n      paddingTop: 0,\n      paddingBottom: 0,\n      marginLeft: 0,\n      marginTop: 0,\n      marginBottom: 0,\n      marginRight: 0,\n      innerWidth: width,\n      innerHeight: depth,\n      insetBottom: 0,\n      insetLeft: 0,\n      insetRight: 0,\n      insetTop: 0,\n    }),\n  };\n\n  for (const [key, components] of positionComponents.entries()) {\n    const [plane, position] = key.split('-') as [GuideComponentPlane, GCP];\n    const area = planes[plane][position];\n\n    /**\n     * @description non-entity components: axis in the center, inner, outer, component in the center\n     * @description entity components: other components\n     * @description no volume components take up no extra space\n     */\n\n    const [nonEntityComponents, entityComponents] = divide(\n      components,\n      (component) => {\n        if (typeof component.type !== 'string') return false;\n        if (position === 'center') return true;\n        if (\n          component.type.startsWith('axis') &&\n          ['inner', 'outer'].includes(position)\n        ) {\n          return true;\n        }\n        return false;\n      },\n    );\n\n    if (nonEntityComponents.length) {\n      placeNonEntityComponents(nonEntityComponents, coordinate, area, position);\n    }\n    if (entityComponents.length) {\n      placePaddingArea(components, coordinate, area);\n    }\n  }\n}\n\nfunction createSection({\n  width,\n  height,\n  paddingLeft,\n  paddingRight,\n  paddingTop,\n  paddingBottom,\n  marginLeft,\n  marginTop,\n  marginBottom,\n  marginRight,\n  innerHeight,\n  innerWidth,\n  insetBottom,\n  insetLeft,\n  insetRight,\n  insetTop,\n}: {\n  width: number;\n  height: number;\n  paddingLeft: number;\n  paddingRight: number;\n  paddingTop: number;\n  paddingBottom: number;\n  marginLeft: number;\n  marginTop: number;\n  marginBottom: number;\n  marginRight: number;\n  innerHeight: number;\n  innerWidth: number;\n  insetBottom: number;\n  insetLeft: number;\n  insetRight: number;\n  insetTop: number;\n}): Section {\n  const pl = paddingLeft + marginLeft;\n  const pt = paddingTop + marginTop;\n  const pr = paddingRight + marginRight;\n  const pb = paddingBottom + marginBottom;\n  const plotWidth = width - marginLeft - marginRight;\n\n  const centerSection: SectionArea = [\n    pl + insetLeft,\n    pt + insetTop,\n    innerWidth - insetLeft - insetRight,\n    innerHeight - insetTop - insetBottom,\n    'center',\n    null,\n    null,\n  ];\n\n  const xySection: Section = {\n    top: [\n      pl,\n      0,\n      innerWidth,\n      pt,\n      'vertical',\n      true,\n      ascending,\n      marginLeft,\n      plotWidth,\n    ],\n    right: [width - pr, pt, pr, innerHeight, 'horizontal', false, ascending],\n    bottom: [\n      pl,\n      height - pb,\n      innerWidth,\n      pb,\n      'vertical',\n      false,\n      ascending,\n      marginLeft,\n      plotWidth,\n    ],\n    left: [0, pt, pl, innerHeight, 'horizontal', true, ascending],\n    'top-left': [pl, 0, innerWidth, pt, 'vertical', true, ascending],\n    'top-right': [pl, 0, innerWidth, pt, 'vertical', true, ascending],\n    'bottom-left': [\n      pl,\n      height - pb,\n      innerWidth,\n      pb,\n      'vertical',\n      false,\n      ascending,\n    ],\n    'bottom-right': [\n      pl,\n      height - pb,\n      innerWidth,\n      pb,\n      'vertical',\n      false,\n      ascending,\n    ],\n    center: centerSection,\n    inner: centerSection,\n    outer: centerSection,\n  };\n\n  return xySection;\n}\n\nfunction placeNonEntityComponents(\n  components: G2GuideComponentOptions[],\n  coordinate: Coordinate,\n  area: SectionArea,\n  position: GCP,\n) {\n  const [axisComponents, nonAxisComponents] = divide(\n    components,\n    (component) => {\n      if (\n        typeof component.type === 'string' &&\n        component.type.startsWith('axis')\n      ) {\n        return true;\n      }\n      return false;\n    },\n  );\n\n  placeNonEntityAxis(axisComponents, coordinate, area, position);\n  // in current stage, only legend component which located in the center can be placed\n  placeCenter(nonAxisComponents, coordinate, area);\n}\n\nfunction placeNonEntityAxis(\n  components: G2GuideComponentOptions[],\n  coordinate: Coordinate,\n  area: SectionArea,\n  position: GCP,\n) {\n  if (position === 'center') {\n    if (isRadar(coordinate)) {\n      placeAxisRadar(components, coordinate, area, position);\n    } else if (isPolar(coordinate)) {\n      placeArcLinear(components, coordinate, area);\n    } else if (isParallel(coordinate)) {\n      placeAxisParallel(\n        components,\n        coordinate,\n        area,\n        components[0].orientation, // assume that all components have the same orientation\n      );\n    }\n  } else if (position === 'inner') {\n    placeAxisArcInner(components, coordinate, area);\n  } else if (position === 'outer') {\n    placeAxisArcOuter(components, coordinate, area);\n  }\n}\n\nfunction placeAxisArcInner(\n  components: G2GuideComponentOptions[],\n  coordinate: Coordinate,\n  area: SectionArea,\n) {\n  const [x, y, , height] = area;\n  const [cx, cy] = coordinate.getCenter();\n  const [innerRadius] = radiusOf(coordinate);\n  const r = height / 2;\n  const size = innerRadius * r;\n  const x0 = cx - size;\n  const y0 = cy - size;\n  for (let i = 0; i < components.length; i++) {\n    const component = components[i];\n    component.bbox = {\n      x: x + x0,\n      y: y + y0,\n      width: size * 2,\n      height: size * 2,\n    };\n  }\n}\n\nfunction placeAxisArcOuter(\n  components: G2GuideComponentOptions[],\n  coordinate: Coordinate,\n  area: SectionArea,\n) {\n  const [x, y, width, height] = area;\n  for (const component of components) {\n    component.bbox = { x, y, width, height };\n  }\n}\n\n/**\n * @example arcX, arcY, axisLinear with angle\n */\nfunction placeArcLinear(\n  components: G2GuideComponentOptions[],\n  coordinate: Coordinate,\n  area: SectionArea,\n) {\n  const [x, y, width, height] = area;\n  for (const component of components) {\n    component.bbox = { x: x, y, width, height };\n  }\n}\n\nfunction placeAxisParallel(\n  components: G2GuideComponentOptions[],\n  coordinate: Coordinate,\n  area: SectionArea,\n  orientation: GCO,\n) {\n  if (orientation === 'horizontal') {\n    placeAxisParallelHorizontal(components, coordinate, area);\n  } else if (orientation === 'vertical') {\n    placeAxisParallelVertical(components, coordinate, area);\n  }\n}\n\nfunction placeAxisParallelVertical(\n  components: G2GuideComponentOptions[],\n  coordinate: Coordinate,\n  area: SectionArea,\n): void {\n  const [x, y, , height] = area;\n\n  // Create a high dimension vector and map to a list of two-dimension points.\n  // [0, 0, 0] -> [x0, 0, x1, 0, x2, 0]\n  const vector = new Array(components.length).fill(0);\n  const points = coordinate.map(vector);\n\n  // Extract x of each points.\n  // [x0, 0, x1, 0, x2, 0] -> [x0, x1, x2]\n  const X = points.filter((_, i) => i % 2 === 0).map((d) => d + x);\n\n  // Place each axis by coordinate in parallel coordinate.\n  for (let i = 0; i < components.length; i++) {\n    const component = components[i];\n    const x = X[i];\n    const width = X[i + 1] - x;\n    component.bbox = { x, y, width, height };\n  }\n}\n\nfunction placeAxisParallelHorizontal(\n  components: G2GuideComponentOptions[],\n  coordinate: Coordinate,\n  area: SectionArea,\n): void {\n  const [x, y, width] = area;\n\n  // Create a high dimension vector and map to a list of two-dimension points.\n  // [0, 0, 0] -> [height, y0, height, y1, height, y2]\n  const vector = new Array(components.length).fill(0);\n  const points = coordinate.map(vector);\n\n  // Extract y of each points.\n  // [x0, 0, x1, 0, x2, 0] -> [x0, x1, x2]\n  const Y = points.filter((_, i) => i % 2 === 1).map((d) => d + y);\n\n  // Place each axis by coordinate in parallel coordinate.\n  for (let i = 0; i < components.length; i++) {\n    const component = components[i];\n    const y = Y[i];\n    const height = Y[i + 1] - y;\n    component.bbox = { x, y, width, height };\n  }\n}\n\nfunction placeAxisRadar(\n  components: G2GuideComponentOptions[],\n  coordinate: Coordinate,\n  area: SectionArea,\n  position: GCP,\n) {\n  const [x, y, width, height] = area;\n  for (const component of components) {\n    component.bbox = { x, y, width, height };\n    component.radar = {\n      index: components.indexOf(component),\n      count: components.length,\n    };\n  }\n}\n\nfunction placePaddingArea(\n  components: G2GuideComponentOptions[],\n  coordinate: Coordinate,\n  area: SectionArea,\n) {\n  const [x, y, width, height, direction, reverse, comparator, minX, totalSize] =\n    area;\n  const [\n    mainStartKey,\n    mainStartValue,\n    crossStartKey,\n    crossStartValue,\n    mainSizeKey,\n    mainSizeValue,\n    crossSizeKey,\n    crossSizeValue,\n  ] =\n    direction === 'vertical'\n      ? ['y', y, 'x', x, 'height', height, 'width', width]\n      : ['x', x, 'y', y, 'width', width, 'height', height];\n\n  // Sort components by order.\n  // The smaller the order, the closer to center.\n  components.sort((a, b) => comparator?.(a.order, b.order));\n\n  const isLarge = (type) =>\n    type === 'title' || type === 'group' || type.startsWith('legend');\n\n  const crossSizeOf = (type, small, bigger) => {\n    if (bigger === undefined) return small;\n    if (isLarge(type)) return bigger;\n    return small;\n  };\n\n  const crossStartOf = (type, x, minX) => {\n    if (minX === undefined) return x;\n    if (isLarge(type)) return minX;\n    return x;\n  };\n\n  const startValue = reverse ? mainStartValue + mainSizeValue : mainStartValue;\n  for (let i = 0, start = startValue; i < components.length; i++) {\n    const component = components[i];\n    const { crossPadding = 0, type } = component;\n    const { size } = component;\n    component.bbox = {\n      [mainStartKey]: reverse\n        ? start - size - crossPadding\n        : start + crossPadding,\n      [crossStartKey]: crossStartOf(type, crossStartValue, minX),\n      [mainSizeKey]: size,\n      [crossSizeKey]: crossSizeOf(type, crossSizeValue, totalSize),\n    };\n    start += (size + crossPadding) * (reverse ? -1 : 1);\n  }\n\n  // Place group components.\n  const groupComponents = components.filter((d) => d.type === 'group');\n  for (const group of groupComponents) {\n    const { bbox, children } = group;\n    const size = bbox[crossSizeKey];\n    const step = size / children.length;\n    const justifyContent = children.reduce((j, child) => {\n      const j0 = child.layout?.justifyContent;\n      return j0 ? j0 : j;\n    }, 'flex-start');\n    const L = children.map((d, i) => {\n      const { length = step, padding = 0 } = d;\n      return length + (i === children.length - 1 ? 0 : padding);\n    });\n    const totalLength = sum(L);\n    const diff = size - totalLength;\n    const offset =\n      justifyContent === 'flex-start'\n        ? 0\n        : justifyContent === 'center'\n        ? diff / 2\n        : diff;\n\n    for (\n      let i = 0, start = bbox[crossStartKey] + offset;\n      i < children.length;\n      i++\n    ) {\n      const component = children[i];\n      const { padding = 0 } = component;\n      const interval = i === children.length - 1 ? 0 : padding;\n      component.bbox = {\n        [mainSizeKey]: bbox[mainSizeKey],\n        [mainStartKey]: bbox[mainStartKey],\n        [crossStartKey]: start,\n        [crossSizeKey]: L[i] - interval,\n      };\n      deepMix(component, { layout: { justifyContent } });\n      start += L[i];\n    }\n  }\n}\n\n/**\n * @example legend in the center of radial or polar system\n */\nfunction placeCenter(\n  components: G2GuideComponentOptions[],\n  coordinate: Coordinate,\n  area: SectionArea,\n) {\n  if (components.length === 0) return;\n  const [x, y, width, height] = area;\n  const [innerRadius] = radiusOf(coordinate);\n  const r = ((height / 2) * innerRadius) / Math.sqrt(2);\n  const cx = x + width / 2;\n  const cy = y + height / 2;\n  for (let i = 0; i < components.length; i++) {\n    const component = components[i];\n    component.bbox = { x: cx - r, y: cy - r, width: r * 2, height: r * 2 };\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2620, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2626, "column": 0}, "map": {"version":3,"file":"transform.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/runtime/transform.ts"],"sourcesContent":["import { Primitive } from '@antv/vendor/d3-array';\nimport { deepMix, isNumber } from '@antv/util';\nimport { format } from '@antv/vendor/d3-format';\nimport { indexOf, mapObject } from '../utils/array';\nimport {\n  composeAsync,\n  defined,\n  isStrictObject,\n  isUnset,\n} from '../utils/helper';\nimport { isFullTooltip } from '../utils/mark';\nimport { useLibrary } from './library';\nimport { createColumnOf } from './mark';\nimport { Data, DataComponent } from './types/data';\nimport { G2Mark, G2DataOptions, G2Context } from './types/options';\nimport { isPosition } from './scale';\n\nexport const CALLBACK_ITEM_SYMBOL = Symbol('CALLBACK_ITEM');\n\n// @todo Add more defaults.\nexport function applyDefaults(\n  I: number[],\n  mark: G2Mark,\n  context: G2Context,\n): [number[], G2Mark] {\n  const { encode = {}, scale = {}, transform = [], ...rest } = mark;\n  return [I, { ...rest, encode, scale, transform }];\n}\n\nexport async function applyDataTransform(\n  I: number[],\n  mark: G2Mark,\n  context: G2Context,\n): Promise<[number[], G2Mark]> {\n  const { library } = context;\n  const { data } = mark;\n  const [useData] = useLibrary<G2DataOptions, DataComponent, Data>(\n    'data',\n    library,\n  );\n  const descriptor = normalizedDataSource(data);\n  const { transform: T = [], ...connector } = descriptor;\n  const transform = [connector, ...T];\n  const transformFunctions = transform.map((t) => useData(t, context));\n  const transformedData = await composeAsync(transformFunctions)(data);\n\n  // Maintain the consistency of shape between input and output data.\n  // If the shape of raw data is like { value: any }\n  // and the returned transformedData is Object,\n  // returns the wrapped data: { value: transformedData },\n  // otherwise returns the processed tabular data.\n  const newData =\n    data && !Array.isArray(data) && !Array.isArray(transformedData)\n      ? { value: transformedData }\n      : transformedData;\n\n  return [\n    Array.isArray(transformedData) ? indexOf(transformedData) : [],\n    { ...mark, data: newData },\n  ];\n}\n\nexport function flatEncode(\n  I: number[],\n  mark: G2Mark,\n  context: G2Context,\n): [number[], G2Mark] {\n  const { encode } = mark;\n  if (!encode) return [I, mark];\n  const flattenEncode = {};\n  for (const [key, value] of Object.entries(encode)) {\n    if (Array.isArray(value)) {\n      for (let i = 0; i < value.length; i++) {\n        const name = `${key}${i === 0 ? '' : i}`;\n        flattenEncode[name] = value[i];\n      }\n    } else {\n      flattenEncode[key] = value;\n    }\n  }\n  return [I, { ...mark, encode: flattenEncode }];\n}\n\nexport function inferChannelsType(\n  I: number[],\n  mark: G2Mark,\n  context: G2Context,\n): [number[], G2Mark] {\n  const { encode, data } = mark;\n  if (!encode) return [I, mark];\n  const typedEncode = mapObject(encode, (channel) => {\n    if (isTypedChannel(channel)) return channel;\n    const type = inferChannelType(data, channel);\n    return { type, value: channel };\n  });\n  return [I, { ...mark, encode: typedEncode }];\n}\n\nexport function maybeVisualChannel(\n  I: number[],\n  mark: G2Mark,\n  context: G2Context,\n): [number[], G2Mark] {\n  const { encode } = mark;\n  if (!encode) return [I, mark];\n  const newEncode = mapObject(encode, (channel, name) => {\n    const { type } = channel;\n    if (type !== 'constant' || isPosition(name)) return channel;\n    return { ...channel, constant: true };\n  });\n  return [I, { ...mark, encode: newEncode }];\n}\n\nexport function extractColumns(\n  I: number[],\n  mark: G2Mark,\n  context: G2Context,\n): [number[], G2Mark] {\n  const { encode, data } = mark;\n  if (!encode) return [I, mark];\n  const { library } = context;\n  const columnOf = createColumnOf(library);\n  const valuedEncode = mapObject(encode, (channel) => columnOf(data, channel));\n  return [I, { ...mark, encode: valuedEncode }];\n}\n\n/**\n * Normalize mark.tooltip to {title, items}.\n */\nexport function normalizeTooltip(\n  I: number[],\n  mark: G2Mark,\n  context: G2Context,\n): [number[], G2Mark] {\n  const { tooltip = {} } = mark;\n  if (isUnset(tooltip)) return [I, mark];\n  if (Array.isArray(tooltip)) {\n    return [I, { ...mark, tooltip: { items: tooltip } }];\n  }\n  if (isStrictObject(tooltip) && isFullTooltip(tooltip)) {\n    return [I, { ...mark, tooltip }];\n  }\n  return [I, { ...mark, tooltip: { items: [tooltip] } }];\n}\n\nexport function extractTooltip(\n  I: number[],\n  mark: G2Mark,\n  context: G2Context,\n): [number[], G2Mark] {\n  const { data, encode, tooltip = {} } = mark;\n  if (isUnset(tooltip)) return [I, mark];\n  const valueOf = (item) => {\n    if (!item) return item;\n    if (typeof item === 'string') {\n      return I.map((i) => ({ name: item, value: data[i][item] }));\n    }\n    if (isStrictObject(item)) {\n      const {\n        field,\n        channel,\n        color,\n        name = field,\n        valueFormatter = (d) => d,\n      } = item;\n\n      // Support d3-format.\n      const normalizedValueFormatter =\n        typeof valueFormatter === 'string'\n          ? format(valueFormatter)\n          : valueFormatter;\n\n      // Field name.\n      const definedChannel = channel && encode[channel];\n      const channelField = definedChannel && encode[channel].field;\n      const name1 = name || channelField || channel;\n\n      const values = [];\n      for (const i of I) {\n        const value1 = field\n          ? data[i][field]\n          : definedChannel\n          ? encode[channel].value[i]\n          : null;\n        values[i] = {\n          name: name1,\n          color,\n          value: normalizedValueFormatter(value1),\n        };\n      }\n      return values;\n    }\n    if (typeof item === 'function') {\n      const values = [];\n      for (const i of I) {\n        const v = item(data[i], i, data, encode);\n        if (isStrictObject(v))\n          values[i] = { ...v, [CALLBACK_ITEM_SYMBOL]: true };\n        else values[i] = { value: v };\n      }\n      return values;\n    }\n    return item;\n  };\n  const { title, items = [], ...rest } = tooltip;\n  const newTooltip = {\n    title: valueOf(title),\n    items: Array.isArray(items) ? items.map(valueOf) : [],\n    ...rest,\n  };\n  return [I, { ...mark, tooltip: newTooltip }];\n}\n\nexport function maybeArrayField(\n  I: number[],\n  mark: G2Mark,\n  context: G2Context,\n): [number[], G2Mark] {\n  const { encode, ...rest } = mark;\n  if (!encode) return [I, mark];\n  const columns = Object.entries(encode);\n  const arrayColumns = columns\n    .filter(([, channel]) => {\n      const { value: V } = channel;\n      return Array.isArray(V[0]);\n    })\n    .flatMap(([key, V]) => {\n      const columns = [[key, new Array(I.length).fill(undefined)] as const];\n      const { value: rows, ...rest } = V;\n      for (let i = 0; i < rows.length; i++) {\n        const row = rows[i];\n        if (Array.isArray(row)) {\n          for (let j = 0; j < row.length; j++) {\n            const column = columns[j] || [\n              `${key}${j}`,\n              new Array(I).fill(undefined),\n            ];\n            column[1][i] = row[j];\n            columns[j] = column;\n          }\n        }\n      }\n      return columns.map(([key, value]) => [\n        key,\n        { type: 'column', value, ...rest },\n      ]);\n    });\n  const newEncode = Object.fromEntries([...columns, ...arrayColumns]);\n  return [I, { ...rest, encode: newEncode }];\n}\n\nexport function addGuideToScale(\n  I: number[],\n  mark: G2Mark,\n  context: G2Context,\n): [number[], G2Mark] {\n  const { axis = {}, legend = {}, slider = {}, scrollbar = {} } = mark;\n  const normalize = (guide: boolean | Record<string, any>, channel: string) => {\n    if (typeof guide === 'boolean') return guide ? {} : null;\n    const eachGuide = guide[channel];\n    return eachGuide === undefined || eachGuide ? eachGuide : null;\n  };\n  const axisChannels =\n    typeof axis === 'object'\n      ? Array.from(new Set(['x', 'y', 'z', ...Object.keys(axis)]))\n      : ['x', 'y', 'z'];\n\n  deepMix(mark, {\n    scale: {\n      ...Object.fromEntries(\n        axisChannels.map((channel) => {\n          const scrollbarOptions = normalize(scrollbar, channel);\n          return [\n            channel,\n            {\n              guide: normalize(axis, channel),\n              slider: normalize(slider, channel),\n              scrollbar: scrollbarOptions,\n              ...(scrollbarOptions && {\n                ratio:\n                  scrollbarOptions.ratio === undefined\n                    ? 0.5\n                    : scrollbarOptions.ratio,\n              }),\n            },\n          ];\n        }),\n      ),\n      color: { guide: normalize(legend, 'color') },\n      size: { guide: normalize(legend, 'size') },\n      shape: { guide: normalize(legend, 'shape') },\n      // fixme: opacity is conflict with DisplayObject.opacity\n      // to be confirm.\n      opacity: { guide: normalize(legend, 'opacity') },\n    },\n  });\n  return [I, mark];\n}\n\nexport function maybeNonAnimate(\n  I: number[],\n  mark: G2Mark,\n  context: G2Context,\n): [number[], G2Mark] {\n  const { animate } = mark;\n  if (animate || animate === undefined) return [I, mark];\n  deepMix(mark, {\n    animate: {\n      enter: { type: null },\n      exit: { type: null },\n      update: { type: null },\n    },\n  });\n  return [I, mark];\n}\n\nexport function appendMarkScaleKey(\n  I: number[],\n  mark: G2Mark,\n  context: G2Context,\n): [number[], G2Mark] {\n  deepMix(mark, {\n    scale: {\n      series: {\n        key: `DEFAULT_${mark.type}_SERIES_KEY`,\n        ...(mark?.scale?.series ?? {}),\n      },\n    },\n  });\n\n  return [I, mark];\n}\n\nfunction isTypedChannel(channel): boolean {\n  if (\n    typeof channel !== 'object' ||\n    channel instanceof Date ||\n    channel === null\n  ) {\n    return false;\n  }\n  const { type } = channel;\n  return defined(type);\n}\n\nfunction inferChannelType(data: Record<string, Primitive>[], channel): string {\n  if (typeof channel === 'function') return 'transform';\n  if (typeof channel === 'string' && isField(data, channel)) return 'field';\n  return 'constant';\n}\n\nfunction isField(data: Record<string, Primitive>[], value: string): boolean {\n  if (!Array.isArray(data)) return false;\n  return data.some((d) => d[value] !== undefined);\n}\n\nfunction normalizedDataSource(data) {\n  // LiquidGauge need number data.\n  if (isNumber(data)) return { type: 'inline', value: data };\n  // Return null as a placeholder.\n  if (!data) return { type: 'inline', value: null };\n  if (Array.isArray(data)) return { type: 'inline', value: data };\n  const { type = 'inline', ...rest } = data;\n  return { ...rest, type };\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3102, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3108, "column": 0}, "map": {"version":3,"file":"mark.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/runtime/mark.ts"],"sourcesContent":["import { rollups } from '@antv/vendor/d3-array';\nimport { defined } from '../utils/helper';\nimport { useLibrary } from './library';\nimport { G2MarkState } from './types/common';\nimport {\n  G2Library,\n  G2Mark,\n  G2TransformOptions,\n  G2EncodeOptions,\n  G2Context,\n} from './types/options';\nimport { MarkProps } from './types/mark';\nimport { NormalizedEncodeSpec, EncodeComponent, Encode } from './types/encode';\nimport { ColumnOf, Transform, TransformComponent } from './types/transform';\nimport {\n  applyDefaults,\n  applyDataTransform,\n  extractColumns,\n  flatEncode,\n  inferChannelsType,\n  maybeArrayField,\n  maybeVisualChannel,\n  addGuideToScale,\n  maybeNonAnimate,\n  normalizeTooltip,\n  extractTooltip,\n  appendMarkScaleKey,\n} from './transform';\n\nexport async function initializeMark(\n  partialMark: G2Mark,\n  partialProps: MarkProps,\n  context: G2Library,\n): Promise<[G2Mark, G2MarkState]> {\n  // Apply transform to mark to derive indices, data, encode, etc,.\n  const [I, transformedMark] = await applyMarkTransform(\n    partialMark,\n    partialProps,\n    context,\n  );\n\n  const { encode, scale, data, tooltip, key: markerKey } = transformedMark;\n\n  // Skip mark with non-tabular data. Do not skip empty\n  // data, they are useful for facet to display axes.\n  if (Array.isArray(data) === false) {\n    return null;\n  }\n\n  // Group non-independent channels with same prefix, such as x1, x2 => x.\n  // For independent channels, dot not group them, such as position1, position2.\n  const { channels: channelDescriptors } = partialProps;\n  const nameChannels = rollups(\n    Object.entries(encode).filter(([, value]) => defined(value)),\n    (values) =>\n      values.map(([key, options]) => ({\n        name: key,\n        ...options,\n      })),\n    ([key]) => {\n      const prefix = /([^\\d]+)\\d*$/.exec(key)?.[1];\n      const descriptor = channelDescriptors.find((d) => d.name === prefix);\n      if (descriptor?.independent) return key;\n      return prefix;\n    },\n  );\n\n  // Check required channels and initialize scale options for each channel.\n  const channels = channelDescriptors\n    .filter((descriptor) => {\n      const { name, required } = descriptor;\n      if (nameChannels.find(([d]) => d === name)) return true;\n      if (required) throw new Error(`Missing encoding for channel: ${name}.`);\n      return false;\n    })\n    .flatMap((descriptor) => {\n      const {\n        name,\n        scale: scaleType,\n        scaleKey,\n        range,\n        quantitative,\n        ordinal,\n      } = descriptor;\n      const valuesArray = nameChannels.filter(([channel]) =>\n        channel.startsWith(name),\n      );\n      return valuesArray.map(([channel, values], i) => {\n        const visual = values.some((d) => d.visual);\n        const constant = values.some((d) => d.constant);\n        const {\n          independent = false,\n          // Use channel name as default scale key.\n          key = scaleKey || channel,\n          // Visual channel use identity scale.\n          type = constant ? 'constant' : visual ? 'identity' : scaleType,\n          ...scaleOptions\n        } = scale[channel] || {};\n        // For constant scale, infer range from data.\n        const isConstant = type === 'constant';\n        const finalRange = isConstant ? undefined : range;\n        return {\n          name: channel,\n          values,\n          // Generate a unique key for independent channel,\n          // which will not group with any other channels.\n          scaleKey: independent || isConstant ? Symbol('independent') : key,\n          scale: {\n            type,\n            markerKey,\n            range: finalRange,\n            ...scaleOptions,\n            quantitative,\n            ordinal,\n          },\n        };\n      });\n    });\n\n  return [transformedMark, { ...partialProps, index: I, channels, tooltip }];\n}\n\nexport function createColumnOf(library: G2Library): ColumnOf {\n  const [useEncode] = useLibrary<G2EncodeOptions, EncodeComponent, Encode>(\n    'encode',\n    library,\n  );\n  return (data, encode) => {\n    if (encode === undefined) return null;\n    if (data === undefined) return null;\n    return {\n      ...encode,\n      type: 'column',\n      value: useEncode(encode)(data),\n      field: fieldOf(encode),\n    };\n  };\n}\n\nasync function applyMarkTransform(\n  mark: G2Mark,\n  props: MarkProps,\n  context: G2Context,\n): Promise<[number[], G2Mark]> {\n  const { library } = context;\n  const [useTransform] = useLibrary<\n    G2TransformOptions,\n    TransformComponent,\n    Transform\n  >('transform', library);\n  const { preInference = [], postInference = [] } = props;\n  const { transform = [] } = mark;\n  const transforms = [\n    applyDefaults,\n    applyDataTransform,\n    flatEncode,\n    inferChannelsType,\n    maybeVisualChannel,\n    extractColumns,\n    maybeArrayField,\n    maybeNonAnimate,\n    addGuideToScale,\n    normalizeTooltip,\n    appendMarkScaleKey,\n    ...preInference.map(useTransform),\n    ...transform.map(useTransform),\n    ...postInference.map(useTransform),\n    extractTooltip,\n  ];\n  let index = [];\n  let transformedMark = mark;\n  for (const t of transforms) {\n    [index, transformedMark] = await t(index, transformedMark, context);\n  }\n  return [index, transformedMark];\n}\n\nfunction fieldOf(encode: NormalizedEncodeSpec): string {\n  const { type, value } = encode;\n  if (type === 'field' && typeof value === 'string') return value;\n  return null;\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3278, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3284, "column": 0}, "map": {"version":3,"file":"plot.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/runtime/plot.ts"],"sourcesContent":["import { Vector2 } from '@antv/coord';\nimport { DisplayObject, IAnimation as GAnimation, Rect } from '@antv/g';\nimport { deepMix, upperFirst, isArray, get } from '@antv/util';\nimport { group, groups } from '@antv/vendor/d3-array';\nimport { format } from '@antv/vendor/d3-format';\nimport { mapObject } from '../utils/array';\nimport { ChartEvent } from '../utils/event';\nimport {\n  isStrictObject,\n  appendTransform,\n  compose,\n  copyAttributes,\n  defined,\n  error,\n  maybeSubObject,\n  subObject,\n  useMemo,\n} from '../utils/helper';\nimport { G2Element, select, Selection } from '../utils/selection';\nimport {\n  groupComponents,\n  inferComponent,\n  normalizeComponents,\n  renderComponent,\n} from './component';\nimport {\n  AREA_CLASS_NAME,\n  COMPONENT_CLASS_NAME,\n  ELEMENT_CLASS_NAME,\n  LABEL_CLASS_NAME,\n  LABEL_LAYER_CLASS_NAME,\n  MAIN_LAYER_CLASS_NAME,\n  PLOT_CLASS_NAME,\n  VIEW_CLASS_NAME,\n  BREAK_CLASS_NAME,\n  BREAK_GROUP_CLASS_NAME,\n} from './constant';\nimport { coordinate2Transform, createCoordinate } from './coordinate';\nimport {\n  computeLayout,\n  computeRoughPlotSize,\n  placeComponents,\n  processAxisZ,\n} from './layout';\nimport { documentOf, useLibrary } from './library';\nimport { initializeMark } from './mark';\nimport {\n  applyScale,\n  assignScale,\n  collectScales,\n  inferScale,\n  syncFacetsScales,\n  useRelationScale,\n  groupTransform,\n} from './scale';\nimport { applyDataTransform } from './transform';\nimport {\n  G2MarkState,\n  G2Theme,\n  G2ViewDescriptor,\n  G2ViewInstance,\n  Primitive,\n} from './types/common';\nimport {\n  Animation,\n  AnimationComponent,\n  Composition,\n  CompositionComponent,\n  Interaction,\n  InteractionComponent,\n  LabelTransform,\n  LabelTransformComponent,\n  Scale,\n  Shape,\n  ShapeComponent,\n  Theme,\n  ThemeComponent,\n} from './types/component';\nimport { Mark, MarkComponent, SingleMark } from './types/mark';\nimport {\n  G2AnimationOptions,\n  G2CompositionOptions,\n  G2Context,\n  G2GuideComponentOptions,\n  G2InteractionOptions,\n  G2LabelTransformOptions,\n  G2Library,\n  G2Mark,\n  G2MarkOptions,\n  G2ScaleOptions,\n  G2ShapeOptions,\n  G2ThemeOptions,\n  G2View,\n  G2ViewTree,\n} from './types/options';\n\ntype Store = Map<any, (options: G2ViewTree) => G2ViewTree>;\n\nexport async function plot<T extends G2ViewTree>(\n  options: T,\n  selection: Selection,\n  context: G2Context,\n): Promise<any> {\n  const { library } = context;\n\n  const [useComposition] = useLibrary<\n    G2CompositionOptions,\n    CompositionComponent,\n    Composition\n  >('composition', library);\n  const [useInteraction] = useLibrary<\n    G2InteractionOptions,\n    InteractionComponent,\n    Interaction\n  >('interaction', library);\n\n  // Some helper functions.\n  const marks = new Set(\n    Object.keys(library)\n      .map((d) => /mark\\.(.*)/.exec(d)?.[1])\n      .filter(defined),\n  );\n  const staticMarks = new Set(\n    Object.keys(library)\n      .map((d) => /component\\.(.*)/.exec(d)?.[1])\n      .filter(defined),\n  );\n\n  const typeOf = (node: G2ViewTree) => {\n    const { type } = node;\n    if (typeof type === 'function') {\n      // @ts-ignore\n      const { props = {} } = type;\n      const { composite = true } = props;\n      if (composite) return 'mark';\n    }\n    if (typeof type !== 'string') return type;\n    if (marks.has(type) || staticMarks.has(type)) return 'mark';\n    return type;\n  };\n\n  const isMark = (node: G2ViewTree) => typeOf(node) === 'mark';\n  const isStandardView = (node: G2ViewTree) => typeOf(node) === 'standardView';\n  const isStaticMark = (node: G2ViewTree) => {\n    const { type } = node;\n    if (typeof type !== 'string') return false;\n    if (staticMarks.has(type)) return true;\n    return false;\n  };\n\n  const transform = (node: G2ViewTree) => {\n    if (isStandardView(node)) return [node];\n    const type = typeOf(node);\n    const composition = useComposition({ type, static: isStaticMark(node) });\n    return composition(node);\n  };\n\n  // Some temporary variables help parse the view tree.\n  const views: G2ViewDescriptor[] = [];\n  const viewNode = new Map<G2ViewDescriptor, G2ViewTree>();\n  const nodeState = new Map<G2ViewTree, Map<G2Mark, G2MarkState>>();\n  const discovered: G2ViewTree[] = [options];\n  const nodeGenerators: Generator<G2ViewTree, void, void>[] = [];\n\n  while (discovered.length) {\n    const node = discovered.shift();\n    if (isStandardView(node)) {\n      // Initialize view to get data to be visualized. If the marks\n      // of the view have already been initialized (facet view),\n      // initialize the view based on the initialized mark states,\n      // otherwise initialize it from beginning.\n      const state = nodeState.get(node);\n      const [view, children] = state\n        ? initializeState(state, node, library)\n        : await initializeView(node, context);\n      viewNode.set(view, node);\n      views.push(view);\n\n      // Transform children, they will be transformed into\n      // standardView if they are mark or view node.\n      const transformedNodes = children\n        .flatMap(transform)\n        .map((d) => coordinate2Transform(d, library));\n      discovered.push(...transformedNodes);\n\n      // Only StandardView can be treated as facet and it\n      // should sync position scales among facets normally.\n      if (transformedNodes.every(isStandardView)) {\n        const states = await Promise.all(\n          transformedNodes.map((d) => initializeMarks(d, context)),\n        );\n        // Note!!!\n        // This will mutate scales for marks.\n        syncFacetsScales(states);\n        for (let i = 0; i < transformedNodes.length; i++) {\n          const nodeT = transformedNodes[i];\n          const state = states[i];\n          nodeState.set(nodeT, state);\n        }\n      }\n    } else {\n      // Apply transform to get data in advance for non-mark composition\n      // node, which makes sure that composition node can preprocess the\n      // data to produce more nodes based on it.\n      const n = isMark(node) ? node : await applyTransform(node, context);\n      const N = transform(n);\n      if (Array.isArray(N)) discovered.push(...N);\n      else if (typeof N === 'function') nodeGenerators.push(N());\n    }\n  }\n\n  context.emitter.emit(ChartEvent.BEFORE_PAINT);\n\n  // Plot chart.\n  const enterContainer = new Map<G2ViewDescriptor, DisplayObject>();\n  const updateContainer = new Map<G2ViewDescriptor, DisplayObject>();\n  const transitions: GAnimation[] = [];\n  selection\n    .selectAll(className(VIEW_CLASS_NAME))\n    .data(views, (d) => d.key)\n    .join(\n      (enter) =>\n        enter\n          .append('g')\n          .attr('className', VIEW_CLASS_NAME)\n          .attr('id', (view) => view.key)\n          .call(applyTranslate)\n          .each(function (view, i, element) {\n            plotView(view, select(element), transitions, context);\n            enterContainer.set(view, element);\n          }),\n      (update) =>\n        update.call(applyTranslate).each(function (view, i, element) {\n          plotView(view, select(element), transitions, context);\n          updateContainer.set(view, element);\n        }),\n      (exit) =>\n        exit\n          .each(function (d, i, element) {\n            // Remove existed interactions.\n            const interactions = element['nameInteraction'].values();\n            for (const interaction of interactions) {\n              interaction.destroy();\n            }\n          })\n          .remove(),\n    );\n\n  // Apply interactions.\n  const viewInstanceof = (\n    viewContainer: Map<G2ViewDescriptor, DisplayObject>,\n    updateInteractions?: (\n      container: Map<G2ViewDescriptor, DisplayObject>,\n      updateTypes?: string[],\n      store?: Store,\n    ) => void,\n    oldStore?: Store,\n  ) => {\n    return Array.from(viewContainer.entries()).map(([view, container]) => {\n      // Index state by component or interaction name,\n      // such as legend, scrollbar, brushFilter.\n      // Each state transform options to another options.\n      const store =\n        oldStore || new Map<any, (options: G2ViewTree) => G2ViewTree>();\n      const setState = (key, reducer = (x) => x) => store.set(key, reducer);\n      const options = viewNode.get(view);\n      const update = createUpdateView(select(container), options, context);\n      const target = {\n        view,\n        container,\n        options,\n        setState,\n        update: async (from, updateTypes) => {\n          // Apply all state functions to get new options.\n          const reducer = compose(Array.from(store.values()));\n          const newOptions = reducer(options);\n          return await update(newOptions, from, () => {\n            if (isArray(updateTypes)) {\n              updateInteractions(viewContainer, updateTypes, store);\n            }\n          });\n        },\n      };\n      context.externals.update = target.update;\n      context.externals.setState = setState;\n      return target;\n    });\n  };\n\n  const updateInteractions = (\n    container = updateContainer,\n    updateType?: string[],\n    oldStore?: Map<any, (options: G2ViewTree) => G2ViewTree>,\n  ) => {\n    // Interactions for update views.\n    const updateViewInstances = viewInstanceof(\n      container,\n      updateInteractions,\n      oldStore,\n    );\n\n    for (const target of updateViewInstances) {\n      const { options, container } = target;\n      const nameInteraction = container['nameInteraction'];\n      let typeOptions = inferInteraction(options);\n\n      if (updateType) {\n        typeOptions = typeOptions.filter((v) => updateType.includes(v[0]));\n      }\n\n      for (const typeOption of typeOptions) {\n        const [type, option] = typeOption;\n        // Remove interaction for existed views.\n        const prevInteraction = nameInteraction.get(type);\n        if (prevInteraction) prevInteraction.destroy?.();\n\n        // Apply new interaction.\n        if (option) {\n          const interaction = useThemeInteraction(\n            target.view,\n            type,\n            option as Record<string, any>,\n            useInteraction,\n          );\n          const destroy = interaction(\n            target,\n            updateViewInstances,\n            context.emitter,\n          );\n          nameInteraction.set(type, { destroy });\n        }\n      }\n    }\n  };\n\n  // Interactions for enter views.\n  const enterViewInstances = viewInstanceof(enterContainer, updateInteractions);\n  for (const target of enterViewInstances) {\n    const { options } = target;\n\n    // A Map index interaction by interaction name.\n    const nameInteraction = new Map();\n    target.container['nameInteraction'] = nameInteraction;\n\n    // Apply interactions.\n    for (const typeOption of inferInteraction(options)) {\n      const [type, option] = typeOption;\n      if (option) {\n        const interaction = useThemeInteraction(\n          target.view,\n          type,\n          option as Record<string, any>,\n          useInteraction,\n        );\n        const destroy = interaction(\n          target,\n          enterViewInstances,\n          context.emitter,\n        );\n        nameInteraction.set(type, { destroy });\n      }\n    }\n  }\n\n  updateInteractions();\n\n  // Author animations.\n  const { width, height } = options;\n  const keyframes = [];\n  for (const nodeGenerator of nodeGenerators) {\n    // Delay the rendering of animation keyframe. Different animation\n    // created by different nodeGenerator will play in the same time.\n    // eslint-disable-next-line no-async-promise-executor\n    const keyframe = new Promise<void>(async (resolve) => {\n      for (const node of nodeGenerator) {\n        const sizedNode = { width, height, ...node };\n        await plot(sizedNode, selection, context);\n      }\n      resolve();\n    });\n    keyframes.push(keyframe);\n  }\n\n  context.views = views;\n\n  // Clear and update animation.\n  context.animations?.forEach((animation) => animation?.cancel());\n  context.animations = transitions;\n\n  context.emitter.emit(ChartEvent.AFTER_PAINT);\n\n  // Note!!!\n  // The returned promise will never resolved if one of nodeGenerator\n  // never stop to yield node, which may created by a keyframe composition\n  // with iteration count set to infinite.\n  const finished = transitions\n    .filter(defined)\n    .map(cancel)\n    .map((d) => d.finished);\n  return Promise.all([...finished, ...keyframes]);\n}\n\nfunction applyTranslate(selection: Selection) {\n  selection.style(\n    'transform',\n    (d) => `translate(${d.layout.x}, ${d.layout.y})`,\n  );\n}\n\nfunction definedInteraction(library: G2Library) {\n  const [, createInteraction] = useLibrary<\n    G2InteractionOptions,\n    InteractionComponent,\n    Interaction\n  >('interaction', library);\n  return (d) => {\n    const [name, options] = d;\n    try {\n      return [name, createInteraction(name)] as const;\n    } catch {\n      return [name, options.type] as const;\n    }\n  };\n}\n\nfunction createUpdateView(\n  selection: Selection,\n  options: G2ViewTree,\n  context: G2Context,\n): G2ViewInstance['update'] {\n  const { library } = context;\n  const createDefinedInteraction = definedInteraction(library);\n  const filter = (d) => d[1] && d[1].props && d[1].props.reapplyWhenUpdate;\n  const interactions = inferInteraction(options);\n  const updates = interactions\n    .map(createDefinedInteraction)\n    .filter(filter)\n    .map((d) => d[0]);\n\n  return async (newOptions, source, callback) => {\n    const transitions = [];\n    const [newView, newChildren] = await initializeView(newOptions, context);\n    plotView(newView, selection, transitions, context);\n\n    // Update interaction need to reapply when update.\n    for (const name of updates.filter((d) => d !== source)) {\n      updateInteraction(name, selection, newOptions, newView, context);\n    }\n\n    for (const child of newChildren) {\n      plot(child, selection, context);\n    }\n    callback();\n    return { options: newOptions, view: newView };\n  };\n}\n\nfunction updateInteraction(\n  name: string,\n  selection: Selection,\n  options: G2ViewTree,\n  view: G2ViewDescriptor,\n  context: G2Context,\n) {\n  const { library } = context;\n\n  const [useInteraction] = useLibrary<\n    G2InteractionOptions,\n    InteractionComponent,\n    Interaction\n  >('interaction', library);\n\n  // Instances for interaction.\n  const container = selection.node();\n  const nameInteraction = container['nameInteraction'];\n  const interactionOptions = inferInteraction(options).find(\n    ([d]) => d === name,\n  );\n\n  // Destroy older interaction.\n  const interaction = nameInteraction.get(name);\n  if (!interaction) return;\n  interaction.destroy?.();\n\n  if (!interactionOptions[1]) return;\n\n  // Apply new interaction.\n  const applyInteraction = useThemeInteraction(\n    view,\n    name,\n    interactionOptions[1] as any,\n    useInteraction,\n  );\n  const target = {\n    options,\n    view,\n    container: selection.node(),\n    update: (options) => Promise.resolve(options),\n  };\n  const destroy = applyInteraction(target, [], context.emitter);\n  nameInteraction.set(name, { destroy });\n}\n\nasync function initializeView(\n  options: G2View,\n  context: G2Context,\n): Promise<[G2ViewDescriptor, G2ViewTree[]]> {\n  const { library } = context;\n\n  const flattenOptions = await transformMarks(options, context);\n\n  const mergedOptions = bubbleOptions(flattenOptions);\n\n  // @todo Remove this.\n  // !!! NOTE: Mute original view options.\n  // Update interaction and coordinate for this view.\n  options.interaction = mergedOptions.interaction;\n  options.coordinate = mergedOptions.coordinate;\n  // @ts-ignore\n  options.marks = [...mergedOptions.marks, ...mergedOptions.components];\n\n  const transformedOptions = coordinate2Transform(mergedOptions, library);\n  const state = await initializeMarks(transformedOptions, context);\n  return initializeState(state, transformedOptions, library);\n}\n\nfunction bubbleOptions(options: G2View): G2View {\n  const {\n    coordinate: viewCoordinate = {},\n    interaction: viewInteraction = {},\n    style: viewStyle = {},\n    marks,\n    ...rest\n  } = options;\n  const markCoordinates = marks.map((d) => d.coordinate || {});\n  const markInteractions = marks.map((d) => d.interaction || {});\n  const markViewStyles = marks.map((d) => d.viewStyle || {});\n  const newCoordinate = [...markCoordinates, viewCoordinate].reduceRight(\n    (prev, cur) => deepMix(prev, cur),\n    {},\n  );\n  const newInteraction = [viewInteraction, ...markInteractions].reduce(\n    (prev, cur) => deepMix(prev, cur),\n    {},\n  );\n  const newStyle = [...markViewStyles, viewStyle].reduce(\n    (prev, cur) => deepMix(prev, cur),\n    {},\n  );\n  return {\n    ...rest,\n    marks,\n    coordinate: newCoordinate,\n    interaction: newInteraction,\n    style: newStyle,\n  };\n}\n\nasync function transformMarks(\n  options: G2View,\n  context: G2Context,\n): Promise<G2View> {\n  const { library } = context;\n\n  const [useMark, createMark] = useLibrary<G2MarkOptions, MarkComponent, Mark>(\n    'mark',\n    library,\n  );\n\n  const staticMarks = new Set(\n    Object.keys(library)\n      .map((d) => /component\\.(.*)/.exec(d)?.[1])\n      .filter(defined),\n  );\n  const { marks } = options;\n  const flattenMarks = [];\n  const components = [];\n  const discovered = [...marks];\n  const { width, height } = computeRoughPlotSize(options);\n  const markOptions = { options, width, height };\n\n  // Pre order traversal.\n  while (discovered.length) {\n    const [node] = discovered.splice(0, 1);\n    // Apply data transform to get data.\n    const mark = (await applyTransform(node, context)) as G2Mark;\n    const { type = error('G2Mark type is required.'), key } = mark;\n\n    // For components.\n    if (staticMarks.has(type as string)) components.push(mark);\n    else {\n      const { props = {} } = createMark(type);\n      const { composite = true } = props;\n      if (!composite) flattenMarks.push(mark);\n      else {\n        // Unwrap data from { value: data } to data,\n        // then the composite mark can process the normalized data.\n        const { data } = mark;\n        const newMark = {\n          ...mark,\n          data: data ? (Array.isArray(data) ? data : data.value) : data,\n        };\n\n        // Convert composite mark to marks.\n        const marks = await useMark(newMark, markOptions);\n        const M = Array.isArray(marks) ? marks : [marks];\n        discovered.unshift(...M.map((d, i) => ({ ...d, key: `${key}-${i}` })));\n      }\n    }\n  }\n\n  return { ...options, marks: flattenMarks, components };\n}\n\nasync function initializeMarks(\n  options: G2View,\n  context: G2Context,\n): Promise<Map<G2Mark, G2MarkState>> {\n  const { library } = context;\n\n  const [useTheme] = useLibrary<G2ThemeOptions, ThemeComponent, Theme>(\n    'theme',\n    library,\n  );\n  const [, createMark] = useLibrary<G2MarkOptions, MarkComponent, Mark>(\n    'mark',\n    library,\n  );\n\n  const {\n    theme: partialTheme,\n    marks: partialMarks,\n    coordinates = [],\n  } = options;\n  const theme = useTheme(inferTheme(partialTheme));\n  const markState = new Map<G2Mark, G2MarkState>();\n\n  // Initialize channels for marks.\n  for (const markOptions of partialMarks) {\n    const { type } = markOptions;\n    const { props = {} } = createMark(type);\n    const markAndState = await initializeMark(markOptions, props, context);\n    if (markAndState) {\n      const [initializedMark, state] = markAndState;\n      markState.set(initializedMark, state);\n    }\n  }\n\n  // Group channels by scale key, each group has scale.\n  const scaleChannels = group(\n    Array.from(markState.values()).flatMap((d) => d.channels),\n    ({ scaleKey }) => scaleKey,\n  );\n\n  // Infer scale for each channel groups.\n  for (const channels of scaleChannels.values()) {\n    // Merge scale options for these channels.\n    const scaleOptions = channels.reduce(\n      (total, { scale }) => deepMix(total, scale),\n      {},\n    );\n    const { scaleKey } = channels[0];\n\n    // Use the fields of the first channel as the title.\n    const { values: FV } = channels[0];\n    const fields = Array.from(new Set(FV.map((d) => d.field).filter(defined)));\n    const options = deepMix(\n      {\n        guide: { title: fields.length === 0 ? undefined : fields },\n        field: fields[0],\n      },\n      scaleOptions,\n    );\n\n    // Use the name of the first channel as the scale name.\n    const { name } = channels[0];\n    const values = channels.flatMap(({ values }) => values.map((d) => d.value));\n    const scale = {\n      ...inferScale(name, values, options, coordinates, theme, library),\n      uid: Symbol('scale'),\n      key: scaleKey,\n    };\n    channels.forEach((channel) => (channel.scale = scale));\n  }\n\n  return markState;\n}\n\nfunction useThemeInteraction(\n  view: G2ViewDescriptor,\n  type: string,\n  option: Record<string, any>,\n  useInteraction: (options: G2InteractionOptions, context?: any) => Interaction,\n): Interaction {\n  const theme = view.theme;\n  const defaults = typeof type === 'string' ? theme[type] || {} : {};\n  const interaction = useInteraction(\n    deepMix(defaults, { type, ...(option as any) }),\n  );\n  return interaction;\n}\n\nfunction initializeState(\n  markState: Map<G2Mark, G2MarkState>,\n  options: G2View,\n  library: G2Library,\n): [G2ViewDescriptor, G2ViewTree[]] {\n  const [useMark] = useLibrary<G2MarkOptions, MarkComponent, Mark>(\n    'mark',\n    library,\n  );\n  const [useTheme] = useLibrary<G2ThemeOptions, ThemeComponent, Theme>(\n    'theme',\n    library,\n  );\n  const [useLabelTransform] = useLibrary<\n    G2LabelTransformOptions,\n    LabelTransformComponent,\n    LabelTransform\n  >('labelTransform', library);\n\n  const {\n    key,\n    frame = false,\n    theme: partialTheme,\n    clip,\n    style = {},\n    labelTransform = [],\n  } = options;\n\n  const theme = useTheme(inferTheme(partialTheme));\n\n  // Infer components and compute layout.\n  const states = Array.from(markState.values());\n  const scales = collectScales(states, options);\n  const components = normalizeComponents(\n    inferComponent(\n      inferComponentScales(Array.from(scales), states, markState),\n      options,\n      library,\n    ),\n  );\n  const layout = computeLayout(components, options, theme, library);\n  const coordinate = createCoordinate(layout, options, library);\n  const framedStyle = frame\n    ? deepMix({ mainLineWidth: 1, mainStroke: '#000' }, style)\n    : style;\n\n  // Place components and mutate their bbox.\n  placeComponents(groupComponents(components), coordinate, layout);\n\n  // AxisZ need a copy of axisX and axisY to show grids in X-Z & Y-Z planes.\n  processAxisZ(components);\n\n  // Index scale instance by uid.\n  const uidScale = new Map(\n    Array.from(markState.values()).flatMap((state) => {\n      const { channels } = state;\n      return channels.map(({ scale }) => [\n        scale.uid,\n        useRelationScale(scale, library),\n      ]);\n    }),\n  );\n\n  groupTransform(markState, uidScale);\n\n  // Scale from marks and components.\n  const scaleInstance: Record<string, Scale> = {};\n\n  // Initialize scale from components.\n  for (const component of components) {\n    const { scales: scaleDescriptors = [] } = component;\n    const scales = [];\n    for (const descriptor of scaleDescriptors) {\n      const { name, uid } = descriptor;\n      const scale = uidScale.get(uid) ?? useRelationScale(descriptor, library);\n      scales.push(scale);\n      // Delivery the scale of axisX to the AxisY,\n      // in order to calculate the angle of axisY component when rendering radar chart.\n      if (name === 'y') {\n        scale.update({\n          ...scale.getOptions(),\n          xScale: scaleInstance.x,\n        });\n      }\n      assignScale(scaleInstance, { [name]: scale });\n    }\n    component.scaleInstances = scales;\n  }\n\n  // Calc data to be rendered for each mark.\n  // @todo More readable APIs for Container which stays\n  // the same style with JS standard and lodash APIs.\n  // @todo More proper way to index scale for different marks.\n  const children = [];\n  const dataMap = new Map();\n  for (const [mark, state] of markState.entries()) {\n    const {\n      // scale,\n      // Callback to create children options based on this mark.\n      children: createChildren,\n      // The total count of data (both show and hide)for this facet.\n      // This is for unit visualization to sync data domain.\n      dataDomain,\n      modifier,\n      key: markKey,\n      data,\n    } = mark;\n    dataMap.set(markKey, data);\n    const { index, channels, tooltip } = state;\n    const scale = Object.fromEntries(\n      channels.map(({ name, scale }) => [name, scale]),\n    );\n    // Transform abstract value to visual value by scales.\n    const markScaleInstance = mapObject(scale, ({ uid }) => uidScale.get(uid));\n    assignScale(scaleInstance, markScaleInstance);\n    const value = applyScale(channels, markScaleInstance);\n\n    // Calc points and transformation for each data,\n    // and then transform visual value to visual data.\n    const calcPoints = (useMark as (options: G2MarkOptions) => SingleMark)(\n      mark,\n    );\n    const [I, P, S] = filterValid(\n      calcPoints(index, markScaleInstance, value, coordinate),\n    );\n    const count = dataDomain || I.length;\n    const T = modifier ? modifier(P, count, layout) : [];\n    const titleOf = (i) => tooltip.title?.[i]?.value;\n    const itemsOf = (i) => tooltip.items.map((V) => V[i]);\n    const visualData: Record<string, any>[] = I.map((d, i) => {\n      const datum = {\n        points: P[i],\n        transform: T[i],\n        index: d,\n        markKey,\n        viewKey: key,\n        data: data[d],\n        ...(tooltip && {\n          title: titleOf(d),\n          items: itemsOf(d),\n        }),\n      };\n      for (const [k, V] of Object.entries(value)) {\n        datum[k] = V[d];\n        if (S) datum[`series${upperFirst(k)}`] = S[i].map((i) => V[i]);\n      }\n      if (S) datum['seriesIndex'] = S[i];\n      if (S && tooltip) {\n        datum['seriesItems'] = S[i].map((si) => itemsOf(si));\n        datum['seriesTitle'] = S[i].map((si) => titleOf(si));\n      }\n      return datum;\n    });\n    state.data = visualData;\n    state.index = I;\n\n    // Create children options by children callback,\n    // and then propagate data to each child.\n    const markChildren = createChildren?.(\n      visualData,\n      markScaleInstance,\n      layout,\n    );\n    children.push(...(markChildren || []));\n  }\n\n  const view = {\n    layout,\n    theme,\n    coordinate,\n    markState,\n    key,\n    clip,\n    scale: scaleInstance,\n    style: framedStyle,\n    components,\n    data: dataMap,\n    options: options,\n    labelTransform: compose(labelTransform.map(useLabelTransform)),\n  };\n\n  return [view, children];\n}\n\nasync function plotView(\n  view: G2ViewDescriptor,\n  selection: Selection,\n  transitions: GAnimation[],\n  context: G2Context,\n): Promise<void> {\n  const { library } = context;\n  const {\n    components,\n    theme,\n    layout,\n    markState,\n    coordinate,\n    key,\n    style,\n    clip,\n    scale,\n  } = view;\n\n  // Render background for the different areas.\n  const { x, y, width, height, ...rest } = layout;\n  const areaKeys = ['view', 'plot', 'main', 'content'];\n  const I = areaKeys.map((_, i) => i);\n  const sizeKeys = ['a', 'margin', 'padding', 'inset'];\n  const areaStyles = areaKeys.map((d) =>\n    maybeSubObject(Object.assign({}, theme.view, style), d),\n  );\n  const areaSizes = sizeKeys.map((d) => subObject(rest, d));\n  const styleArea = (selection) =>\n    selection\n      .style('x', (i) => areaLayouts[i].x)\n      .style('y', (i) => areaLayouts[i].y)\n      .style('width', (i) => areaLayouts[i].width)\n      .style('height', (i) => areaLayouts[i].height)\n      .each(function (i, d, element) {\n        applyStyle(select(element), areaStyles[i]);\n      });\n  let px = 0;\n  let py = 0;\n  let pw = width;\n  let ph = height;\n  const areaLayouts = I.map((i) => {\n    const size = areaSizes[i];\n    const { left = 0, top = 0, bottom = 0, right = 0 } = size;\n    px += left;\n    py += top;\n    pw -= left + right;\n    ph -= top + bottom;\n    return {\n      x: px,\n      y: py,\n      width: pw,\n      height: ph,\n    };\n  });\n  selection\n    .selectAll(className(AREA_CLASS_NAME))\n    .data(\n      // Only render area with defined style.\n      I.filter((i) => defined(areaStyles[i])),\n      (i) => areaKeys[i],\n    )\n    .join(\n      (enter) =>\n        enter\n          .append('rect')\n          .attr('className', AREA_CLASS_NAME)\n          .style('zIndex', -2)\n          .call(styleArea),\n      (update) => update.call(styleArea),\n      (exit) => exit.remove(),\n    );\n\n  const animationExtent = computeAnimationExtent(markState);\n\n  const componentAnimateOptions = animationExtent\n    ? { duration: animationExtent[1] }\n    : false;\n\n  // Render components.\n  // @todo renderComponent return ctor and options.\n  // Key for each type of component.\n  // Index them grouped by position.\n  for (const [, C] of groups(components, (d) => `${d.type}-${d.position}`)) {\n    C.forEach((d, i) => (d.index = i));\n  }\n\n  const componentsTransitions = selection\n    .selectAll(className(COMPONENT_CLASS_NAME))\n    .data(components, (d) => `${d.type}-${d.position}-${d.index}`)\n    .join(\n      (enter) =>\n        enter\n          .append('g')\n          .style('zIndex', ({ zIndex }) => zIndex || -1)\n          .attr('className', COMPONENT_CLASS_NAME)\n          .append((options) =>\n            renderComponent(\n              deepMix({ animate: componentAnimateOptions, scale }, options),\n              coordinate,\n              theme,\n              library,\n              markState,\n            ),\n          ),\n      (update) =>\n        update.transition(function (\n          options: G2GuideComponentOptions,\n          i,\n          element,\n        ) {\n          const { preserve = false } = options;\n          if (preserve) return;\n          const newComponent = renderComponent(\n            deepMix({ animate: componentAnimateOptions, scale }, options),\n            coordinate,\n            theme,\n            library,\n            markState,\n          );\n          const { attributes } = newComponent;\n          const [node] = element.childNodes;\n          return node.update(attributes, false);\n        }),\n    )\n    .transitions();\n\n  transitions.push(...componentsTransitions.flat().filter(defined));\n\n  // Main layer is for showing the main visual representation such as marks. There\n  // may be multiple main layers for a view, each main layer correspond to one of marks.\n  // @todo Test DOM structure.\n  const T = selection\n    .selectAll(className(PLOT_CLASS_NAME))\n    .data([layout], () => key)\n    .join(\n      (enter) =>\n        enter\n          // Make this layer interactive, such as click and mousemove events.\n          .append('rect')\n          .style('zIndex', 0)\n          .style('fill', 'transparent')\n          .attr('className', PLOT_CLASS_NAME)\n          .call(updateBBox)\n          .call(updateLayers, Array.from(markState.keys()))\n          .call(applyClip, clip),\n      (update) =>\n        update\n          .call(updateLayers, Array.from(markState.keys()))\n          .call(updateBBox)\n          // .call((selection) => {\n          //   return animationExtent\n          //     ? animateBBox(selection, animationExtent)\n          //     : updateBBox(selection);\n          // })\n          .call(applyClip, clip),\n    )\n    .transitions();\n  transitions.push(...T.flat());\n\n  // Render marks with corresponding data.\n  for (const [mark, state] of markState.entries()) {\n    const { data } = state;\n    const { key, class: cls, type } = mark;\n    const viewNode = selection.select(`#${key}`);\n    const shapeFunction = createMarkShapeFunction(mark, state, view, context);\n    const enterFunction = createEnterFunction(mark, state, view, library);\n    const updateFunction = createUpdateFunction(mark, state, view, library);\n    const exitFunction = createExitFunction(mark, state, view, library);\n    const facetElements = selectFacetElements(\n      selection,\n      viewNode,\n      cls,\n      'element',\n    );\n    const T = viewNode\n      .selectAll(className(ELEMENT_CLASS_NAME))\n      .selectFacetAll(facetElements)\n      .data(\n        data,\n        (d) => d.key,\n        (d) => d.groupKey,\n      )\n      .join(\n        (enter) =>\n          enter\n            .append(shapeFunction)\n            // Note!!! Only one className can be set.\n            // Using attribute as alternative for other classNames.\n            .attr('className', ELEMENT_CLASS_NAME)\n            .attr('markType', type)\n            .transition(function (data, i, element) {\n              return enterFunction(data, [element]);\n            }),\n        (update) =>\n          update.call((selection) => {\n            const parent = selection.parent();\n            const origin = useMemo<DisplayObject, [number, number]>((node) => {\n              const [x, y] = node.getBounds().min;\n              return [x, y];\n            });\n            selection\n              .transition(function (data, index, element) {\n                maybeFacetElement(element, parent, origin);\n                const node = shapeFunction(data, index);\n                const animation = updateFunction(data, [element], [node]);\n                if (animation?.length) return animation;\n                if (\n                  element.nodeName === node.nodeName &&\n                  node.nodeName !== 'g'\n                ) {\n                  copyAttributes(element, node);\n                } else {\n                  element.parentNode.replaceChild(node, element);\n                  node.className = ELEMENT_CLASS_NAME;\n                  // @ts-ignore\n                  node.markType = type;\n                  // @ts-ignore\n                  node.__data__ = element.__data__;\n                }\n                return animation;\n              })\n              .each(function (d, i, element) {\n                if (element.__removed__) {\n                  element.__removed__ = false;\n                }\n              })\n              .attr('markType', type)\n              .attr('className', ELEMENT_CLASS_NAME);\n          }),\n        (exit) => {\n          return exit\n            .each(function (d, i, element) {\n              element.__removed__ = true;\n            })\n            .transition(function (data, i, element) {\n              return exitFunction(data, [element]);\n            })\n            .remove();\n        },\n        (merge) =>\n          merge\n            // Append elements to be merged.\n            .append(shapeFunction)\n            .attr('className', ELEMENT_CLASS_NAME)\n            .attr('markType', type)\n            .transition(function (data, i, element) {\n              // Remove merged elements after animation finishing.\n              const { __fromElements__: fromElements } = element;\n              const transition = updateFunction(data, fromElements, [element]);\n              const exit = new Selection(\n                fromElements,\n                null,\n                element.parentNode,\n              );\n              exit.transition(transition).remove();\n              return transition;\n            }),\n        (split) =>\n          split\n            .transition(function (data, i, element) {\n              // Append splitted shapes.\n              const enter = new Selection(\n                [],\n                element.__toData__,\n                element.parentNode,\n              );\n              const toElements = enter\n                .append(shapeFunction)\n                .attr('className', ELEMENT_CLASS_NAME)\n                .attr('markType', type)\n                .nodes();\n              return updateFunction(data, [element], toElements);\n            })\n            // Remove elements to be splitted after animation finishing.\n            .remove(),\n      )\n      .transitions();\n    transitions.push(...T.flat());\n  }\n\n  // Plot label for this view.\n  plotLabel(view, selection, transitions, library, context);\n  plotBreak(view, selection, library, context);\n}\n\n/**\n * Auto hide labels be specify label layout.\n */\nfunction plotLabel(\n  view: G2ViewDescriptor,\n  selection: Selection,\n  transitions: GAnimation[],\n  library: G2Library,\n  context: G2Context,\n) {\n  const [useLabelTransform] = useLibrary<\n    G2LabelTransformOptions,\n    LabelTransformComponent,\n    LabelTransform\n  >('labelTransform', library);\n  const { markState, labelTransform } = view;\n  const labelLayer = selection.select(className(LABEL_LAYER_CLASS_NAME)).node();\n\n  // A Map index shapeFunction by label.\n  const labelShapeFunction = new Map();\n\n  // A Map index options by label.\n  const labelDescriptor = new Map();\n\n  // Get all labels for this view.\n  const labels = Array.from(markState.entries()).flatMap(([mark, state]) => {\n    const { labels: labelOptions = [], key } = mark;\n    const shapeFunction = createLabelShapeFunction(\n      mark,\n      state,\n      view,\n      library,\n      context,\n    );\n    const elements = selection\n      .select(`#${key}`)\n      .selectAll(className(ELEMENT_CLASS_NAME))\n      .nodes()\n      // Only select the valid element.\n      .filter((n) => !n.__removed__);\n    return labelOptions.flatMap((labelOption, i) => {\n      const { transform = [], ...options } = labelOption;\n      return elements.flatMap((e) => {\n        const L = getLabels(options, i, e);\n        L.forEach((l) => {\n          labelShapeFunction.set(l, (data) =>\n            shapeFunction({ ...data, element: e }),\n          );\n          labelDescriptor.set(l, labelOption);\n        });\n        return L;\n      });\n    });\n  });\n\n  // Render all labels.\n  const labelShapes = select(labelLayer)\n    .selectAll(className(LABEL_CLASS_NAME))\n    .data(labels, (d) => d.key)\n    .join(\n      (enter) =>\n        enter\n          .append((d) => labelShapeFunction.get(d)(d))\n          .attr('className', LABEL_CLASS_NAME),\n      (update) =>\n        update.each(function (d, i, element) {\n          // @todo Handle Label with different type.\n          const shapeFunction = labelShapeFunction.get(d);\n          const node = shapeFunction(d);\n          copyAttributes(element, node);\n        }),\n      (exit) => exit.remove(),\n    )\n    .nodes();\n\n  // Apply group-level transforms.\n  const labelGroups = group(labelShapes, (d) =>\n    labelDescriptor.get(d.__data__),\n  );\n  const { coordinate, layout } = view;\n\n  const labelTransformContext = {\n    canvas: context.canvas,\n    coordinate,\n    layout,\n  };\n  for (const [label, shapes] of labelGroups) {\n    const { transform = [] } = label;\n    const transformFunction = compose(transform.map(useLabelTransform));\n    transformFunction(shapes, labelTransformContext);\n  }\n\n  // Apply view-level transform.\n  if (labelTransform) {\n    labelTransform(labelShapes, labelTransformContext);\n  }\n}\n\nfunction getLabels(\n  label: Record<string, any>,\n  labelIndex: number,\n  element: G2Element,\n): Record<string, any>[] {\n  const { seriesIndex: SI, seriesKey, points, key, index } = element.__data__;\n  const bounds = getLocalBounds(element);\n  if (!SI) {\n    return [\n      {\n        ...label,\n        key: `${key}-${labelIndex}`,\n        bounds,\n        index,\n        points,\n        dependentElement: element,\n      },\n    ];\n  }\n  const selector = normalizeLabelSelector(label);\n  const F = SI.map((index: number, i: number) => ({\n    ...label,\n    key: `${seriesKey[i]}-${labelIndex}`,\n    bounds: [points[i]],\n    index,\n    points,\n    dependentElement: element,\n  }));\n  return selector ? selector(F) : F;\n}\n\n/**\n * Plot break shapes.\n */\nfunction plotBreak(\n  view: G2ViewDescriptor,\n  selection: Selection,\n  library: G2Library,\n  context: G2Context,\n) {\n  const scale = view.scale;\n  const breaks = get(scale, 'y.options.breaks', []);\n  const { document } = context.canvas;\n  [BREAK_CLASS_NAME, BREAK_GROUP_CLASS_NAME].forEach((d) => {\n    document.getElementsByClassName(d).forEach((e) => {\n      e.remove();\n    });\n  });\n  if (!breaks.length) {\n    return;\n  }\n  const breakLayer = selection.select(className(PLOT_CLASS_NAME)).node();\n  const [useShape] = useLibrary<G2ShapeOptions, ShapeComponent, Shape>(\n    'shape',\n    library,\n  );\n  const breaksShapeFunction = new Map();\n  breaks.forEach((breakConfig, index) => {\n    breaksShapeFunction.set(\n      breakConfig,\n      useShape(\n        {\n          type: 'break',\n        },\n        {\n          view,\n          selection,\n          context,\n        },\n      ),\n    );\n  });\n\n  // Render all breaks.\n  select(breakLayer)\n    .selectAll(className(BREAK_CLASS_NAME))\n    .data(breaks, (d) => d.key)\n    .join(\n      (enter) =>\n        enter\n          .append((d, index) => breaksShapeFunction.get(d)(d, index))\n          .attr('className', BREAK_CLASS_NAME),\n      (update) =>\n        update.each(function (d, i, element) {\n          const shapeFunction = breaksShapeFunction.get(d);\n          const node = shapeFunction(d, i);\n          copyAttributes(element, node);\n        }),\n      (exit) => exit.remove(),\n    )\n    .nodes();\n}\n\nfunction filterValid([I, P, S]: [number[], Vector2[][], number[][]?]): [\n  number[],\n  Vector2[][],\n  number[][]?,\n] {\n  if (S) return [I, P, S];\n  const definedIndex = [];\n  const definedPoints = [];\n  for (let i = 0; i < I.length; i++) {\n    const d = I[i];\n    const p = P[i];\n    if (p.every(([x, y]) => defined(x) && defined(y))) {\n      definedIndex.push(d);\n      definedPoints.push(p);\n    }\n  }\n  return [definedIndex, definedPoints];\n}\n\nfunction normalizeLabelSelector(\n  label: Record<string, any>,\n): (I: number[]) => number[] {\n  const { selector } = label;\n  if (!selector) return null;\n  if (typeof selector === 'function') return selector;\n  if (selector === 'first') return (I) => [I[0]];\n  if (selector === 'last') return (I) => [I[I.length - 1]];\n  throw new Error(`Unknown selector: ${selector}`);\n}\n\n/**\n * Avoid getting error bounds caused by element animations.\n * @todo Remove this temporary handle method, if runtime supports\n * correct process: drawElement, do label layout and then do\n * transitions together.\n */\nfunction getLocalBounds(element: DisplayObject) {\n  const cloneElement = element.cloneNode(true);\n  const animations = element.getAnimations();\n  cloneElement.style.visibility = 'hidden';\n  animations.forEach((animation) => {\n    const keyframes = animation.effect.getKeyframes();\n    cloneElement.attr(keyframes[keyframes.length - 1]);\n  });\n  element.parentNode.appendChild(cloneElement);\n  const bounds = cloneElement.getLocalBounds();\n  cloneElement.destroy();\n  const { min, max } = bounds;\n  return [min, max];\n}\n\nfunction createLabelShapeFunction(\n  mark: G2Mark,\n  state: G2MarkState,\n  view: G2ViewDescriptor,\n  library: G2Library,\n  context: G2Context,\n): (options: Record<string, any>) => DisplayObject {\n  const [useShape] = useLibrary<G2ShapeOptions, ShapeComponent, Shape>(\n    'shape',\n    library,\n  );\n  const { data: abstractData, encode } = mark;\n  const { data: visualData, defaultLabelShape } = state;\n  const point2d = visualData.map((d) => d.points);\n  const channel = mapObject(encode, (d) => d.value);\n\n  // Assemble Context.\n  const { theme, coordinate } = view;\n  const shapeContext = {\n    ...context,\n    document: documentOf(context),\n    theme,\n    coordinate,\n  };\n\n  return (options) => {\n    // Computed values from data and styles.\n    const { index, points } = options;\n    const datum = abstractData[index];\n    const {\n      formatter = (d) => `${d}`,\n      transform,\n      style: abstractStyle,\n      render,\n      selector,\n      element,\n      ...abstractOptions\n    } = options;\n\n    const visualOptions = mapObject(\n      { ...abstractOptions, ...abstractStyle } as Record<string, any>,\n      (d) =>\n        valueOf(d, datum, index, abstractData, {\n          channel,\n          element,\n        }),\n    );\n    const { shape = defaultLabelShape, text, ...style } = visualOptions;\n    const f = typeof formatter === 'string' ? format(formatter) : formatter;\n    const value = {\n      ...style,\n      text: f(text, datum, index, abstractData),\n      datum,\n    };\n\n    // Params for create shape.\n    const shapeOptions = { type: `label.${shape}`, render, ...style };\n    const shapeFunction = useShape(shapeOptions, shapeContext);\n    const defaults = getDefaultsStyle(theme, 'label', shape, 'label');\n\n    return shapeFunction(points, value, defaults, point2d);\n  };\n}\n\nfunction valueOf(\n  value: Primitive | ((d: any, i: number, array: any, channel: any) => any),\n  datum: Record<string, any>,\n  i: number,\n  data: Record<string, any>,\n  options: { channel: Record<string, any>; element?: G2Element },\n) {\n  if (typeof value === 'function') return value(datum, i, data, options);\n  if (typeof value !== 'string') return value;\n  if (isStrictObject(datum) && datum[value] !== undefined) return datum[value];\n  return value;\n}\n\n/**\n * Compute max duration for this frame.\n */\nfunction computeAnimationExtent(markState): [number, number] {\n  let maxDuration = -Infinity;\n  let minDelay = Infinity;\n  for (const [mark, state] of markState) {\n    const { animate = {} } = mark;\n    const { data } = state;\n    const { enter = {}, update = {}, exit = {} } = animate;\n    const {\n      type: defaultUpdateType,\n      duration: defaultUpdateDuration = 300,\n      delay: defaultUpdateDelay = 0,\n    } = update;\n    const {\n      type: defaultEnterType,\n      duration: defaultEnterDuration = 300,\n      delay: defaultEnterDelay = 0,\n    } = enter;\n    const {\n      type: defaultExitType,\n      duration: defaultExitDuration = 300,\n      delay: defaultExitDelay = 0,\n    } = exit;\n    for (const d of data) {\n      const {\n        updateType = defaultUpdateType,\n        updateDuration = defaultUpdateDuration,\n        updateDelay = defaultUpdateDelay,\n        enterType = defaultEnterType,\n        enterDuration = defaultEnterDuration,\n        enterDelay = defaultEnterDelay,\n        exitDuration = defaultExitDuration,\n        exitDelay = defaultExitDelay,\n        exitType = defaultExitType,\n      } = d;\n\n      if (updateType === undefined || updateType) {\n        maxDuration = Math.max(maxDuration, updateDuration + updateDelay);\n        minDelay = Math.min(minDelay, updateDelay);\n      }\n      if (exitType === undefined || exitType) {\n        maxDuration = Math.max(maxDuration, exitDuration + exitDelay);\n        minDelay = Math.min(minDelay, exitDelay);\n      }\n      if (enterType === undefined || enterType) {\n        maxDuration = Math.max(maxDuration, enterDuration + enterDelay);\n        minDelay = Math.min(minDelay, enterDelay);\n      }\n    }\n  }\n  if (maxDuration === -Infinity) return null;\n  return [minDelay, maxDuration - minDelay];\n}\n\nfunction selectFacetElements(\n  selection: Selection,\n  current: Selection,\n  facetClassName: string,\n  elementClassName: string,\n): DisplayObject[] {\n  const group = selection.node().parentElement;\n  if (!group || typeof group.findAll !== 'function') return [];\n  return group\n    .findAll(\n      (node) =>\n        node.style.facet !== undefined &&\n        node.style.facet === facetClassName &&\n        node !== current.node(), // Exclude current view.\n    )\n    .flatMap((node) => node.getElementsByClassName(elementClassName));\n}\n\n/**\n * Update the parent of element and apply transform to make it\n * stay in original position.\n */\nfunction maybeFacetElement(\n  element: G2Element,\n  parent: DisplayObject,\n  originOf: (node: DisplayObject) => [number, number],\n): void {\n  if (!element.__facet__) return;\n  // element -> g#main -> rect#plot\n  const prePlot = element.parentNode.parentNode as DisplayObject;\n  // g#main -> rect#plot\n  const newPlot = parent.parentNode as DisplayObject;\n  const [px, py] = originOf(prePlot);\n  const [x, y] = originOf(newPlot);\n  const translate = `translate(${px - x}, ${py - y})`;\n  appendTransform(element, translate);\n  parent.append(element);\n}\n\nfunction createMarkShapeFunction(\n  mark: G2Mark,\n  state: G2MarkState,\n  view: G2ViewDescriptor,\n  context: G2Context,\n): (\n  data: Record<string, any>,\n  index: number,\n  element?: DisplayObject,\n) => DisplayObject {\n  const { library } = context;\n\n  const [useShape] = useLibrary<G2ShapeOptions, ShapeComponent, Shape>(\n    'shape',\n    library,\n  );\n  const { data: abstractData, encode } = mark;\n  const { defaultShape, data, shape: shapeLibrary } = state;\n  const channel = mapObject(encode, (d) => d.value);\n  const point2d = data.map((d) => d.points);\n  const { theme, coordinate } = view;\n  const { type: markType, style = {} } = mark;\n  const shapeContext = {\n    ...context,\n    document: documentOf(context),\n    coordinate,\n    theme,\n  };\n  return (data) => {\n    const { shape: styleShape = defaultShape } = style;\n    const { shape = styleShape, points, seriesIndex, index: i, ...v } = data;\n    const value = { ...v, index: i };\n\n    // Get data-driven style.\n    // If it is a series shape, such as area and line,\n    // provides the series of abstract data and indices\n    // for this shape, otherwise the single datum and\n    // index.\n    const abstractDatum = seriesIndex\n      ? seriesIndex.map((i) => abstractData[i])\n      : abstractData[i];\n\n    const I = seriesIndex ? seriesIndex : i;\n    const visualStyle = mapObject(style, (d) =>\n      valueOf(d, abstractDatum, I, abstractData, { channel }),\n    );\n\n    // Try get shape from mark first, then from library.\n    const shapeFunction = shapeLibrary[shape]\n      ? shapeLibrary[shape](visualStyle, shapeContext)\n      : useShape(\n          { ...visualStyle, type: shapeName(mark, shape) },\n          shapeContext,\n        );\n\n    const defaults = getDefaultsStyle(theme, markType, shape, defaultShape);\n    return shapeFunction(points, value, defaults, point2d);\n  };\n}\n\nfunction getDefaultsStyle(\n  theme: G2Theme,\n  mark: string | MarkComponent,\n  shape: string,\n  defaultShape: string,\n) {\n  if (typeof mark !== 'string') return;\n  const { color } = theme;\n  const markTheme = theme[mark] || {};\n  const shapeTheme = markTheme[shape] || markTheme[defaultShape];\n  return Object.assign({ color }, shapeTheme);\n}\n\nfunction createAnimationFunction(\n  type: 'enter' | 'exit' | 'update',\n  mark: G2Mark,\n  state: G2MarkState,\n  view: G2ViewDescriptor,\n  library: G2Library,\n): (\n  data: Record<string, any>,\n  from: DisplayObject[],\n  to: DisplayObject[],\n) => GAnimation[] {\n  const [, createShape] = useLibrary<G2ShapeOptions, ShapeComponent, Shape>(\n    'shape',\n    library,\n  );\n  const [useAnimation] = useLibrary<\n    G2AnimationOptions,\n    AnimationComponent,\n    Animation\n  >('animation', library);\n  const { defaultShape, shape: shapeLibrary } = state;\n  const { theme, coordinate } = view;\n\n  const upperType = upperFirst(type) as 'Enter' | 'Exit' | 'Update';\n  const key:\n    | 'defaultEnterAnimation'\n    | 'defaultExitAnimation'\n    | 'defaultUpdateAnimation' = `default${upperType}Animation`;\n\n  // Get shape from mark first, then from library.\n  const { [key]: defaultAnimation } =\n    shapeLibrary[defaultShape]?.props ||\n    createShape(shapeName(mark, defaultShape)).props;\n\n  const { [type]: defaultEffectTiming = {} } = theme;\n  const animate = mark.animate?.[type] || {};\n  const context = { coordinate };\n\n  return (data, from, to) => {\n    const {\n      [`${type}Type`]: animation,\n      [`${type}Delay`]: delay,\n      [`${type}Duration`]: duration,\n      [`${type}Easing`]: easing,\n    } = data;\n\n    const options = {\n      type: animation || defaultAnimation,\n      ...animate,\n    };\n    if (!options.type) return null;\n\n    const animateFunction = useAnimation(options, context);\n    const value = { delay, duration, easing };\n    const A = animateFunction(from, to, deepMix(defaultEffectTiming, value));\n    let an: GAnimation[] = [];\n    if (!Array.isArray(A)) {\n      an = [A];\n    } else {\n      an = A;\n    }\n    return an.filter(Boolean);\n  };\n}\n\nfunction createEnterFunction(\n  mark: G2Mark,\n  state: G2MarkState,\n  view: G2ViewDescriptor,\n  library: G2Library,\n): (\n  data: Record<string, any>,\n  from?: DisplayObject[],\n  to?: DisplayObject[],\n) => GAnimation[] {\n  return createAnimationFunction('enter', mark, state, view, library);\n}\n\n/**\n * Animation will not cancel automatically, it should be canceled\n * manually. This is very important for performance.\n */\nfunction cancel(animation: GAnimation): GAnimation {\n  animation.finished.then(() => {\n    animation.cancel();\n  });\n  return animation;\n}\n\nfunction createUpdateFunction(\n  mark: G2Mark,\n  state: G2MarkState,\n  view: G2ViewDescriptor,\n  library: G2Library,\n): (\n  data: Record<string, any>,\n  from?: DisplayObject[],\n  to?: DisplayObject[],\n) => GAnimation[] {\n  return createAnimationFunction('update', mark, state, view, library);\n}\n\nfunction createExitFunction(\n  mark: G2Mark,\n  state: G2MarkState,\n  view: G2ViewDescriptor,\n  library: G2Library,\n): (\n  data: Record<string, any>,\n  from?: DisplayObject[],\n  to?: DisplayObject[],\n) => GAnimation[] {\n  return createAnimationFunction('exit', mark, state, view, library);\n}\n\nfunction inferTheme(theme: G2ThemeOptions = {}): G2ThemeOptions {\n  if (typeof theme === 'string') return { type: theme };\n  const { type = 'light', ...rest } = theme;\n  return { ...rest, type };\n}\n\n/**\n * @todo Infer builtin tooltips.\n */\nfunction inferInteraction(\n  view: G2View,\n): [string, boolean | Omit<G2InteractionOptions, 'type'>][] {\n  const defaults = {\n    event: true,\n    tooltip: true,\n    // @todo Inferred by slider self.\n    sliderFilter: true,\n    legendFilter: true,\n    scrollbarFilter: true,\n  };\n  const { interaction = {} } = view;\n  return Object.entries(deepMix(defaults, interaction)).reverse();\n}\n\nasync function applyTransform<T extends G2ViewTree>(\n  node: T,\n  context: G2Context,\n): Promise<G2ViewTree> {\n  const { data, ...rest } = node;\n  if (data == undefined) return node;\n  const [, { data: newData }] = await applyDataTransform([], { data }, context);\n  return { data: newData, ...rest };\n}\n\nfunction updateBBox(selection: Selection) {\n  selection\n    .style(\n      'transform',\n      (d) =>\n        `translate(${d.paddingLeft + d.marginLeft}, ${\n          d.paddingTop + d.marginTop\n        })`,\n    )\n    .style('width', (d) => d.innerWidth)\n    .style('height', (d) => d.innerHeight);\n}\n\nfunction animateBBox(selection: Selection, extent: [number, number]) {\n  const [delay, duration] = extent;\n  selection.transition(function (data, i, element) {\n    const { transform, width, height } = element.style;\n    const {\n      paddingLeft,\n      paddingTop,\n      innerWidth,\n      innerHeight,\n      marginLeft,\n      marginTop,\n    } = data;\n    const keyframes = [\n      {\n        transform,\n        width,\n        height,\n      },\n      {\n        transform: `translate(${paddingLeft + marginLeft}, ${\n          paddingTop + marginTop\n        })`,\n        width: innerWidth,\n        height: innerHeight,\n      },\n    ];\n    return element.animate(keyframes, { delay, duration, fill: 'both' });\n  });\n}\n\nfunction shapeName(mark, name) {\n  const { type } = mark;\n  if (typeof name === 'string') return `${type}.${name}`;\n  return name;\n}\n\n/**\n * Create and update layer for each mark.\n * All the layers created here are treated as main layers.\n */\nfunction updateLayers(selection: Selection, marks: G2Mark[]) {\n  const facet = (d) => (d.class !== undefined ? `${d.class}` : '');\n\n  // Skip for empty selection, it can't append nodes.\n  const nodes = selection.nodes();\n  if (nodes.length === 0) return;\n\n  selection\n    .selectAll(className(MAIN_LAYER_CLASS_NAME))\n    .data(marks, (d) => d.key)\n    .join(\n      (enter) =>\n        enter\n          .append('g')\n          .attr('className', MAIN_LAYER_CLASS_NAME)\n          .attr('id', (d) => d.key)\n          .style('facet', facet)\n          .style('fill', 'transparent')\n          .style('zIndex', (d) => d.zIndex ?? 0),\n      (update) =>\n        update\n          .style('facet', facet)\n          .style('fill', 'transparent')\n          .style('zIndex', (d) => d.zIndex ?? 0),\n      (exit) => exit.remove(),\n    );\n\n  const labelLayer = selection.select(className(LABEL_LAYER_CLASS_NAME)).node();\n  if (labelLayer) return;\n  selection\n    .append('g')\n    .attr('className', LABEL_LAYER_CLASS_NAME)\n    .style('zIndex', 0);\n}\n\nfunction className(...names: string[]): string {\n  return names.map((d) => `.${d}`).join('');\n}\n\nfunction applyClip(selection, clip?: boolean) {\n  if (!selection.node()) return;\n  selection.style('clipPath', (data) => {\n    if (!clip) return null;\n    const {\n      paddingTop: y,\n      paddingLeft: x,\n      marginLeft: x1,\n      marginTop: y1,\n      innerWidth: width,\n      innerHeight: height,\n    } = data;\n    return new Rect({ style: { x: x + x1, y: y + y1, width, height } });\n  });\n}\n\nfunction inferComponentScales(\n  scales: G2ScaleOptions[],\n  states: G2MarkState[],\n  markState: Map<G2Mark, G2MarkState>,\n): G2ScaleOptions[] {\n  // add shape scale to state.\n\n  // for cell, omit shape scale.\n  // @todo support shape scale for cell.\n  for (const [key] of markState.entries()) {\n    if (key.type === 'cell') {\n      return scales.filter((scale) => scale.name !== 'shape');\n    }\n  }\n\n  // can't infer shape scale if there are multiple states.\n  if (states.length !== 1 || scales.some((scale) => scale.name === 'shape')) {\n    return scales;\n  }\n\n  const { defaultShape: shape } = states[0];\n  const acceptMarkTypes = ['point', 'line', 'rect', 'hollow'];\n  if (!acceptMarkTypes.includes(shape)) return scales;\n  const shapeMap = {\n    point: 'point',\n    line: 'hyphen',\n    rect: 'square',\n    hollow: 'hollow',\n  };\n\n  // create shape scale\n  const field = scales.find((scale) => scale.name === 'color')?.field || null;\n  const shapeScale = {\n    field,\n    name: 'shape',\n    type: 'constant',\n    domain: [],\n    range: [shapeMap[shape]],\n  };\n  return [...scales, shapeScale];\n}\n\nexport function applyStyle(\n  selection: Selection,\n  style: Record<string, Primitive>,\n) {\n  for (const [key, value] of Object.entries(style)) {\n    selection.style(key, value);\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4669, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4675, "column": 0}, "map": {"version":3,"file":"render.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/runtime/render.ts"],"sourcesContent":["import { Canvas as GCanvas, DisplayObject, Group } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Plugin as DragAndDropPlugin } from '@antv/g-plugin-dragndrop';\nimport { deepMix } from '@antv/util';\nimport EventEmitter from '@antv/event-emitter';\nimport { select } from '../utils/selection';\nimport { ChartEvent } from '../utils/event';\nimport { error } from '../utils/helper';\nimport { parseOptionsExpr } from '../utils/expr';\nimport { G2Context, G2ViewTree } from './types/options';\nimport { plot } from './plot';\nimport { VIEW_CLASS_NAME } from './constant';\nimport { preprocessOption } from './option-preprocess';\n/**\n * Infer key for each node of view tree.\n * Each key should be unique in the entire view tree.\n * The key is for incremental render when view tree is changed.\n * @todo Fix custom key equals to inferred key.\n */\nfunction inferKeys<T extends G2ViewTree = G2ViewTree>(options: T): T {\n  const root = deepMix({}, options);\n  const nodeParent = new Map<T, T>([[root, null]]);\n  const nodeIndex = new Map<T, number>([[null, -1]]);\n  const discovered = [root];\n  while (discovered.length) {\n    const node = discovered.shift();\n    // If key of node is not specified, using parentKey and the index for it\n    // in parent.children as its key.\n    // e.g. The key of node named 'a' will be 'a', and the key of node named\n    // 'b' will be 'parent-1' in the following view tree specification.\n    // { key: 'parent', children: [{ name: 'a', key: 'a' }, { name: 'b' }] }\n    if (node.key === undefined) {\n      const parent = nodeParent.get(node);\n      const index = nodeIndex.get(node);\n      const key = parent === null ? `${0}` : `${parent.key}-${index}`;\n      node.key = key;\n    }\n    const { children = [] } = node;\n    if (Array.isArray(children)) {\n      for (let i = 0; i < children.length; i++) {\n        // Clone node as well.\n        const child = deepMix({}, children[i]);\n        children[i] = child;\n        nodeParent.set(child, node);\n        nodeIndex.set(child, i);\n        discovered.push(child);\n      }\n    }\n  }\n  return root;\n}\n\nfunction Canvas(width: number, height: number): GCanvas {\n  const renderer = new CanvasRenderer();\n  // DragAndDropPlugin is for interaction.\n  renderer.registerPlugin(new DragAndDropPlugin());\n  return new GCanvas({\n    width,\n    height,\n    container: document.createElement('div'),\n    renderer: renderer,\n  });\n}\n\nexport function render<T extends G2ViewTree = G2ViewTree>(\n  options: T,\n  context: G2Context = {},\n  resolve = (): void => {},\n  reject = (e?: any): void => {\n    throw e;\n  },\n): HTMLElement {\n  const afterParsedOptions = parseOptionsExpr(options);\n  // Initialize the context if it is not provided.\n  const { width = 640, height = 480, depth = 0 } = afterParsedOptions;\n  // Preprocessing here, such as syntactic sugar.\n  const preprocessedOption = preprocessOption(afterParsedOptions);\n  const keyed = inferKeys(preprocessedOption);\n  const {\n    canvas = Canvas(width, height),\n    emitter = new EventEmitter(),\n    library,\n  } = context;\n\n  context.canvas = canvas;\n  context.emitter = emitter;\n  context.externals = {};\n\n  const { width: prevWidth, height: prevHeight } = canvas.getConfig();\n  if (prevWidth !== width || prevHeight !== height) {\n    canvas.resize(width, height);\n  }\n\n  emitter.emit(ChartEvent.BEFORE_RENDER);\n\n  // Plot the chart and mutate context.\n  // Make sure that plot chart after container is ready for every time.\n  const selection = select(canvas.document.documentElement);\n  canvas.ready\n    .then(() => plot<T>({ ...keyed, width, height, depth }, selection, context))\n    .then(() => {\n      // Place the center of whole scene at z axis' origin.\n      if (depth) {\n        const [x, y] = canvas!.document.documentElement.getPosition();\n        // Since `render` method can be called for multiple times, use setPosition instead of translate here.\n        canvas!.document.documentElement.setPosition(x, y, -depth / 2);\n      }\n\n      // Wait for the next tick.\n      // FIXME: Use `rendered?` event instead of `requestAnimationFrame`.\n      canvas.requestAnimationFrame(() => {\n        canvas.requestAnimationFrame(() => {\n          emitter.emit(ChartEvent.AFTER_RENDER);\n          resolve?.();\n        });\n      });\n    })\n    .catch((e) => {\n      reject?.(e);\n    });\n\n  // Return the container HTML element wraps the canvas or svg element.\n  return normalizeContainer(canvas.getConfig().container);\n}\n\nexport function renderToMountedElement<T extends G2ViewTree = G2ViewTree>(\n  options: T,\n  context: G2Context = {},\n  resolve = () => {},\n  reject = (e?: any) => {\n    throw e;\n  },\n): DisplayObject {\n  // Initialize the context if it is not provided.\n  const { width = 640, height = 480 } = options;\n  const keyed = inferKeys(options);\n  const {\n    group = new Group(),\n    emitter = new EventEmitter(),\n    library,\n  } = context;\n\n  if (!group?.parentElement) {\n    error(`renderToMountedElement can't render chart to unmounted group.`);\n  }\n\n  const selection = select(group);\n  context.group = group;\n  context.emitter = emitter;\n  context.externals = {};\n  context.canvas =\n    context.canvas || (group?.ownerDocument?.defaultView as GCanvas);\n\n  emitter.emit(ChartEvent.BEFORE_RENDER);\n  // Plot the chart and mutate context.\n  // Make sure that plot chart after container is ready for every time.\n  plot<T>({ ...keyed, width, height }, selection, context)\n    .then(() => {\n      context.canvas?.requestAnimationFrame(() => {\n        emitter.emit(ChartEvent.AFTER_RENDER);\n        resolve?.();\n      });\n    })\n    .catch((e) => {\n      reject?.(e);\n    });\n\n  // Return the Group wraps the canvas or svg element.\n  return group;\n}\n\nexport function destroy<T extends G2ViewTree = G2ViewTree>(\n  options: T,\n  context: G2Context = {},\n  isDestroyCanvas = false,\n  isClearEvents = true,\n) {\n  const { canvas, emitter } = context;\n  if (canvas) {\n    destroyAllInteractions(canvas);\n    isDestroyCanvas ? canvas.destroy() : canvas.destroyChildren();\n  }\n\n  if (isClearEvents) {\n    emitter.off();\n  }\n}\n\n/**\n * Destroy all interactions mounted on the canvas.\n */\nfunction destroyAllInteractions(canvas: GCanvas) {\n  const viewGroups = canvas.getRoot().querySelectorAll(`.${VIEW_CLASS_NAME}`);\n  viewGroups?.forEach((group) => {\n    const { nameInteraction = new Map() }: Record<string, any> = group;\n    if (nameInteraction?.size > 0) {\n      Array.from(nameInteraction?.values()).forEach((value: any) => {\n        value?.destroy();\n      });\n    }\n  });\n}\n\nfunction normalizeContainer(container: HTMLElement | string): HTMLElement {\n  return typeof container === 'string'\n    ? document.getElementById(container)\n    : container;\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4872, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}