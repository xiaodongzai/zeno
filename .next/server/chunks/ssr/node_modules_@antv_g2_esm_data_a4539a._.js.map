{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"file":"sort.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/utils/arc/sort.ts"],"sourcesContent":["export function weight(a, b) {\n  return b.value - a.value;\n}\n\nexport function frequency(a, b) {\n  return b.frequency - a.frequency;\n}\n\nexport function id(a, b) {\n  return `${a.id}`.localeCompare(`${b.id}`);\n}\n\nexport function name(a, b) {\n  return `${a.name}`.localeCompare(`${b.name}`);\n}\n"],"names":[],"mappings":";;;;;;AAAM,SAAU,MAAM,CAAC,CAAC,EAAE,CAAC;IACzB,OAAO,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;AAC3B,CAAC;AAEK,SAAU,SAAS,CAAC,CAAC,EAAE,CAAC;IAC5B,OAAO,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;AACnC,CAAC;AAEK,SAAU,EAAE,CAAC,CAAC,EAAE,CAAC;IACrB,OAAO,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;AAC5C,CAAC;AAEK,SAAU,IAAI,CAAC,CAAC,EAAE,CAAC;IACvB,OAAO,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;AAChD,CAAC","ignoreList":[0]}},
    {"offset": {"line": 25, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"file":"arc.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/utils/arc/arc.ts"],"sourcesContent":["import { group, sum } from '@antv/vendor/d3-array';\nimport { error } from '../../../utils/helper';\nimport { ArcData, ArcOptions, ArcEdge, ArcNode } from './types';\nimport * as SortMethods from './sort';\n\nconst DEFAULT_OPTIONS = {\n  y: 0,\n  thickness: 0.05,\n  weight: false,\n  marginRatio: 0.1,\n  id: (node) => node.id,\n  source: (edge) => edge.source,\n  target: (edge) => edge.target,\n  sourceWeight: (edge) => edge.value || 1,\n  targetWeight: (edge) => edge.value || 1,\n  sortBy: null,\n};\n\n/**\n * Layout for Arc / Chord diagram with d3 style.\n */\nexport function Arc(options?: ArcOptions) {\n  const {\n    y,\n    thickness,\n    weight,\n    marginRatio,\n    id,\n    source,\n    target,\n    sourceWeight,\n    targetWeight,\n    sortBy,\n  } = {\n    ...DEFAULT_OPTIONS,\n    ...options,\n  };\n\n  function arc(data: ArcData) {\n    // Clone first.\n    const nodes = data.nodes.map((n) => ({ ...n }));\n    const edges = data.edges.map((n) => ({ ...n }));\n\n    // Keep reference in below functions.\n    preprocess(nodes, edges);\n    sortNodes(nodes, edges);\n    layoutNodes(nodes, edges);\n    layoutEdges(nodes, edges);\n\n    return { nodes, edges };\n  }\n\n  /**\n   * Calculate id, value, frequency for node, and source,target for edge.\n   */\n  function preprocess(nodes: ArcNode[], edges: ArcEdge[]) {\n    edges.forEach((edge) => {\n      edge.source = source(edge);\n      edge.target = target(edge);\n      edge.sourceWeight = sourceWeight(edge);\n      edge.targetWeight = targetWeight(edge);\n    });\n\n    // Group edges by source, target.\n    const edgesBySource = group(edges, (e: any) => e.source);\n    const edgesByTarget = group(edges, (e: any) => e.target);\n\n    nodes.forEach((node) => {\n      node.id = id(node);\n      const sources = edgesBySource.has(node.id)\n        ? edgesBySource.get(node.id)\n        : [];\n      const targets = edgesByTarget.has(node.id)\n        ? edgesByTarget.get(node.id)\n        : [];\n      node.frequency = sources.length + targets.length;\n\n      node.value =\n        sum(sources, (d) => d.sourceWeight) +\n        sum(targets, (d) => d.targetWeight);\n    });\n\n    return { nodes, edges };\n  }\n\n  function sortNodes(nodes: ArcNode[], edges: ArcEdge[]) {\n    const method = typeof sortBy === 'function' ? sortBy : SortMethods[sortBy];\n\n    if (method) {\n      nodes.sort(method);\n    }\n  }\n\n  function layoutNodes(nodes: ArcNode[], edges: ArcEdge[]) {\n    const size = nodes.length;\n    if (!size) {\n      throw error(\"Invalid nodes: it's empty!\");\n    }\n\n    // No weight.\n    if (!weight) {\n      const deltaX = 1 / size;\n\n      nodes.forEach((node, i: number) => {\n        node.x = (i + 0.5) * deltaX;\n        node.y = y;\n      });\n\n      return { nodes, edges };\n    }\n\n    // todo: marginRatio should be in [0, 1)\n    // todo: thickness shoule be in (0, 1)\n    const margin = marginRatio / (2 * size);\n\n    const total = nodes.reduce((prev: number, node) => (prev += node.value), 0);\n\n    nodes.reduce((deltaX: number, node) => {\n      node.weight = node.value / total;\n      node.width = node.weight * (1 - marginRatio);\n      node.height = thickness;\n\n      /* points\n       * 3---2\n       * |   |\n       * 0---1\n       */\n      const minX = margin + deltaX;\n      const maxX = minX + node.width;\n      const minY = y - thickness / 2;\n      const maxY = minY + thickness;\n\n      node.x = [minX, maxX, maxX, minX];\n      node.y = [minY, minY, maxY, maxY];\n\n      // Return next deltaX.\n      return deltaX + node.width + 2 * margin;\n    }, 0);\n    return {\n      nodes,\n      edges,\n    };\n  }\n\n  /**\n   * Get edge layout information from nodes, and save into edge object.\n   */\n  function layoutEdges(nodes: ArcNode[], edges: ArcEdge[]) {\n    const nodesMap = new Map(nodes.map((d) => [d.id, d]));\n\n    if (!weight) {\n      edges.forEach((edge) => {\n        const sourceId = source(edge);\n        const targetId = target(edge);\n\n        const sourceNode: any = nodesMap.get(sourceId);\n        const targetNode: any = nodesMap.get(targetId);\n\n        // Edge's layout information is Equal with node.\n        if (sourceNode && targetNode) {\n          edge.x = [sourceNode.x, targetNode.x];\n          edge.y = [sourceNode.y, targetNode.y];\n        }\n      });\n      return { nodes, edges };\n    }\n\n    // Initial edge.x, edge.y.\n    edges.forEach((edge) => {\n      edge.x = [0, 0, 0, 0];\n      edge.y = [y, y, y, y];\n    });\n\n    // Group edges by source, target.\n    const edgesBySource = group(edges, (e: any) => e.source);\n    const edgesByTarget = group(edges, (e: any) => e.target);\n\n    // When weight = true, we need to calculation the bbox of edge start/end.\n    nodes.forEach((node) => {\n      const { edges, width, x, y, value, id } = node;\n\n      const sourceEdges = edgesBySource.get(id) || [];\n      const targetEdges = edgesByTarget.get(id) || [];\n\n      let offset = 0;\n      /* points\n       * 0----------2\n       * |          |\n       * 1----------3\n       */\n      sourceEdges.map((edge) => {\n        const w = (edge.sourceWeight / value) * width;\n        edge.x[0] = x[0] + offset;\n        edge.x[1] = x[0] + offset + w;\n\n        offset += w;\n      });\n\n      targetEdges.forEach((edge) => {\n        const w = (edge.targetWeight / value) * width;\n        edge.x[3] = x[0] + offset;\n        edge.x[2] = x[0] + offset + w;\n\n        offset += w;\n      });\n    });\n  }\n\n  return arc;\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 227, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"file":"arc.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/arc.ts"],"sourcesContent":["import { DataComponent as DC } from '../runtime';\nimport { Arc as ArcLayout } from '../data/utils/arc';\n\nexport type ArcOptions = Omit<Record<string, any>, 'type'>;\n\n/**\n * For arc diagram(edge with weight) or chord diagram(with weight)\n */\nexport const Arc: DC<ArcOptions> = (options) => {\n  return (data) => {\n    return ArcLayout(options)(data);\n  };\n};\n\nArc.props = {};\n"],"names":[],"mappings":";;;AACA,OAAO,EAAE,GAAG,IAAI,SAAS,EAAE,MAAM,mBAAmB,CAAC;;AAO9C,MAAM,GAAG,GAAmB,CAAC,OAAO,EAAE,EAAE;IAC7C,OAAO,CAAC,IAAI,EAAE,EAAE;QACd,8KAAO,MAAA,AAAS,EAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC;IAClC,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,GAAG,CAAC,KAAK,GAAG,CAAA,CAAE,CAAC","ignoreList":[0]}},
    {"offset": {"line": 244, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 250, "column": 0}, "map": {"version":3,"file":"cluster.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/cluster.ts"],"sourcesContent":["import { cluster, hierarchy } from '@antv/vendor/d3-hierarchy';\nimport { DataComponent as DC } from '../runtime';\n\nexport type ClusterOptions = Omit<Record<string, any>, 'type'>;\n\nexport const hierarchyFunction = (layoutFunction) => (options) => {\n  return (data) => {\n    const {\n      field = 'value',\n      nodeSize,\n      separation,\n      sortBy,\n      as = ['x', 'y'],\n    } = options;\n    const [x, y] = as;\n\n    // Process root data.\n    const root = hierarchy(data, (d) => d.children)\n      .sum((d) => d[field!])\n      .sort(sortBy);\n\n    // Layout\n    const c = layoutFunction();\n    c.size([1, 1]);\n    if (nodeSize) c.nodeSize(nodeSize);\n    if (separation) c.separation(separation);\n    c(root);\n\n    const nodes = [];\n    root.each((node: any) => {\n      node[x] = node.x;\n      node[y] = node.y;\n      node.name = node.data.name;\n\n      nodes.push(node);\n    });\n\n    const edges = root.links();\n    edges.forEach((edge) => {\n      edge[x] = [edge.source[x], edge.target[x]];\n      edge[y] = [edge.source[y], edge.target[y]];\n    });\n\n    return { nodes, edges };\n  };\n};\n\nexport const Cluster: DC<ClusterOptions> = (options) => {\n  return hierarchyFunction(cluster)(options);\n};\n\nCluster.props = {};\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,2BAA2B,CAAC;;;;AAKxD,MAAM,iBAAiB,GAAG,CAAC,cAAc,EAAE,CAAG,CAAD,AAAE,OAAO,EAAE,EAAE;QAC/D,OAAO,CAAC,IAAI,EAAE,EAAE;YACd,MAAM,EACJ,KAAK,GAAG,OAAO,EACf,QAAQ,EACR,UAAU,EACV,MAAM,EACN,EAAE,GAAG;gBAAC,GAAG;gBAAE,GAAG;aAAC,EAChB,GAAG,OAAO,CAAC;YACZ,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC;YAElB,qBAAqB;YACrB,MAAM,IAAI,4MAAG,YAAA,AAAS,EAAC,IAAI,EAAE,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,QAAQ,CAAC,CAC5C,GAAG,CAAC,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,KAAM,CAAC,CAAC,CACrB,IAAI,CAAC,MAAM,CAAC,CAAC;YAEhB,SAAS;YACT,MAAM,CAAC,GAAG,cAAc,EAAE,CAAC;YAC3B,CAAC,CAAC,IAAI,CAAC;gBAAC,CAAC;gBAAE,CAAC;aAAC,CAAC,CAAC;YACf,IAAI,QAAQ,EAAE,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;YACnC,IAAI,UAAU,EAAE,CAAC,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;YACzC,CAAC,CAAC,IAAI,CAAC,CAAC;YAER,MAAM,KAAK,GAAG,EAAE,CAAC;YACjB,IAAI,CAAC,IAAI,CAAC,CAAC,IAAS,EAAE,EAAE;gBACtB,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;gBACjB,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;gBACjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;gBAE3B,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACnB,CAAC,CAAC,CAAC;YAEH,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC;YAC3B,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;gBACrB,IAAI,CAAC,CAAC,CAAC,GAAG;oBAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;oBAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;iBAAC,CAAC;gBAC3C,IAAI,CAAC,CAAC,CAAC,GAAG;oBAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;oBAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;iBAAC,CAAC;YAC7C,CAAC,CAAC,CAAC;YAEH,OAAO;gBAAE,KAAK;gBAAE,KAAK;YAAA,CAAE,CAAC;QAC1B,CAAC,CAAC;IACJ,CAAC,CAAC;AAEK,MAAM,OAAO,GAAuB,CAAC,OAAO,EAAE,EAAE;IACrD,OAAO,iBAAiB,yLAAC,UAAO,CAAC,CAAC,OAAO,CAAC,CAAC;AAC7C,CAAC,CAAC;AAEF,OAAO,CAAC,KAAK,GAAG,CAAA,CAAE,CAAC","ignoreList":[0]}},
    {"offset": {"line": 304, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 310, "column": 0}, "map": {"version":3,"file":"tree.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/tree.ts"],"sourcesContent":["import { tree } from '@antv/vendor/d3-hierarchy';\nimport { DataComponent as DC } from '../runtime';\nimport { hierarchyFunction } from './cluster';\n\nexport type TreeOptions = Omit<Record<string, any>, 'type'>;\n\nexport const Tree: DC<TreeOptions> = (options) => {\n  return hierarchyFunction(tree)(options);\n};\n\nTree.props = {};\n"],"names":[],"mappings":";;;;AAEA,OAAO,EAAE,iBAAiB,EAAE,MAAM,WAAW,CAAC;AAF9C,OAAO,EAAE,IAAI,EAAE,MAAM,2BAA2B,CAAC;;;AAM1C,MAAM,IAAI,GAAoB,CAAC,OAAO,EAAE,EAAE;IAC/C,kKAAO,oBAAA,AAAiB,oLAAC,OAAI,CAAC,CAAC,OAAO,CAAC,CAAC;AAC1C,CAAC,CAAC;AAEF,IAAI,CAAC,KAAK,GAAG,CAAA,CAAE,CAAC","ignoreList":[0]}},
    {"offset": {"line": 322, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 328, "column": 0}, "map": {"version":3,"file":"align.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/utils/d3-sankey/align.ts"],"sourcesContent":["import { min } from '@antv/vendor/d3-array';\n\nfunction targetDepth(d) {\n  return d.target.depth;\n}\n\nexport function left(node) {\n  return node.depth;\n}\n\nexport function right(node, n) {\n  return n - 1 - node.height;\n}\n\nexport function justify(node, n) {\n  return node.sourceLinks.length ? node.depth : n - 1;\n}\n\nexport function center(node) {\n  return node.targetLinks.length\n    ? node.depth\n    : node.sourceLinks.length\n    ? (min(node.sourceLinks, targetDepth) as any) - 1\n    : 0;\n}\n"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,GAAG,EAAE,MAAM,uBAAuB,CAAC;;;AAE5C,SAAS,WAAW,CAAC,CAAC;IACpB,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;AACxB,CAAC;AAEK,SAAU,IAAI,CAAC,IAAI;IACvB,OAAO,IAAI,CAAC,KAAK,CAAC;AACpB,CAAC;AAEK,SAAU,KAAK,CAAC,IAAI,EAAE,CAAC;IAC3B,OAAO,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;AAC7B,CAAC;AAEK,SAAU,OAAO,CAAC,IAAI,EAAE,CAAC;IAC7B,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AACtD,CAAC;AAEK,SAAU,MAAM,CAAC,IAAI;IACzB,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,GAC1B,IAAI,CAAC,KAAK,GACV,IAAI,CAAC,WAAW,CAAC,MAAM,mLACtB,MAAA,AAAG,EAAC,IAAI,CAAC,WAAW,EAAE,WAAW,CAAS,GAAG,CAAC,GAC/C,CAAC,CAAC;AACR,CAAC","ignoreList":[0]}},
    {"offset": {"line": 352, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 358, "column": 0}, "map": {"version":3,"file":"constant.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/utils/d3-sankey/constant.ts"],"sourcesContent":["export function constant(x: any) {\n  return function () {\n    return x;\n  };\n}\n"],"names":[],"mappings":";;;AAAM,SAAU,QAAQ,CAAC,CAAM;IAC7B,OAAO;QACL,OAAO,CAAC,CAAC;IACX,CAAC,CAAC;AACJ,CAAC","ignoreList":[0]}},
    {"offset": {"line": 366, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 372, "column": 0}, "map": {"version":3,"file":"sankey.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/utils/d3-sankey/sankey.ts"],"sourcesContent":["import { sum, max, min } from '@antv/vendor/d3-array';\nimport { justify } from './align';\nimport { constant } from './constant';\n\nfunction ascendingSourceBreadth(a, b) {\n  return ascendingBreadth(a.source, b.source) || a.index - b.index;\n}\n\nfunction ascendingTargetBreadth(a, b) {\n  return ascendingBreadth(a.target, b.target) || a.index - b.index;\n}\n\nfunction ascendingBreadth(a, b) {\n  return a.y0 - b.y0;\n}\n\nfunction value(d) {\n  return d.value;\n}\n\nfunction defaultId(d) {\n  return d.index;\n}\n\nfunction defaultNodes(graph) {\n  return graph.nodes;\n}\n\nfunction defaultLinks(graph) {\n  return graph.links;\n}\n\nfunction find(nodeById, id) {\n  const node = nodeById.get(id);\n  if (!node) throw new Error('missing: ' + id);\n  return node;\n}\n\nfunction computeLinkBreadths({ nodes }) {\n  for (const node of nodes) {\n    let y0 = node.y0;\n    let y1 = y0;\n    for (const link of node.sourceLinks) {\n      link.y0 = y0 + link.width / 2;\n      y0 += link.width;\n    }\n    for (const link of node.targetLinks) {\n      link.y1 = y1 + link.width / 2;\n      y1 += link.width;\n    }\n  }\n}\n\nexport function Sankey() {\n  let x0 = 0,\n    y0 = 0,\n    x1 = 1,\n    y1 = 1; // extent\n  let dx = 24; // nodeWidth\n  let dy = 8,\n    py; // nodePadding\n  let id = defaultId;\n  let align = justify;\n  let depth;\n  let sort;\n  let linkSort;\n  let nodes = defaultNodes;\n  let links = defaultLinks;\n  let iterations = 6;\n\n  function sankey(arg) {\n    const graph = {\n      nodes: nodes(arg),\n      links: links(arg),\n    };\n    computeNodeLinks(graph);\n    computeNodeValues(graph);\n    computeNodeDepths(graph);\n    computeNodeHeights(graph);\n    computeNodeBreadths(graph);\n    computeLinkBreadths(graph);\n    return graph;\n  }\n\n  sankey.update = function (graph) {\n    computeLinkBreadths(graph);\n    return graph;\n  };\n\n  sankey.nodeId = function (_) {\n    return arguments.length\n      ? ((id = typeof _ === 'function' ? _ : constant(_)), sankey)\n      : id;\n  };\n\n  sankey.nodeAlign = function (_) {\n    return arguments.length\n      ? ((align = typeof _ === 'function' ? _ : constant(_)), sankey)\n      : align;\n  };\n\n  sankey.nodeDepth = function (_) {\n    return arguments.length\n      ? ((depth = typeof _ === 'function' ? _ : _), sankey)\n      : depth;\n  };\n\n  sankey.nodeSort = function (_) {\n    return arguments.length ? ((sort = _), sankey) : sort;\n  };\n\n  sankey.nodeWidth = function (_) {\n    return arguments.length ? ((dx = +_), sankey) : dx;\n  };\n\n  sankey.nodePadding = function (_) {\n    return arguments.length ? ((dy = py = +_), sankey) : dy;\n  };\n\n  sankey.nodes = function (_) {\n    return arguments.length\n      ? ((nodes = typeof _ === 'function' ? _ : constant(_)), sankey)\n      : nodes;\n  };\n\n  sankey.links = function (_) {\n    return arguments.length\n      ? ((links = typeof _ === 'function' ? _ : constant(_)), sankey)\n      : links;\n  };\n\n  sankey.linkSort = function (_) {\n    return arguments.length ? ((linkSort = _), sankey) : linkSort;\n  };\n\n  sankey.size = function (_) {\n    return arguments.length\n      ? ((x0 = y0 = 0), (x1 = +_[0]), (y1 = +_[1]), sankey)\n      : [x1 - x0, y1 - y0];\n  };\n\n  sankey.extent = function (_) {\n    return arguments.length\n      ? ((x0 = +_[0][0]),\n        (x1 = +_[1][0]),\n        (y0 = +_[0][1]),\n        (y1 = +_[1][1]),\n        sankey)\n      : [\n          [x0, y0],\n          [x1, y1],\n        ];\n  };\n\n  sankey.iterations = function (_) {\n    return arguments.length ? ((iterations = +_), sankey) : iterations;\n  };\n\n  function computeNodeLinks({ nodes, links }) {\n    nodes.forEach((node, idx) => {\n      node.index = idx;\n      node.sourceLinks = [];\n      node.targetLinks = [];\n    });\n\n    const nodeById = new Map(nodes.map((d) => [id(d), d]));\n\n    links.forEach((link, idx) => {\n      link.index = idx;\n      let { source, target } = link;\n      if (typeof source !== 'object')\n        source = link.source = find(nodeById, source);\n      if (typeof target !== 'object')\n        target = link.target = find(nodeById, target);\n      source.sourceLinks.push(link);\n      target.targetLinks.push(link);\n    });\n\n    if (linkSort != null) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(linkSort);\n        targetLinks.sort(linkSort);\n      }\n    }\n  }\n\n  function computeNodeValues({ nodes }) {\n    for (const node of nodes) {\n      node.value =\n        node.fixedValue === undefined\n          ? Math.max(sum(node.sourceLinks, value), sum(node.targetLinks, value))\n          : node.fixedValue;\n    }\n  }\n\n  function computeNodeDepths({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.depth = x;\n        for (const { target } of node.sourceLinks) {\n          next.add(target);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n\n    // 如果配置了 depth，则设置自定义 depth\n    if (depth) {\n      const maxDepth = Math.max(\n        max(nodes, (d: { depth: number }) => d.depth) + 1,\n        0,\n      );\n\n      let node;\n      for (let i = 0; i < nodes.length; i++) {\n        node = nodes[i];\n        node.depth = depth.call(null, node, maxDepth);\n      }\n    }\n  }\n\n  function computeNodeHeights({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.height = x;\n        for (const { source } of node.targetLinks) {\n          next.add(source);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n  }\n\n  function computeNodeLayers({ nodes }) {\n    const x = Math.max(max(nodes, (d: { depth: number }) => d.depth) + 1, 0);\n    const kx = (x1 - x0 - dx) / (x - 1);\n    const columns = new Array(x).fill(0).map(() => []);\n    for (const node of nodes) {\n      const i = Math.max(\n        0,\n        Math.min(x - 1, Math.floor(align.call(null, node, x))),\n      );\n      node.layer = i;\n      node.x0 = x0 + i * kx;\n      node.x1 = node.x0 + dx;\n      if (columns[i]) columns[i].push(node);\n      else columns[i] = [node];\n    }\n    if (sort)\n      for (const column of columns) {\n        column.sort(sort);\n      }\n    return columns;\n  }\n\n  function initializeNodeBreadths(columns) {\n    const ky = min(\n      columns,\n      (c: any[]) => (y1 - y0 - (c.length - 1) * py) / sum(c, value),\n    ) as any as number;\n    for (const nodes of columns) {\n      let y = y0;\n      for (const node of nodes) {\n        node.y0 = y;\n        node.y1 = y + node.value * ky;\n        y = node.y1 + py;\n        for (const link of node.sourceLinks) {\n          link.width = link.value * ky;\n        }\n      }\n      y = (y1 - y + py) / (nodes.length + 1);\n      for (let i = 0; i < nodes.length; ++i) {\n        const node = nodes[i];\n        node.y0 += y * (i + 1);\n        node.y1 += y * (i + 1);\n      }\n      reorderLinks(nodes);\n    }\n  }\n\n  function computeNodeBreadths(graph) {\n    const columns = computeNodeLayers(graph);\n    py = Math.min(\n      dy,\n      (y1 - y0) / ((max(columns, (c: any[]) => c.length) as any as number) - 1),\n    );\n    initializeNodeBreadths(columns);\n    for (let i = 0; i < iterations; ++i) {\n      const alpha = Math.pow(0.99, i);\n      const beta = Math.max(1 - alpha, (i + 1) / iterations);\n      relaxRightToLeft(columns, alpha, beta);\n      relaxLeftToRight(columns, alpha, beta);\n    }\n  }\n\n  // Reposition each node based on its incoming (target) links.\n  function relaxLeftToRight(columns, alpha, beta) {\n    for (let i = 1, n = columns.length; i < n; ++i) {\n      const column = columns[i];\n      for (const target of column) {\n        let y = 0;\n        let w = 0;\n        for (const { source, value } of target.targetLinks) {\n          const v = value * (target.layer - source.layer);\n          y += targetTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - target.y0) * alpha;\n        target.y0 += dy;\n        target.y1 += dy;\n        reorderNodeLinks(target);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  // Reposition each node based on its outgoing (source) links.\n  function relaxRightToLeft(columns, alpha, beta) {\n    for (let n = columns.length, i = n - 2; i >= 0; --i) {\n      const column = columns[i];\n      for (const source of column) {\n        let y = 0;\n        let w = 0;\n        for (const { target, value } of source.sourceLinks) {\n          const v = value * (target.layer - source.layer);\n          y += sourceTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - source.y0) * alpha;\n        source.y0 += dy;\n        source.y1 += dy;\n        reorderNodeLinks(source);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  function resolveCollisions(nodes, alpha) {\n    const i = nodes.length >> 1;\n    const subject = nodes[i];\n    resolveCollisionsBottomToTop(nodes, subject.y0 - py, i - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, subject.y1 + py, i + 1, alpha);\n    resolveCollisionsBottomToTop(nodes, y1, nodes.length - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, y0, 0, alpha);\n  }\n\n  // Push any overlapping nodes down.\n  function resolveCollisionsTopToBottom(nodes, y, i, alpha) {\n    for (; i < nodes.length; ++i) {\n      const node = nodes[i];\n      const dy = (y - node.y0) * alpha;\n      if (dy > 1e-6) (node.y0 += dy), (node.y1 += dy);\n      y = node.y1 + py;\n    }\n  }\n\n  // Push any overlapping nodes up.\n  function resolveCollisionsBottomToTop(nodes, y, i, alpha) {\n    for (; i >= 0; --i) {\n      const node = nodes[i];\n      const dy = (node.y1 - y) * alpha;\n      if (dy > 1e-6) (node.y0 -= dy), (node.y1 -= dy);\n      y = node.y0 - py;\n    }\n  }\n\n  function reorderNodeLinks({ sourceLinks, targetLinks }) {\n    if (linkSort === undefined) {\n      for (const {\n        source: { sourceLinks },\n      } of targetLinks) {\n        sourceLinks.sort(ascendingTargetBreadth);\n      }\n      for (const {\n        target: { targetLinks },\n      } of sourceLinks) {\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  function reorderLinks(nodes) {\n    if (linkSort === undefined) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(ascendingTargetBreadth);\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  // Returns the target.y0 that would produce an ideal link from source to target.\n  function targetTop(source, target) {\n    let y = source.y0 - ((source.sourceLinks.length - 1) * py) / 2;\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y += width + py;\n    }\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  // Returns the source.y0 that would produce an ideal link from source to target.\n  function sourceTop(source, target) {\n    let y = target.y0 - ((target.targetLinks.length - 1) * py) / 2;\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y += width + py;\n    }\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  return sankey;\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 741, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 757, "column": 0}, "map": {"version":3,"file":"sankey.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/sankey.ts"],"sourcesContent":["import { DataComponent as DC } from '../runtime';\nimport { sankey, left, right, center, justify } from './utils/d3-sankey';\n\nconst DEFAULT_OPTIONS: Partial<SankeyOptions> = {\n  nodeAlign: 'justify',\n  nodeWidth: 0.008,\n  nodePadding: 0.03,\n  nodes: (graph) => graph.nodes,\n  links: (graph) => graph.links,\n  nodeSort: undefined,\n  linkSort: undefined,\n  iterations: 6,\n};\n\nconst ALIGN_METHOD = {\n  left,\n  right,\n  center,\n  justify,\n};\n\nfunction getNodeAlignFunction(nodeAlign: SankeyOptions['nodeAlign']) {\n  const type = typeof nodeAlign;\n  if (type === 'string') return ALIGN_METHOD[nodeAlign as string] || justify;\n  if (type === 'function') return nodeAlign;\n  return justify;\n}\n\nexport type SankeyOptions = Omit<Record<string, any>, 'type'>;\n\n/**\n * Compute the node and edge position, return a graph representing the Sankey layout. All will be normalized to [[0, 0], [1, 1]]\n * Required graph data (nodes, edges)\n */\nexport const Sankey: DC<SankeyOptions> = (options) => {\n  return (data) => {\n    const {\n      nodeId,\n      nodeSort,\n      nodeAlign,\n      nodeWidth,\n      nodePadding,\n      nodeDepth,\n      nodes: nodeNodes,\n      links: nodeLinks,\n      linkSort,\n      iterations,\n    } = Object.assign({}, DEFAULT_OPTIONS, options);\n\n    const sankeyProcessor = sankey()\n      .nodeSort(nodeSort)\n      .linkSort(linkSort)\n      .links(nodeLinks)\n      .nodes(nodeNodes)\n      .nodeWidth(nodeWidth)\n      .nodePadding(nodePadding)\n      .nodeDepth(nodeDepth)\n      .nodeAlign(getNodeAlignFunction(nodeAlign))\n      .iterations(iterations)\n      .extent([\n        [0, 0],\n        [1, 1],\n      ]);\n\n    if (typeof nodeId === 'function') {\n      sankeyProcessor.nodeId(nodeId);\n    }\n\n    const layoutData = sankeyProcessor(data);\n\n    const { nodes: N, links: L } = layoutData;\n    const nodes = N.map((node) => {\n      const { x0, x1, y0, y1 } = node;\n      /* points\n       * 3---2\n       * |   |\n       * 0---1\n       */\n      return { ...node, x: [x0, x1, x1, x0], y: [y0, y0, y1, y1] };\n    });\n    const links = L.map((edge) => {\n      const { source, target } = edge;\n      const sx = source.x1;\n      const tx = target.x0;\n      const offset = edge.width / 2;\n      return {\n        ...edge,\n        x: [sx, sx, tx, tx],\n        y: [\n          edge.y0 + offset,\n          edge.y0 - offset,\n          edge.y1 + offset,\n          edge.y1 - offset,\n        ],\n      };\n    });\n    return { nodes, links };\n  };\n};\n\nSankey.props = {};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 851, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 857, "column": 0}, "map": {"version":3,"file":"blas1.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/utils/venn/fmin/blas1.ts"],"sourcesContent":["// need some basic operations on vectors, rather than adding a dependency,\n// just define here\nexport function zeros(x) {\n  const r = new Array(x);\n  for (let i = 0; i < x; ++i) {\n    r[i] = 0;\n  }\n  return r;\n}\nexport function zerosM(x, y) {\n  return zeros(x).map(() => zeros(y));\n}\n\nexport function dot(a, b) {\n  let ret = 0;\n  for (let i = 0; i < a.length; ++i) {\n    ret += a[i] * b[i];\n  }\n  return ret;\n}\n\nexport function norm2(a) {\n  return Math.sqrt(dot(a, a));\n}\n\nexport function scale(ret, value, c?: any) {\n  for (let i = 0; i < value.length; ++i) {\n    ret[i] = value[i] * c;\n  }\n}\n\nexport function weightedSum(ret, w1, v1, w2, v2) {\n  for (let j = 0; j < ret.length; ++j) {\n    ret[j] = w1 * v1[j] + w2 * v2[j];\n  }\n}\n\nexport function gemv(output, A, x) {\n  for (let i = 0; i < output.length; ++i) {\n    output[i] = dot(A[i], x);\n  }\n}\n"],"names":[],"mappings":"AAAA,0EAA0E;AAC1E,mBAAmB;;;;;;;;;;AACb,SAAU,KAAK,CAAC,CAAC;IACrB,MAAM,CAAC,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC;IACvB,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,CAAE;QAC1B,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;KACV;IACD,OAAO,CAAC,CAAC;AACX,CAAC;AACK,SAAU,MAAM,CAAC,CAAC,EAAE,CAAC;IACzB,OAAO,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAG,CAAD,IAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AACtC,CAAC;AAEK,SAAU,GAAG,CAAC,CAAC,EAAE,CAAC;IACtB,IAAI,GAAG,GAAG,CAAC,CAAC;IACZ,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,CAAE;QACjC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;KACpB;IACD,OAAO,GAAG,CAAC;AACb,CAAC;AAEK,SAAU,KAAK,CAAC,CAAC;IACrB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAC9B,CAAC;AAEK,SAAU,KAAK,CAAC,GAAG,EAAE,KAAK,EAAE,CAAO;IACvC,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,EAAE,CAAC,CAAE;QACrC,GAAG,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;KACvB;AACH,CAAC;AAEK,SAAU,WAAW,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IAC7C,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,EAAE,CAAC,CAAE;QACnC,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;KAClC;AACH,CAAC;AAEK,SAAU,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC;IAC/B,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,EAAE,CAAC,CAAE;QACtC,MAAM,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;KAC1B;AACH,CAAC","ignoreList":[0]}},
    {"offset": {"line": 903, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 909, "column": 0}, "map": {"version":3,"file":"nelderMead.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/utils/venn/fmin/nelderMead.ts"],"sourcesContent":["import { dot, norm2, weightedSum } from './blas1';\n\n/** minimizes a function using the downhill simplex method */\nexport function nelderMead(f, x0, parameters?: any) {\n  parameters = parameters || {};\n\n  const maxIterations = parameters.maxIterations || x0.length * 200;\n  const nonZeroDelta = parameters.nonZeroDelta || 1.05;\n  const zeroDelta = parameters.zeroDelta || 0.001;\n  const minErrorDelta = parameters.minErrorDelta || 1e-6;\n  const minTolerance = parameters.minErrorDelta || 1e-5;\n  const rho = parameters.rho !== undefined ? parameters.rho : 1;\n  const chi = parameters.chi !== undefined ? parameters.chi : 2;\n  const psi = parameters.psi !== undefined ? parameters.psi : -0.5;\n  const sigma = parameters.sigma !== undefined ? parameters.sigma : 0.5;\n  let maxDiff;\n\n  // initialize simplex.\n  const N = x0.length;\n  const simplex = new Array(N + 1);\n  simplex[0] = x0;\n  simplex[0].fx = f(x0);\n  simplex[0].id = 0;\n  for (let i = 0; i < N; ++i) {\n    const point = x0.slice();\n    point[i] = point[i] ? point[i] * nonZeroDelta : zeroDelta;\n    simplex[i + 1] = point;\n    simplex[i + 1].fx = f(point);\n    simplex[i + 1].id = i + 1;\n  }\n\n  function updateSimplex(value) {\n    for (let i = 0; i < value.length; i++) {\n      simplex[N][i] = value[i];\n    }\n    simplex[N].fx = value.fx;\n  }\n\n  const sortOrder = (a, b) => a.fx - b.fx;\n\n  const centroid = x0.slice();\n  const reflected = x0.slice();\n  const contracted = x0.slice();\n  const expanded = x0.slice();\n\n  for (let iteration = 0; iteration < maxIterations; ++iteration) {\n    simplex.sort(sortOrder);\n\n    if (parameters.history) {\n      // copy the simplex (since later iterations will mutate) and\n      // sort it to have a consistent order between iterations\n      const sortedSimplex = simplex.map((x) => {\n        const state = x.slice();\n        state.fx = x.fx;\n        state.id = x.id;\n        return state;\n      });\n      sortedSimplex.sort((a, b) => a.id - b.id);\n\n      parameters.history.push({\n        x: simplex[0].slice(),\n        fx: simplex[0].fx,\n        simplex: sortedSimplex,\n      });\n    }\n\n    maxDiff = 0;\n    for (let i = 0; i < N; ++i) {\n      maxDiff = Math.max(maxDiff, Math.abs(simplex[0][i] - simplex[1][i]));\n    }\n\n    if (\n      Math.abs(simplex[0].fx - simplex[N].fx) < minErrorDelta &&\n      maxDiff < minTolerance\n    ) {\n      break;\n    }\n\n    // compute the centroid of all but the worst point in the simplex\n    for (let i = 0; i < N; ++i) {\n      centroid[i] = 0;\n      for (let j = 0; j < N; ++j) {\n        centroid[i] += simplex[j][i];\n      }\n      centroid[i] /= N;\n    }\n\n    // reflect the worst point past the centroid  and compute loss at reflected\n    // point\n    const worst = simplex[N];\n    weightedSum(reflected, 1 + rho, centroid, -rho, worst);\n    reflected.fx = f(reflected);\n\n    // if the reflected point is the best seen, then possibly expand\n    if (reflected.fx < simplex[0].fx) {\n      weightedSum(expanded, 1 + chi, centroid, -chi, worst);\n      expanded.fx = f(expanded);\n      if (expanded.fx < reflected.fx) {\n        updateSimplex(expanded);\n      } else {\n        updateSimplex(reflected);\n      }\n    }\n\n    // if the reflected point is worse than the second worst, we need to\n    // contract\n    else if (reflected.fx >= simplex[N - 1].fx) {\n      let shouldReduce = false;\n\n      if (reflected.fx > worst.fx) {\n        // do an inside contraction\n        weightedSum(contracted, 1 + psi, centroid, -psi, worst);\n        contracted.fx = f(contracted);\n        if (contracted.fx < worst.fx) {\n          updateSimplex(contracted);\n        } else {\n          shouldReduce = true;\n        }\n      } else {\n        // do an outside contraction\n        weightedSum(contracted, 1 - psi * rho, centroid, psi * rho, worst);\n        contracted.fx = f(contracted);\n        if (contracted.fx < reflected.fx) {\n          updateSimplex(contracted);\n        } else {\n          shouldReduce = true;\n        }\n      }\n\n      if (shouldReduce) {\n        // if we don't contract here, we're done\n        if (sigma >= 1) break;\n\n        // do a reduction\n        for (let i = 1; i < simplex.length; ++i) {\n          weightedSum(simplex[i], 1 - sigma, simplex[0], sigma, simplex[i]);\n          simplex[i].fx = f(simplex[i]);\n        }\n      }\n    } else {\n      updateSimplex(reflected);\n    }\n  }\n\n  simplex.sort(sortOrder);\n  return { fx: simplex[0].fx, x: simplex[0] };\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1037, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1043, "column": 0}, "map": {"version":3,"file":"bisect.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/utils/venn/fmin/bisect.ts"],"sourcesContent":["/** finds the zeros of a function, given two starting points (which must\n * have opposite signs */\nexport function bisect(f, a, b, parameters?: any) {\n  parameters = parameters || {};\n  const maxIterations = parameters.maxIterations || 100;\n  const tolerance = parameters.tolerance || 1e-10;\n  const fA = f(a);\n  const fB = f(b);\n  let delta = b - a;\n\n  if (fA * fB > 0) {\n    throw 'Initial bisect points must have opposite signs';\n  }\n\n  if (fA === 0) return a;\n  if (fB === 0) return b;\n\n  for (let i = 0; i < maxIterations; ++i) {\n    delta /= 2;\n    const mid = a + delta;\n    const fMid = f(mid);\n\n    if (fMid * fA >= 0) {\n      a = mid;\n    }\n\n    if (Math.abs(delta) < tolerance || fMid === 0) {\n      return mid;\n    }\n  }\n  return a + delta;\n}\n"],"names":[],"mappings":"AAAA;yBACyB;;;AACnB,SAAU,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAgB;IAC9C,UAAU,GAAG,UAAU,IAAI,CAAA,CAAE,CAAC;IAC9B,MAAM,aAAa,GAAG,UAAU,CAAC,aAAa,IAAI,GAAG,CAAC;IACtD,MAAM,SAAS,GAAG,UAAU,CAAC,SAAS,IAAI,KAAK,CAAC;IAChD,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IAChB,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IAChB,IAAI,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC;IAElB,IAAI,EAAE,GAAG,EAAE,GAAG,CAAC,EAAE;QACf,MAAM,gDAAgD,CAAC;KACxD;IAED,IAAI,EAAE,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC;IACvB,IAAI,EAAE,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC;IAEvB,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,aAAa,EAAE,EAAE,CAAC,CAAE;QACtC,KAAK,IAAI,CAAC,CAAC;QACX,MAAM,GAAG,GAAG,CAAC,GAAG,KAAK,CAAC;QACtB,MAAM,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;QAEpB,IAAI,IAAI,GAAG,EAAE,IAAI,CAAC,EAAE;YAClB,CAAC,GAAG,GAAG,CAAC;SACT;QAED,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,SAAS,IAAI,IAAI,KAAK,CAAC,EAAE;YAC7C,OAAO,GAAG,CAAC;SACZ;KACF;IACD,OAAO,CAAC,GAAG,KAAK,CAAC;AACnB,CAAC","ignoreList":[0]}},
    {"offset": {"line": 1072, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1078, "column": 0}, "map": {"version":3,"file":"circleintersection.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/utils/venn/circleintersection.ts"],"sourcesContent":["const SMALL = 1e-10;\n\n/**\n * Returns the intersection area of a bunch of circles (where each circle\n * is an object having an x,y and radius property)\n */\nexport function intersectionArea(circles, stats?: any) {\n  // Get all the intersection points of the circles\n  const intersectionPoints = getIntersectionPoints(circles);\n\n  // Filter out points that aren't included in all the circles\n  const innerPoints = intersectionPoints.filter(function (p) {\n    return containedInCircles(p, circles);\n  });\n\n  let arcArea = 0,\n    polygonArea = 0,\n    i;\n  const arcs = [];\n  // If we have intersection points that are within all the circles,\n  // then figure out the area contained by them\n  if (innerPoints.length > 1) {\n    // Sort the points by angle from the center of the polygon, which lets\n    // us just iterate over points to get the edges\n    const center = getCenter(innerPoints);\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p = innerPoints[i];\n      p.angle = Math.atan2(p.x - center.x, p.y - center.y);\n    }\n    innerPoints.sort(function (a, b) {\n      return b.angle - a.angle;\n    });\n\n    // Iterate over all points, get arc between the points\n    // and update the areas\n    let p2 = innerPoints[innerPoints.length - 1];\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p1 = innerPoints[i];\n\n      // Polygon area updates easily ...\n      polygonArea += (p2.x + p1.x) * (p1.y - p2.y);\n\n      // Updating the arc area is a little more involved\n      const midPoint = { x: (p1.x + p2.x) / 2, y: (p1.y + p2.y) / 2 };\n      let arc = null;\n\n      for (let j = 0; j < p1.parentIndex.length; ++j) {\n        if (p2.parentIndex.indexOf(p1.parentIndex[j]) > -1) {\n          // Figure out the angle halfway between the two points\n          // on the current circle\n          const circle = circles[p1.parentIndex[j]],\n            a1 = Math.atan2(p1.x - circle.x, p1.y - circle.y),\n            a2 = Math.atan2(p2.x - circle.x, p2.y - circle.y);\n\n          let angleDiff = a2 - a1;\n          if (angleDiff < 0) {\n            angleDiff += 2 * Math.PI;\n          }\n\n          // and use that angle to figure out the width of the\n          // arc\n          const a = a2 - angleDiff / 2;\n          let width = distance(midPoint, {\n            x: circle.x + circle.radius * Math.sin(a),\n            y: circle.y + circle.radius * Math.cos(a),\n          });\n\n          // Clamp the width to the largest is can actually be\n          // (sometimes slightly overflows because of FP errors)\n          if (width > circle.radius * 2) {\n            width = circle.radius * 2;\n          }\n\n          // Pick the circle whose arc has the smallest width\n          if (arc === null || arc.width > width) {\n            arc = { circle: circle, width: width, p1: p1, p2: p2 };\n          }\n        }\n      }\n\n      if (arc !== null) {\n        arcs.push(arc);\n        arcArea += circleArea(arc.circle.radius, arc.width);\n        p2 = p1;\n      }\n    }\n  } else {\n    // No intersection points, is either disjoint - or is completely\n    // overlapped. figure out which by examining the smallest circle\n    let smallest = circles[0];\n    for (i = 1; i < circles.length; ++i) {\n      if (circles[i].radius < smallest.radius) {\n        smallest = circles[i];\n      }\n    }\n\n    // Make sure the smallest circle is completely contained in all\n    // the other circles\n    let disjoint = false;\n    for (i = 0; i < circles.length; ++i) {\n      if (\n        distance(circles[i], smallest) >\n        Math.abs(smallest.radius - circles[i].radius)\n      ) {\n        disjoint = true;\n        break;\n      }\n    }\n\n    if (disjoint) {\n      arcArea = polygonArea = 0;\n    } else {\n      arcArea = smallest.radius * smallest.radius * Math.PI;\n      arcs.push({\n        circle: smallest,\n        p1: { x: smallest.x, y: smallest.y + smallest.radius },\n        p2: { x: smallest.x - SMALL, y: smallest.y + smallest.radius },\n        width: smallest.radius * 2,\n      });\n    }\n  }\n\n  polygonArea /= 2;\n  if (stats) {\n    stats.area = arcArea + polygonArea;\n    stats.arcArea = arcArea;\n    stats.polygonArea = polygonArea;\n    stats.arcs = arcs;\n    stats.innerPoints = innerPoints;\n    stats.intersectionPoints = intersectionPoints;\n  }\n\n  return arcArea + polygonArea;\n}\n\n/**\n * Returns whether a point is contained by all of a list of circles\n */\nexport function containedInCircles(point, circles) {\n  for (let i = 0; i < circles.length; ++i) {\n    if (distance(point, circles[i]) > circles[i].radius + SMALL) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/** Gets all intersection points between a bunch of circles */\nfunction getIntersectionPoints(circles) {\n  const ret = [];\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const intersect = circleCircleIntersection(circles[i], circles[j]);\n      for (let k = 0; k < intersect.length; ++k) {\n        const p: any = intersect[k];\n        p.parentIndex = [i, j];\n        ret.push(p);\n      }\n    }\n  }\n  return ret;\n}\n\n/** Circular segment area calculation. See http://mathworld.wolfram.com/CircularSegment.html */\nexport function circleArea(r, width) {\n  return (\n    r * r * Math.acos(1 - width / r) -\n    (r - width) * Math.sqrt(width * (2 * r - width))\n  );\n}\n\n/** Euclidean distance between two points */\nexport function distance(p1, p2) {\n  return Math.sqrt(\n    (p1.x - p2.x) * (p1.x - p2.x) + (p1.y - p2.y) * (p1.y - p2.y),\n  );\n}\n\n/** Returns the overlap area of two circles of radius r1 and r2 - that\nhave their centers separated by distance d. Simpler faster\ncircle intersection for only two circles */\nexport function circleOverlap(r1, r2, d) {\n  // no overlap\n  if (d >= r1 + r2) {\n    return 0;\n  }\n\n  // Completely overlapped\n  if (d <= Math.abs(r1 - r2)) {\n    return Math.PI * Math.min(r1, r2) * Math.min(r1, r2);\n  }\n\n  const w1 = r1 - (d * d - r2 * r2 + r1 * r1) / (2 * d),\n    w2 = r2 - (d * d - r1 * r1 + r2 * r2) / (2 * d);\n  return circleArea(r1, w1) + circleArea(r2, w2);\n}\n\n/** Given two circles (containing a x/y/radius attributes),\nreturns the intersecting points if possible.\nnote: doesn't handle cases where there are infinitely many\nintersection points (circles are equivalent):, or only one intersection point*/\nexport function circleCircleIntersection(p1, p2) {\n  const d = distance(p1, p2),\n    r1 = p1.radius,\n    r2 = p2.radius;\n\n  // If to far away, or self contained - can't be done\n  if (d >= r1 + r2 || d <= Math.abs(r1 - r2)) {\n    return [];\n  }\n\n  const a = (r1 * r1 - r2 * r2 + d * d) / (2 * d),\n    h = Math.sqrt(r1 * r1 - a * a),\n    x0 = p1.x + (a * (p2.x - p1.x)) / d,\n    y0 = p1.y + (a * (p2.y - p1.y)) / d,\n    rx = -(p2.y - p1.y) * (h / d),\n    ry = -(p2.x - p1.x) * (h / d);\n\n  return [\n    { x: x0 + rx, y: y0 - ry },\n    { x: x0 - rx, y: y0 + ry },\n  ];\n}\n\n/** Returns the center of a bunch of points */\nexport function getCenter(points) {\n  const center = { x: 0, y: 0 };\n  for (let i = 0; i < points.length; ++i) {\n    center.x += points[i].x;\n    center.y += points[i].y;\n  }\n  center.x /= points.length;\n  center.y /= points.length;\n  return center;\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1282, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1288, "column": 0}, "map": {"version":3,"file":"linesearch.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/utils/venn/fmin/linesearch.ts"],"sourcesContent":["import { dot, weightedSum } from './blas1';\n\n/// searches along line 'pk' for a point that satifies the wolfe conditions\n/// See 'Numerical Optimization' by Nocedal and Wright p59-60\n/// f : objective function\n/// pk : search direction\n/// current: object containing current gradient/loss\n/// next: output: contains next gradient/loss\n/// returns a: step size taken\nexport function wolfeLineSearch(f, pk, current, next, a, c1?: any, c2?: any) {\n  const phi0 = current.fx;\n  const phiPrime0 = dot(current.fxprime, pk);\n  let phi = phi0;\n  let phi_old = phi0;\n  let phiPrime = phiPrime0;\n  let a0 = 0;\n\n  a = a || 1;\n  c1 = c1 || 1e-6;\n  c2 = c2 || 0.1;\n\n  function zoom(a_lo, a_high, phi_lo) {\n    for (let iteration = 0; iteration < 16; ++iteration) {\n      a = (a_lo + a_high) / 2;\n      weightedSum(next.x, 1.0, current.x, a, pk);\n      phi = next.fx = f(next.x, next.fxprime);\n      phiPrime = dot(next.fxprime, pk);\n\n      if (phi > phi0 + c1 * a * phiPrime0 || phi >= phi_lo) {\n        a_high = a;\n      } else {\n        if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n          return a;\n        }\n\n        if (phiPrime * (a_high - a_lo) >= 0) {\n          a_high = a_lo;\n        }\n\n        a_lo = a;\n        phi_lo = phi;\n      }\n    }\n\n    return 0;\n  }\n\n  for (let iteration = 0; iteration < 10; ++iteration) {\n    weightedSum(next.x, 1.0, current.x, a, pk);\n    phi = next.fx = f(next.x, next.fxprime);\n    phiPrime = dot(next.fxprime, pk);\n    if (phi > phi0 + c1 * a * phiPrime0 || (iteration && phi >= phi_old)) {\n      return zoom(a0, a, phi_old);\n    }\n\n    if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n      return a;\n    }\n\n    if (phiPrime >= 0) {\n      return zoom(a, a0, phi);\n    }\n\n    phi_old = phi;\n    a0 = a;\n    a *= 2;\n  }\n\n  return a;\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1343, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1349, "column": 0}, "map": {"version":3,"file":"conjugateGradient.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/utils/venn/fmin/conjugateGradient.ts"],"sourcesContent":["import { dot, gemv, norm2, scale, weightedSum } from './blas1';\nimport { wolfeLineSearch } from './linesearch';\n\nexport function conjugateGradient(f, initial, params) {\n  // allocate all memory up front here, keep out of the loop for perfomance\n  // reasons\n  let current = { x: initial.slice(), fx: 0, fxprime: initial.slice() };\n  let next = { x: initial.slice(), fx: 0, fxprime: initial.slice() };\n  const yk = initial.slice();\n  let temp;\n  let a = 1;\n\n  params = params || {};\n  const maxIterations = params.maxIterations || initial.length * 20;\n\n  current.fx = f(current.x, current.fxprime);\n  const pk = current.fxprime.slice();\n  scale(pk, current.fxprime, -1);\n\n  for (let i = 0; i < maxIterations; ++i) {\n    a = wolfeLineSearch(f, pk, current, next, a);\n\n    // todo: history in wrong spot?\n    if (params.history) {\n      params.history.push({\n        x: current.x.slice(),\n        fx: current.fx,\n        fxprime: current.fxprime.slice(),\n        alpha: a,\n      });\n    }\n\n    if (!a) {\n      // faiiled to find point that satifies wolfe conditions.\n      // reset direction for next iteration\n      scale(pk, current.fxprime, -1);\n    } else {\n      // update direction using Polak–Ribiere CG method\n      weightedSum(yk, 1, next.fxprime, -1, current.fxprime);\n\n      const delta_k = dot(current.fxprime, current.fxprime);\n      const beta_k = Math.max(0, dot(yk, next.fxprime) / delta_k);\n\n      weightedSum(pk, beta_k, pk, -1, next.fxprime);\n\n      temp = current;\n      current = next;\n      next = temp;\n    }\n\n    if (norm2(current.fxprime) <= 1e-5) {\n      break;\n    }\n  }\n\n  if (params.history) {\n    params.history.push({\n      x: current.x.slice(),\n      fx: current.fx,\n      fxprime: current.fxprime.slice(),\n      alpha: a,\n    });\n  }\n\n  return current;\n}\n\n/// Solves a system of lienar equations Ax =b for x\n/// using the conjugate gradient method.\nexport function conjugateGradientSolve(A, b, x, history?: any) {\n  const r = x.slice();\n  const Ap = x.slice();\n  let rsold;\n  let rsnew;\n  let alpha;\n\n  // r = b - A*x\n  gemv(Ap, A, x);\n  weightedSum(r, 1, b, -1, Ap);\n  const p = r.slice();\n  rsold = dot(r, r);\n\n  for (let i = 0; i < b.length; ++i) {\n    gemv(Ap, A, p);\n    alpha = rsold / dot(p, Ap);\n    if (history) {\n      history.push({ x: x.slice(), p: p.slice(), alpha: alpha });\n    }\n\n    //x=x+alpha*p;\n    weightedSum(x, 1, x, alpha, p);\n\n    // r=r-alpha*Ap;\n    weightedSum(r, 1, r, -alpha, Ap);\n    rsnew = dot(r, r);\n    if (Math.sqrt(rsnew) <= 1e-10) break;\n\n    // p=r+(rsnew/rsold)*p;\n    weightedSum(p, 1, r, rsnew / rsold, p);\n    rsold = rsnew;\n  }\n  if (history) {\n    history.push({ x: x.slice(), p: p.slice(), alpha: alpha });\n  }\n  return x;\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1457, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1463, "column": 0}, "map": {"version":3,"file":"layout.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/utils/venn/layout.ts"],"sourcesContent":["import {\n  bisect,\n  conjugateGradient,\n  nelderMead,\n  norm2,\n  scale,\n  zeros,\n  zerosM,\n} from './fmin';\nimport {\n  circleCircleIntersection,\n  circleOverlap,\n  distance,\n  intersectionArea,\n} from './circleintersection';\n\n/** given a list of set objects, and their corresponding overlaps.\nupdates the (x, y, radius) attribute on each set such that their positions\nroughly correspond to the desired overlaps */\nexport function venn(areas, parameters?: any) {\n  parameters = parameters || {};\n  parameters.maxIterations = parameters.maxIterations || 500;\n  const initialLayout = parameters.initialLayout || bestInitialLayout;\n  const loss = parameters.lossFunction || lossFunction;\n\n  // add in missing pairwise areas as having 0 size\n  areas = addMissingAreas(areas);\n\n  // initial layout is done greedily\n  const circles = initialLayout(areas, parameters);\n\n  // transform x/y coordinates to a vector to optimize\n  const initial = [],\n    setids = [];\n  let setid;\n  for (setid in circles) {\n    // eslint-disable-next-line\n    if (circles.hasOwnProperty(setid)) {\n      initial.push(circles[setid].x);\n      initial.push(circles[setid].y);\n      setids.push(setid);\n    }\n  }\n\n  // optimize initial layout from our loss function\n  const solution = nelderMead(\n    function (values) {\n      const current = {};\n      for (let i = 0; i < setids.length; ++i) {\n        const setid = setids[i];\n        current[setid] = {\n          x: values[2 * i],\n          y: values[2 * i + 1],\n          radius: circles[setid].radius,\n        };\n      }\n      return loss(current, areas);\n    },\n    initial,\n    parameters,\n  );\n\n  // transform solution vector back to x/y points\n  const positions = solution.x;\n  for (let i = 0; i < setids.length; ++i) {\n    setid = setids[i];\n    circles[setid].x = positions[2 * i];\n    circles[setid].y = positions[2 * i + 1];\n  }\n\n  return circles;\n}\n\nconst SMALL = 1e-10;\n\n/** Returns the distance necessary for two circles of radius r1 + r2 to\nhave the overlap area 'overlap' */\nexport function distanceFromIntersectArea(r1, r2, overlap) {\n  // handle complete overlapped circles\n  if (Math.min(r1, r2) * Math.min(r1, r2) * Math.PI <= overlap + SMALL) {\n    return Math.abs(r1 - r2);\n  }\n\n  return bisect(\n    function (distance) {\n      return circleOverlap(r1, r2, distance) - overlap;\n    },\n    0,\n    r1 + r2,\n  );\n}\n\n/** Missing pair-wise intersection area data can cause problems:\n treating as an unknown means that sets will be laid out overlapping,\n which isn't what people expect. To reflect that we want disjoint sets\n here, set the overlap to 0 for all missing pairwise set intersections */\nfunction addMissingAreas(areas) {\n  areas = areas.slice();\n\n  // two circle intersections that aren't defined\n  const ids: number[] = [],\n    pairs: any = {};\n  let i, j, a, b;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      ids.push(area.sets[0]);\n    } else if (area.sets.length == 2) {\n      a = area.sets[0];\n      b = area.sets[1];\n      // @ts-ignore\n      pairs[[a, b]] = true;\n      // @ts-ignore\n      pairs[[b, a]] = true;\n    }\n  }\n  ids.sort((a, b) => {\n    return a > b ? 1 : -1;\n  });\n\n  for (i = 0; i < ids.length; ++i) {\n    a = ids[i];\n    for (j = i + 1; j < ids.length; ++j) {\n      b = ids[j];\n      // @ts-ignore\n      if (!([a, b] in pairs)) {\n        areas.push({ sets: [a, b], size: 0 });\n      }\n    }\n  }\n  return areas;\n}\n\n/// Returns two matrices, one of the euclidean distances between the sets\n/// and the other indicating if there are subset or disjoint set relationships\nexport function getDistanceMatrices(areas, sets, setids) {\n  // initialize an empty distance matrix between all the points\n  const distances = zerosM(sets.length, sets.length),\n    constraints = zerosM(sets.length, sets.length);\n\n  // compute required distances between all the sets such that\n  // the areas match\n  areas\n    .filter(function (x) {\n      return x.sets.length == 2;\n    })\n    .map(function (current) {\n      const left = setids[current.sets[0]],\n        right = setids[current.sets[1]],\n        r1 = Math.sqrt(sets[left].size / Math.PI),\n        r2 = Math.sqrt(sets[right].size / Math.PI),\n        distance = distanceFromIntersectArea(r1, r2, current.size);\n\n      distances[left][right] = distances[right][left] = distance;\n\n      // also update constraints to indicate if its a subset or disjoint\n      // relationship\n      let c = 0;\n      if (current.size + 1e-10 >= Math.min(sets[left].size, sets[right].size)) {\n        c = 1;\n      } else if (current.size <= 1e-10) {\n        c = -1;\n      }\n      constraints[left][right] = constraints[right][left] = c;\n    });\n\n  return { distances: distances, constraints: constraints };\n}\n\n/// computes the gradient and loss simulatenously for our constrained MDS optimizer\nfunction constrainedMDSGradient(x, fxprime, distances, constraints) {\n  let loss = 0,\n    i;\n  for (i = 0; i < fxprime.length; ++i) {\n    fxprime[i] = 0;\n  }\n\n  for (i = 0; i < distances.length; ++i) {\n    const xi = x[2 * i],\n      yi = x[2 * i + 1];\n    for (let j = i + 1; j < distances.length; ++j) {\n      const xj = x[2 * j],\n        yj = x[2 * j + 1],\n        dij = distances[i][j],\n        constraint = constraints[i][j];\n\n      const squaredDistance = (xj - xi) * (xj - xi) + (yj - yi) * (yj - yi),\n        distance = Math.sqrt(squaredDistance),\n        delta = squaredDistance - dij * dij;\n\n      if (\n        (constraint > 0 && distance <= dij) ||\n        (constraint < 0 && distance >= dij)\n      ) {\n        continue;\n      }\n\n      loss += 2 * delta * delta;\n\n      fxprime[2 * i] += 4 * delta * (xi - xj);\n      fxprime[2 * i + 1] += 4 * delta * (yi - yj);\n\n      fxprime[2 * j] += 4 * delta * (xj - xi);\n      fxprime[2 * j + 1] += 4 * delta * (yj - yi);\n    }\n  }\n  return loss;\n}\n\n/// takes the best working variant of either constrained MDS or greedy\nexport function bestInitialLayout(areas, params) {\n  let initial = greedyLayout(areas, params);\n  const loss = params.lossFunction || lossFunction;\n\n  // greedylayout is sufficient for all 2/3 circle cases. try out\n  // constrained MDS for higher order problems, take its output\n  // if it outperforms. (greedy is aesthetically better on 2/3 circles\n  // since it axis aligns)\n  if (areas.length >= 8) {\n    const constrained = constrainedMDSLayout(areas, params),\n      constrainedLoss = loss(constrained, areas),\n      greedyLoss = loss(initial, areas);\n\n    if (constrainedLoss + 1e-8 < greedyLoss) {\n      initial = constrained;\n    }\n  }\n  return initial;\n}\n\n/// use the constrained MDS variant to generate an initial layout\nexport function constrainedMDSLayout(areas, params) {\n  params = params || {};\n  const restarts = params.restarts || 10;\n\n  // bidirectionally map sets to a rowid  (so we can create a matrix)\n  const sets = [],\n    setids = {};\n  let i;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      setids[area.sets[0]] = sets.length;\n      sets.push(area);\n    }\n  }\n\n  const matrices = getDistanceMatrices(areas, sets, setids);\n  let distances = matrices.distances;\n  const constraints = matrices.constraints;\n\n  // keep distances bounded, things get messed up otherwise.\n  // TODO: proper preconditioner?\n  const norm = norm2(distances.map(norm2)) / distances.length;\n  distances = distances.map(function (row) {\n    return row.map(function (value) {\n      return value / norm;\n    });\n  });\n\n  const obj = function (x, fxprime) {\n    return constrainedMDSGradient(x, fxprime, distances, constraints);\n  };\n\n  let best, current;\n  for (i = 0; i < restarts; ++i) {\n    const initial = zeros(distances.length * 2).map(Math.random);\n\n    current = conjugateGradient(obj, initial, params);\n    if (!best || current.fx < best.fx) {\n      best = current;\n    }\n  }\n  const positions = best.x;\n\n  // translate rows back to (x,y,radius) coordinates\n  const circles = {};\n  for (i = 0; i < sets.length; ++i) {\n    const set = sets[i];\n    circles[set.sets[0]] = {\n      x: positions[2 * i] * norm,\n      y: positions[2 * i + 1] * norm,\n      radius: Math.sqrt(set.size / Math.PI),\n    };\n  }\n\n  if (params.history) {\n    for (i = 0; i < params.history.length; ++i) {\n      scale(params.history[i].x, norm);\n    }\n  }\n  return circles;\n}\n\n/** Lays out a Venn diagram greedily, going from most overlapped sets to\nleast overlapped, attempting to position each new set such that the\noverlapping areas to already positioned sets are basically right */\nexport function greedyLayout(areas, params) {\n  const loss =\n    params && params.lossFunction ? params.lossFunction : lossFunction;\n  // define a circle for each set\n  const circles = {},\n    setOverlaps = {};\n  let set;\n  for (let i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      set = area.sets[0];\n      circles[set] = {\n        x: 1e10,\n        y: 1e10,\n        // rowid: circles.length, // fix to ->\n        rowid: Object.keys(circles).length,\n        size: area.size,\n        radius: Math.sqrt(area.size / Math.PI),\n      };\n      setOverlaps[set] = [];\n    }\n  }\n  areas = areas.filter(function (a) {\n    return a.sets.length == 2;\n  });\n\n  // map each set to a list of all the other sets that overlap it\n  for (let i = 0; i < areas.length; ++i) {\n    const current = areas[i];\n    // eslint-disable-next-line\n    let weight = current.hasOwnProperty('weight') ? current.weight : 1.0;\n    const left = current.sets[0],\n      right = current.sets[1];\n\n    // completely overlapped circles shouldn't be positioned early here\n    if (\n      current.size + SMALL >=\n      Math.min(circles[left].size, circles[right].size)\n    ) {\n      weight = 0;\n    }\n\n    setOverlaps[left].push({ set: right, size: current.size, weight: weight });\n    setOverlaps[right].push({ set: left, size: current.size, weight: weight });\n  }\n\n  // get list of most overlapped sets\n  const mostOverlapped = [];\n  for (set in setOverlaps) {\n    // eslint-disable-next-line\n    if (setOverlaps.hasOwnProperty(set)) {\n      let size = 0;\n      for (let i = 0; i < setOverlaps[set].length; ++i) {\n        size += setOverlaps[set][i].size * setOverlaps[set][i].weight;\n      }\n\n      mostOverlapped.push({ set: set, size: size });\n    }\n  }\n\n  // sort by size desc\n  function sortOrder(a, b) {\n    return b.size - a.size;\n  }\n  mostOverlapped.sort(sortOrder);\n\n  // keep track of what sets have been laid out\n  const positioned = {};\n  function isPositioned(element) {\n    return element.set in positioned;\n  }\n\n  // adds a point to the output\n  function positionSet(point, index) {\n    circles[index].x = point.x;\n    circles[index].y = point.y;\n    positioned[index] = true;\n  }\n\n  // add most overlapped set at (0,0)\n  positionSet({ x: 0, y: 0 }, mostOverlapped[0].set);\n\n  // get distances between all points. TODO, necessary?\n  // answer: probably not\n  // var distances = venn.getDistanceMatrices(circles, areas).distances;\n  for (let i = 1; i < mostOverlapped.length; ++i) {\n    const setIndex = mostOverlapped[i].set,\n      overlap = setOverlaps[setIndex].filter(isPositioned);\n    set = circles[setIndex];\n    overlap.sort(sortOrder);\n\n    if (overlap.length === 0) {\n      // this shouldn't happen anymore with addMissingAreas\n      throw 'ERROR: missing pairwise overlap information';\n    }\n\n    const points = [];\n    for (let j = 0; j < overlap.length; ++j) {\n      // get appropriate distance from most overlapped already added set\n      const p1 = circles[overlap[j].set],\n        d1 = distanceFromIntersectArea(set.radius, p1.radius, overlap[j].size);\n\n      // sample positions at 90 degrees for maximum aesthetics\n      points.push({ x: p1.x + d1, y: p1.y });\n      points.push({ x: p1.x - d1, y: p1.y });\n      points.push({ y: p1.y + d1, x: p1.x });\n      points.push({ y: p1.y - d1, x: p1.x });\n\n      // if we have at least 2 overlaps, then figure out where the\n      // set should be positioned analytically and try those too\n      for (let k = j + 1; k < overlap.length; ++k) {\n        const p2 = circles[overlap[k].set],\n          d2 = distanceFromIntersectArea(\n            set.radius,\n            p2.radius,\n            overlap[k].size,\n          );\n\n        const extraPoints = circleCircleIntersection(\n          { x: p1.x, y: p1.y, radius: d1 },\n          { x: p2.x, y: p2.y, radius: d2 },\n        );\n\n        for (let l = 0; l < extraPoints.length; ++l) {\n          points.push(extraPoints[l]);\n        }\n      }\n    }\n\n    // we have some candidate positions for the set, examine loss\n    // at each position to figure out where to put it at\n    let bestLoss = 1e50,\n      bestPoint = points[0];\n    for (let j = 0; j < points.length; ++j) {\n      circles[setIndex].x = points[j].x;\n      circles[setIndex].y = points[j].y;\n      const localLoss = loss(circles, areas);\n      if (localLoss < bestLoss) {\n        bestLoss = localLoss;\n        bestPoint = points[j];\n      }\n    }\n\n    positionSet(bestPoint, setIndex);\n  }\n\n  return circles;\n}\n\n/** Given a bunch of sets, and the desired overlaps between these sets - computes\nthe distance from the actual overlaps to the desired overlaps. Note that\nthis method ignores overlaps of more than 2 circles */\nexport function lossFunction(sets, overlaps) {\n  let output = 0;\n\n  function getCircles(indices) {\n    return indices.map(function (i) {\n      return sets[i];\n    });\n  }\n\n  for (let i = 0; i < overlaps.length; ++i) {\n    const area = overlaps[i];\n    let overlap;\n    if (area.sets.length == 1) {\n      continue;\n    } else if (area.sets.length == 2) {\n      const left = sets[area.sets[0]],\n        right = sets[area.sets[1]];\n      overlap = circleOverlap(left.radius, right.radius, distance(left, right));\n    } else {\n      overlap = intersectionArea(getCircles(area.sets));\n    }\n\n    // eslint-disable-next-line\n    const weight = area.hasOwnProperty('weight') ? area.weight : 1.0;\n    output += weight * (overlap - area.size) * (overlap - area.size);\n  }\n\n  return output;\n}\n\n// orientates a bunch of circles to point in orientation\nfunction orientateCircles(circles, orientation, orientationOrder) {\n  if (orientationOrder === null) {\n    circles.sort(function (a, b) {\n      return b.radius - a.radius;\n    });\n  } else {\n    circles.sort(orientationOrder);\n  }\n\n  let i;\n  // shift circles so largest circle is at (0, 0)\n  if (circles.length > 0) {\n    const largestX = circles[0].x,\n      largestY = circles[0].y;\n\n    for (i = 0; i < circles.length; ++i) {\n      circles[i].x -= largestX;\n      circles[i].y -= largestY;\n    }\n  }\n\n  if (circles.length == 2) {\n    // if the second circle is a subset of the first, arrange so that\n    // it is off to one side. hack for https://github.com/benfred/venn.js/issues/120\n    const dist = distance(circles[0], circles[1]);\n    if (dist < Math.abs(circles[1].radius - circles[0].radius)) {\n      circles[1].x =\n        circles[0].x + circles[0].radius - circles[1].radius - 1e-10;\n      circles[1].y = circles[0].y;\n    }\n  }\n\n  // rotate circles so that second largest is at an angle of 'orientation'\n  // from largest\n  if (circles.length > 1) {\n    const rotation = Math.atan2(circles[1].x, circles[1].y) - orientation;\n    let x, y;\n    const c = Math.cos(rotation),\n      s = Math.sin(rotation);\n    for (i = 0; i < circles.length; ++i) {\n      x = circles[i].x;\n      y = circles[i].y;\n      circles[i].x = c * x - s * y;\n      circles[i].y = s * x + c * y;\n    }\n  }\n\n  // mirror solution if third solution is above plane specified by\n  // first two circles\n  if (circles.length > 2) {\n    let angle = Math.atan2(circles[2].x, circles[2].y) - orientation;\n    while (angle < 0) {\n      angle += 2 * Math.PI;\n    }\n    while (angle > 2 * Math.PI) {\n      angle -= 2 * Math.PI;\n    }\n    if (angle > Math.PI) {\n      const slope = circles[1].y / (1e-10 + circles[1].x);\n      for (i = 0; i < circles.length; ++i) {\n        const d = (circles[i].x + slope * circles[i].y) / (1 + slope * slope);\n        circles[i].x = 2 * d - circles[i].x;\n        circles[i].y = 2 * d * slope - circles[i].y;\n      }\n    }\n  }\n}\n\nexport function disjointCluster(circles) {\n  // union-find clustering to get disjoint sets\n  circles.map(function (circle) {\n    circle.parent = circle;\n  });\n\n  // path compression step in union find\n  function find(circle) {\n    if (circle.parent !== circle) {\n      circle.parent = find(circle.parent);\n    }\n    return circle.parent;\n  }\n\n  function union(x, y) {\n    const xRoot = find(x),\n      yRoot = find(y);\n    xRoot.parent = yRoot;\n  }\n\n  // get the union of all overlapping sets\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const maxDistance = circles[i].radius + circles[j].radius;\n      if (distance(circles[i], circles[j]) + 1e-10 < maxDistance) {\n        union(circles[j], circles[i]);\n      }\n    }\n  }\n\n  // find all the disjoint clusters and group them together\n  const disjointClusters = {};\n  let setid;\n  for (let i = 0; i < circles.length; ++i) {\n    setid = find(circles[i]).parent.setid;\n    if (!(setid in disjointClusters)) {\n      disjointClusters[setid] = [];\n    }\n    disjointClusters[setid].push(circles[i]);\n  }\n\n  // cleanup bookkeeping\n  circles.map(function (circle) {\n    delete circle.parent;\n  });\n\n  // return in more usable form\n  const ret = [];\n  for (setid in disjointClusters) {\n    // eslint-disable-next-line\n    if (disjointClusters.hasOwnProperty(setid)) {\n      ret.push(disjointClusters[setid]);\n    }\n  }\n  return ret;\n}\n\nfunction getBoundingBox(circles) {\n  const minMax = function (d) {\n    const hi = Math.max.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] + c.radius;\n        }),\n      ),\n      lo = Math.min.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] - c.radius;\n        }),\n      );\n    return { max: hi, min: lo };\n  };\n\n  return { xRange: minMax('x'), yRange: minMax('y') };\n}\n\nexport function normalizeSolution(solution, orientation, orientationOrder) {\n  if (orientation === null) {\n    orientation = Math.PI / 2;\n  }\n\n  // work with a list instead of a dictionary, and take a copy so we\n  // don't mutate input\n  let circles = [],\n    i,\n    setid;\n  for (setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      const previous = solution[setid];\n      circles.push({\n        x: previous.x,\n        y: previous.y,\n        radius: previous.radius,\n        setid: setid,\n      });\n    }\n  }\n\n  // get all the disjoint clusters\n  const clusters = disjointCluster(circles);\n\n  // orientate all disjoint sets, get sizes\n  for (i = 0; i < clusters.length; ++i) {\n    orientateCircles(clusters[i], orientation, orientationOrder);\n    const bounds = getBoundingBox(clusters[i]);\n    clusters[i].size =\n      (bounds.xRange.max - bounds.xRange.min) *\n      (bounds.yRange.max - bounds.yRange.min);\n    clusters[i].bounds = bounds;\n  }\n  clusters.sort(function (a, b) {\n    return b.size - a.size;\n  });\n\n  // orientate the largest at 0,0, and get the bounds\n  circles = clusters[0];\n  // @ts-ignore fixme 从逻辑上看似乎是不对的，后续看看\n  let returnBounds = circles.bounds;\n\n  const spacing = (returnBounds.xRange.max - returnBounds.xRange.min) / 50;\n\n  function addCluster(cluster, right, bottom) {\n    if (!cluster) return;\n\n    const bounds = cluster.bounds;\n    let xOffset, yOffset, centreing;\n\n    if (right) {\n      xOffset = returnBounds.xRange.max - bounds.xRange.min + spacing;\n    } else {\n      xOffset = returnBounds.xRange.max - bounds.xRange.max;\n      centreing =\n        (bounds.xRange.max - bounds.xRange.min) / 2 -\n        (returnBounds.xRange.max - returnBounds.xRange.min) / 2;\n      if (centreing < 0) xOffset += centreing;\n    }\n\n    if (bottom) {\n      yOffset = returnBounds.yRange.max - bounds.yRange.min + spacing;\n    } else {\n      yOffset = returnBounds.yRange.max - bounds.yRange.max;\n      centreing =\n        (bounds.yRange.max - bounds.yRange.min) / 2 -\n        (returnBounds.yRange.max - returnBounds.yRange.min) / 2;\n      if (centreing < 0) yOffset += centreing;\n    }\n\n    for (let j = 0; j < cluster.length; ++j) {\n      cluster[j].x += xOffset;\n      cluster[j].y += yOffset;\n      circles.push(cluster[j]);\n    }\n  }\n\n  let index = 1;\n  while (index < clusters.length) {\n    addCluster(clusters[index], true, false);\n    addCluster(clusters[index + 1], false, true);\n    addCluster(clusters[index + 2], true, true);\n    index += 3;\n\n    // have one cluster (in top left). lay out next three relative\n    // to it in a grid\n    returnBounds = getBoundingBox(circles);\n  }\n\n  // convert back to solution form\n  const ret = {};\n  for (i = 0; i < circles.length; ++i) {\n    ret[circles[i].setid] = circles[i];\n  }\n  return ret;\n}\n\n/** Scales a solution from venn.venn or venn.greedyLayout such that it fits in\na rectangle of width/height - with padding around the borders. also\ncenters the diagram in the available space at the same time */\nexport function scaleSolution(solution, width, height, padding) {\n  const circles = [],\n    setids = [];\n  for (const setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      setids.push(setid);\n      circles.push(solution[setid]);\n    }\n  }\n\n  width -= 2 * padding;\n  height -= 2 * padding;\n\n  const bounds = getBoundingBox(circles),\n    xRange = bounds.xRange,\n    yRange = bounds.yRange;\n\n  if (xRange.max == xRange.min || yRange.max == yRange.min) {\n    console.log('not scaling solution: zero size detected');\n    return solution;\n  }\n\n  const xScaling = width / (xRange.max - xRange.min),\n    yScaling = height / (yRange.max - yRange.min),\n    scaling = Math.min(yScaling, xScaling),\n    // while we're at it, center the diagram too\n    xOffset = (width - (xRange.max - xRange.min) * scaling) / 2,\n    yOffset = (height - (yRange.max - yRange.min) * scaling) / 2;\n\n  const scaled = {};\n  for (let i = 0; i < circles.length; ++i) {\n    const circle = circles[i];\n    scaled[setids[i]] = {\n      radius: scaling * circle.radius,\n      x: padding + xOffset + (circle.x - xRange.min) * scaling,\n      y: padding + yOffset + (circle.y - yRange.min) * scaling,\n    };\n  }\n\n  return scaled;\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2103, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2109, "column": 0}, "map": {"version":3,"file":"diagram.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/utils/venn/diagram.ts"],"sourcesContent":["import { intersectionArea } from './circleintersection';\n\n/**\n * 根据圆心(x, y) 半径 r 返回圆的绘制 path\n * @param x 圆心点 x\n * @param y 圆心点 y\n * @param r 圆的半径\n * @returns 圆的 path\n */\nfunction circlePath(x, y, r) {\n  const ret = [];\n  // ret.push('\\nM', x, y);\n  // ret.push('\\nm', -r, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, r * 2, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, -r * 2, 0);\n  const x0 = x - r;\n  const y0 = y;\n  ret.push('M', x0, y0);\n  ret.push('A', r, r, 0, 1, 0, x0 + 2 * r, y0);\n  ret.push('A', r, r, 0, 1, 0, x0, y0);\n\n  return ret.join(' ');\n}\n\n/** returns a svg path of the intersection area of a bunch of circles */\nexport function intersectionAreaPath(circles) {\n  const stats: any = {};\n  intersectionArea(circles, stats);\n  const arcs = stats.arcs;\n\n  if (arcs.length === 0) {\n    return 'M 0 0';\n  } else if (arcs.length == 1) {\n    const circle = arcs[0].circle;\n    return circlePath(circle.x, circle.y, circle.radius);\n  } else {\n    // draw path around arcs\n    const ret = ['\\nM', arcs[0].p2.x, arcs[0].p2.y];\n    for (let i = 0; i < arcs.length; ++i) {\n      const arc = arcs[i],\n        r = arc.circle.radius,\n        wide = arc.width > r;\n      ret.push('\\nA', r, r, 0, wide ? 1 : 0, 1, arc.p1.x, arc.p1.y);\n    }\n    return ret.join(' ');\n  }\n}\n"],"names":[],"mappings":";;;AAAA,OAAO,EAAE,gBAAgB,EAAE,MAAM,sBAAsB,CAAC;;AAExD;;;;;;GAMG,CACH,SAAS,UAAU,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;IACzB,MAAM,GAAG,GAAG,EAAE,CAAC;IACf,yBAAyB;IACzB,0BAA0B;IAC1B,4CAA4C;IAC5C,6CAA6C;IAC7C,MAAM,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;IACjB,MAAM,EAAE,GAAG,CAAC,CAAC;IACb,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;IACtB,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC;IAC7C,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;IAErC,OAAO,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACvB,CAAC;AAGK,SAAU,oBAAoB,CAAC,OAAO;IAC1C,MAAM,KAAK,GAAQ,CAAA,CAAE,CAAC;2LACtB,mBAAA,AAAgB,EAAC,OAAO,EAAE,KAAK,CAAC,CAAC;IACjC,MAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;IAExB,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;QACrB,OAAO,OAAO,CAAC;KAChB,MAAM,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,EAAE;QAC3B,MAAM,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;QAC9B,OAAO,UAAU,CAAC,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;KACtD,MAAM;QACL,wBAAwB;QACxB,MAAM,GAAG,GAAG;YAAC,KAAK;YAAE,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;YAAE,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;SAAC,CAAC;QAChD,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAAE;YACpC,MAAM,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,EACjB,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,MAAM,EACrB,IAAI,GAAG,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC;YACvB,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;SAC/D;QACD,OAAO,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KACtB;AACH,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2156, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2162, "column": 0}, "map": {"version":3,"file":"venn.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/venn.ts"],"sourcesContent":["import { DataComponent as DC } from '../runtime';\nimport { VennDataTransform } from '../spec';\nimport { intersectionAreaPath, scaleSolution, venn } from './utils/venn';\n\nexport type VennOptions = Omit<VennDataTransform, 'type'>;\n\ntype VennData = {\n  key?: string;\n  sets: string[];\n  size: number;\n};\n\n/**\n * Layout venn data, get the path string for each set.\n */\nexport const Venn: DC<VennOptions> = (options) => {\n  const {\n    sets = 'sets',\n    size = 'size',\n    as = ['key', 'path'],\n    padding = 0,\n  } = options;\n  const [key, path] = as;\n  return (data) => {\n    // Transform the data, venn layout use `sets` and `size` field.\n    const vennData: VennData[] = data.map((d) => ({\n      ...d,\n      sets: d[sets],\n      size: d[size],\n      [key]: d.sets.join('&'),\n    }));\n    // Sort data, avoid data occlusion.\n    vennData.sort((a, b) => a.sets.length - b.sets.length);\n\n    // Layout venn data.\n    const solution = venn(vennData);\n\n    let circles;\n\n    return vennData.map((datum) => {\n      const setsValue = datum[sets];\n      const pathFunc = ({ width, height }) => {\n        circles = circles\n          ? circles\n          : scaleSolution(solution, width, height, padding);\n        const setCircles = setsValue.map((set) => circles[set]);\n        let p = intersectionAreaPath(setCircles);\n        // Close the path for event picker.\n        if (!/[zZ]$/.test(p)) p += ' Z';\n        return p;\n      };\n\n      return { ...datum, [path]: pathFunc };\n    });\n  };\n};\n\nVenn.props = {};\n"],"names":[],"mappings":";;;AAEA,OAAO,EAAE,oBAAoB,EAAE,aAAa,EAAE,IAAI,EAAE,MAAM,cAAc,CAAC;;;AAalE,MAAM,IAAI,GAAoB,CAAC,OAAO,EAAE,EAAE;IAC/C,MAAM,EACJ,IAAI,GAAG,MAAM,EACb,IAAI,GAAG,MAAM,EACb,EAAE,GAAG;QAAC,KAAK;QAAE,MAAM;KAAC,EACpB,OAAO,GAAG,CAAC,EACZ,GAAG,OAAO,CAAC;IACZ,MAAM,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC;IACvB,OAAO,CAAC,IAAI,EAAE,EAAE;QACd,+DAA+D;QAC/D,MAAM,QAAQ,GAAe,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAG,CAAD,CAAC,KAAA,MAAA,CAAA,OAAA,MAAA,CAAA,CAAA,GACxC,CAAC,GAAA;gBACJ,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC;gBACb,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC;gBACb,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;YAAA,GACvB,CAAC,CAAC;QACJ,mCAAmC;QACnC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAEvD,oBAAoB;QACpB,MAAM,QAAQ,8KAAG,OAAA,AAAI,EAAC,QAAQ,CAAC,CAAC;QAEhC,IAAI,OAAO,CAAC;QAEZ,OAAO,QAAQ,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE;YAC5B,MAAM,SAAS,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC;YAC9B,MAAM,QAAQ,GAAG,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,EAAE,EAAE;gBACrC,OAAO,GAAG,OAAO,GACb,OAAO,8KACP,gBAAA,AAAa,EAAC,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC;gBACpD,MAAM,UAAU,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAG,CAAD,MAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;gBACxD,IAAI,CAAC,+KAAG,uBAAA,AAAoB,EAAC,UAAU,CAAC,CAAC;gBACzC,mCAAmC;gBACnC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC;gBAChC,OAAO,CAAC,CAAC;YACX,CAAC,CAAC;YAEF,OAAA,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA,CAAA,GAAY,KAAK,GAAA;gBAAE,CAAC,IAAI,CAAC,EAAE,QAAQ;YAAA,GAAG;QACxC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,IAAI,CAAC,KAAK,GAAG,CAAA,CAAE,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2203, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2209, "column": 0}, "map": {"version":3,"file":"fetch.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/fetch.ts"],"sourcesContent":["import { autoType as d3AutoType, dsvFormat } from '@antv/vendor/d3-dsv';\nimport type { DataComponent as DC } from '../runtime';\nimport type { FetchConnector } from '../spec';\nimport { identity } from '../utils/helper';\n\nexport type FetchOptions = Omit<FetchConnector, 'type'>;\n\nexport const Fetch: DC<FetchOptions> = (options) => {\n  const {\n    value,\n    format = value.split('.').pop(),\n    delimiter = ',',\n    autoType = true,\n  } = options;\n  return async () => {\n    const response = await fetch(value);\n\n    if (format === 'csv') {\n      // @see: https://github.com/d3/d3-dsv#dsv_parse\n      const str = await response.text();\n      return dsvFormat(delimiter).parse(str, autoType ? d3AutoType : identity);\n    }\n    if (format === 'json') {\n      return await response.json();\n    }\n    throw new Error(`Unknown format: ${format}.`);\n  };\n};\n\nFetch.props = {};\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,QAAQ,IAAI,UAAU,EAAE,SAAS,EAAE,MAAM,qBAAqB,CAAC;AAGxE,OAAO,EAAE,QAAQ,EAAE,MAAM,iBAAiB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIpC,MAAM,KAAK,GAAqB,CAAC,OAAO,EAAE,EAAE;IACjD,MAAM,EACJ,KAAK,EACL,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAC/B,SAAS,GAAG,GAAG,EACf,QAAQ,GAAG,IAAI,EAChB,GAAG,OAAO,CAAC;IACZ,OAAO,GAAS,CAAE,CAAA,SAAA,KAAA,GAAA,KAAA,GAAA,KAAA,GAAA;YAChB,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,KAAK,CAAC,CAAC;YAEpC,IAAI,MAAM,KAAK,KAAK,EAAE;gBACpB,+CAA+C;gBAC/C,MAAM,GAAG,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;gBAClC,2LAAO,YAAA,AAAS,EAAC,SAAS,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC,qLAAC,WAAU,CAAC,CAAC,wJAAC,WAAQ,CAAC,CAAC;aAC1E;YACD,IAAI,MAAM,KAAK,MAAM,EAAE;gBACrB,OAAO,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;aAC9B;YACD,MAAM,IAAI,KAAK,CAAC,CAAA,gBAAA,EAAmB,MAAM,CAAA,CAAA,CAAG,CAAC,CAAC;QAChD,CAAC,CAAA,CAAC;AACJ,CAAC,CAAC;AAEF,KAAK,CAAC,KAAK,GAAG,CAAA,CAAE,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2261, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2267, "column": 0}, "map": {"version":3,"file":"inline.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/inline.ts"],"sourcesContent":["import { DataComponent as DC } from '../runtime';\nimport { InlineConnector } from '../spec';\n\nexport type InlineOptions = Omit<InlineConnector, 'type'>;\n\nexport const Inline: DC<InlineOptions> = (options) => {\n  const { value } = options;\n  return () => value;\n};\n\nInline.props = {};\n"],"names":[],"mappings":";;;AAKO,MAAM,MAAM,GAAsB,CAAC,OAAO,EAAE,EAAE;IACnD,MAAM,EAAE,KAAK,EAAE,GAAG,OAAO,CAAC;IAC1B,OAAO,GAAG,CAAG,CAAD,IAAM,CAAC;AACrB,CAAC,CAAC;AAEF,MAAM,CAAC,KAAK,GAAG,CAAA,CAAE,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2275, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2281, "column": 0}, "map": {"version":3,"file":"fields.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/utils/fields.ts"],"sourcesContent":["/**\n *\n * @description Converts a random format array into a regular two-dimensional array\n * @example ['a', 'b', ['c', value]] => [['a', defaultValue], ['b', defaultValue], ['c', value]]\n */\nexport function normalizeFields(\n  fields: any[],\n  defaultValue: boolean | ((d: any) => boolean),\n) {\n  return fields.map((d) => {\n    if (Array.isArray(d)) {\n      const [field, value = defaultValue] = d;\n      return [field, value];\n    }\n    return [d, defaultValue];\n  });\n}\n"],"names":[],"mappings":"AAAA;;;;GAIG;;;AACG,SAAU,eAAe,CAC7B,MAAa,EACb,YAA6C;IAE7C,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;QACtB,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;YACpB,MAAM,CAAC,KAAK,EAAE,KAAK,GAAG,YAAY,CAAC,GAAG,CAAC,CAAC;YACxC,OAAO;gBAAC,KAAK;gBAAE,KAAK;aAAC,CAAC;SACvB;QACD,OAAO;YAAC,CAAC;YAAE,YAAY;SAAC,CAAC;IAC3B,CAAC,CAAC,CAAC;AACL,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2303, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2309, "column": 0}, "map": {"version":3,"file":"sortBy.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/sortBy.ts"],"sourcesContent":["import { DataComponent as DC } from '../runtime';\nimport { SortByTransform } from '../spec';\nimport { normalizeFields } from './utils/fields';\n\nexport type SortByOptions = Omit<SortByTransform, 'type'>;\n\n/**\n * Immutable data sort by specified fields.\n */\nexport const SortBy: DC<SortByOptions> = (options) => {\n  const { fields: F = [] } = options;\n\n  const normalizedF = normalizeFields(F, true);\n\n  return (data) => {\n    const comparator = (a: any, b: any) =>\n      normalizedF.reduce((ret: number, [field, order = true]) => {\n        if (ret !== 0) {\n          return ret;\n        }\n\n        if (order) {\n          return a[field] < b[field] ? -1 : +(a[field] !== b[field]);\n        } else {\n          return a[field] > b[field] ? -1 : +(a[field] !== b[field]);\n        }\n      }, 0);\n\n    return [...data].sort(comparator);\n  };\n};\n\nSortBy.props = {};\n"],"names":[],"mappings":";;;AAEA,OAAO,EAAE,eAAe,EAAE,MAAM,gBAAgB,CAAC;;AAO1C,MAAM,MAAM,GAAsB,CAAC,OAAO,EAAE,EAAE;IACnD,MAAM,EAAE,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,GAAG,OAAO,CAAC;IAEnC,MAAM,WAAW,sKAAG,kBAAA,AAAe,EAAC,CAAC,EAAE,IAAI,CAAC,CAAC;IAE7C,OAAO,CAAC,IAAI,EAAE,EAAE;QACd,MAAM,UAAU,GAAG,CAAC,CAAM,EAAE,CAAM,EAAE,CAClC,CADoC,UACzB,CAAC,MAAM,CAAC,CAAC,GAAW,EAAE,CAAC,KAAK,EAAE,KAAK,GAAG,IAAI,CAAC,EAAE,EAAE;gBACxD,IAAI,GAAG,KAAK,CAAC,EAAE;oBACb,OAAO,GAAG,CAAC;iBACZ;gBAED,IAAI,KAAK,EAAE;oBACT,OAAO,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;iBAC5D,MAAM;oBACL,OAAO,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;iBAC5D;YACH,CAAC,EAAE,CAAC,CAAC,CAAC;QAER,OAAO,CAAC;eAAG,IAAI;SAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IACpC,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,MAAM,CAAC,KAAK,GAAG,CAAA,CAAE,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2334, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2340, "column": 0}, "map": {"version":3,"file":"sort.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/sort.ts"],"sourcesContent":["import { DataComponent as DC } from '../runtime';\nimport { SortTransform } from '../spec';\n\nexport type SortOptions = Omit<SortTransform, 'type'>;\n\nexport function defined(d: any): boolean {\n  return d !== undefined && d !== null && !Number.isNaN(d);\n}\n\n/**\n * Sort data similar with Array.prototypo.sort.\n */\nexport const Sort: DC<SortOptions> = (options) => {\n  const { callback } = options;\n  return (data) => (Array.isArray(data) ? [...data].sort(callback) : data);\n};\n\nSort.props = {};\n"],"names":[],"mappings":";;;;AAKM,SAAU,OAAO,CAAC,CAAM;IAC5B,OAAO,CAAC,KAAK,SAAS,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AAC3D,CAAC;AAKM,MAAM,IAAI,GAAoB,CAAC,OAAO,EAAE,EAAE;IAC/C,MAAM,EAAE,QAAQ,EAAE,GAAG,OAAO,CAAC;IAC7B,OAAO,CAAC,IAAI,EAAE,CAAI,CAAF,CAAC,GAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;eAAG,IAAI;SAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;AAC3E,CAAC,CAAC;AAEF,IAAI,CAAC,KAAK,GAAG,CAAA,CAAE,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2354, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2360, "column": 0}, "map": {"version":3,"file":"filter.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/filter.ts"],"sourcesContent":["import { DataComponent as DC } from '../runtime';\nimport { FilterDataTransform } from '../spec';\n\nexport type FilterDataOptions = Omit<FilterDataTransform, 'type'>;\n\nexport function defined(d: any): boolean {\n  return d !== undefined && d !== null && !Number.isNaN(d);\n}\n\n/**\n * Filter data by specified fields and filter callback for each fields.\n * It saves datum with every fields defined by default.\n */\nexport const Filter: DC<FilterDataOptions> = (options) => {\n  const { callback = defined } = options;\n  return (data) => data.filter(callback);\n};\n\nFilter.props = {};\n"],"names":[],"mappings":";;;;AAKM,SAAU,OAAO,CAAC,CAAM;IAC5B,OAAO,CAAC,KAAK,SAAS,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AAC3D,CAAC;AAMM,MAAM,MAAM,GAA0B,CAAC,OAAO,EAAE,EAAE;IACvD,MAAM,EAAE,QAAQ,GAAG,OAAO,EAAE,GAAG,OAAO,CAAC;IACvC,OAAO,CAAC,IAAI,EAAE,CAAG,CAAD,GAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;AACzC,CAAC,CAAC;AAEF,MAAM,CAAC,KAAK,GAAG,CAAA,CAAE,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2372, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2378, "column": 0}, "map": {"version":3,"file":"pick.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/pick.ts"],"sourcesContent":["import { DataComponent as DC } from '../runtime';\nimport { PickTransform } from '../spec';\n\nexport type PickOptions = Omit<PickTransform, 'type'>;\n\nfunction pick(v: any, fields: string[] = []) {\n  return fields.reduce((datum, field) => {\n    // Pick the data deeply.\n    if (field in v) {\n      datum[field] = v[field];\n    }\n    return datum;\n  }, {});\n}\n\n/**\n * Immutable data pick by specified fields.\n */\nexport const Pick: DC<PickOptions> = (options) => {\n  const { fields } = options;\n  return (data) => data.map((d) => pick(d, fields));\n};\n\nPick.props = {};\n"],"names":[],"mappings":";;;AAKA,SAAS,IAAI,CAAC,CAAM,EAAE,SAAmB,EAAE;IACzC,OAAO,MAAM,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,KAAK,EAAE,EAAE;QACpC,wBAAwB;QACxB,IAAI,KAAK,IAAI,CAAC,EAAE;YACd,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC;SACzB;QACD,OAAO,KAAK,CAAC;IACf,CAAC,EAAE,CAAA,CAAE,CAAC,CAAC;AACT,CAAC;AAKM,MAAM,IAAI,GAAoB,CAAC,OAAO,EAAE,EAAE;IAC/C,MAAM,EAAE,MAAM,EAAE,GAAG,OAAO,CAAC;IAC3B,OAAO,CAAC,IAAI,EAAE,CAAG,CAAD,GAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAG,CAAD,GAAK,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC;AACpD,CAAC,CAAC;AAEF,IAAI,CAAC,KAAK,GAAG,CAAA,CAAE,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2395, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2401, "column": 0}, "map": {"version":3,"file":"rename.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/rename.ts"],"sourcesContent":["import { DataComponent as DC } from '../runtime';\nimport { RenameTransform } from '../spec';\n\nexport function isEmpty(obj: any) {\n  return Object.keys(obj).length === 0;\n}\n\nexport type RenameOptions = Omit<RenameTransform, 'type'>;\n\n/**\n * Immutable data rename by specified fields.\n */\nexport const Rename: DC<RenameOptions> = (options) => {\n  return (data) => {\n    if (!options || isEmpty(options)) return data;\n    const rename = (v: any) =>\n      Object.entries(v).reduce(\n        (datum, [key, value]) => ((datum[options[key] || key] = value), datum),\n        {},\n      );\n    return data.map(rename);\n  };\n};\n\nRename.props = {};\n"],"names":[],"mappings":";;;;AAGM,SAAU,OAAO,CAAC,GAAQ;IAC9B,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC;AACvC,CAAC;AAOM,MAAM,MAAM,GAAsB,CAAC,OAAO,EAAE,EAAE;IACnD,OAAO,CAAC,IAAI,EAAE,EAAE;QACd,IAAI,CAAC,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE,OAAO,IAAI,CAAC;QAC9C,MAAM,MAAM,GAAG,CAAC,CAAM,EAAE,CACtB,CADwB,KAClB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CACtB,CAAC,KAAK,EAAE,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE,CAAG,CAAD,AAAE,AAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,KAAK,CAAC,CAAE,KAAK,CAAC,EACtE,CAAA,CAAE,CACH,CAAC;QACJ,OAAO,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IAC1B,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,MAAM,CAAC,KAAK,GAAG,CAAA,CAAE,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2416, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2422, "column": 0}, "map": {"version":3,"file":"fold.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/fold.ts"],"sourcesContent":["import { DataComponent as DC } from '../runtime';\nimport { FoldTransform } from '../spec';\n\nexport function isEmpty(obj: any) {\n  return !obj || Object.keys(obj).length === 0;\n}\n\nexport type FoldOptions = Omit<FoldTransform, 'type'>;\n\n/**\n * Collapses (or “folds”) one or more data fields into two\n * properties: `key` (contains the original data field name)\n * and `value` (contains the original data value.)\n */\nexport const Fold: DC<FoldOptions> = (options) => {\n  const { fields, key = 'key', value = 'value' } = options;\n  return (data) => {\n    if (isEmpty(fields)) return data;\n    return data.flatMap((d) =>\n      fields.map((f) => ({ ...d, [key]: f, [value]: d[f] })),\n    );\n  };\n};\n\nFold.props = {};\n"],"names":[],"mappings":";;;;AAGM,SAAU,OAAO,CAAC,GAAQ;IAC9B,OAAO,CAAC,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC;AAC/C,CAAC;AASM,MAAM,IAAI,GAAoB,CAAC,OAAO,EAAE,EAAE;IAC/C,MAAM,EAAE,MAAM,EAAE,GAAG,GAAG,KAAK,EAAE,KAAK,GAAG,OAAO,EAAE,GAAG,OAAO,CAAC;IACzD,OAAO,CAAC,IAAI,EAAE,EAAE;QACd,IAAI,OAAO,CAAC,MAAM,CAAC,EAAE,OAAO,IAAI,CAAC;QACjC,OAAO,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CACtB,CADwB,KAClB,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAG,CAAD,CAAC,KAAA,MAAA,CAAA,OAAA,MAAA,CAAA,CAAA,GAAM,CAAC,GAAA;oBAAE,CAAC,GAAG,CAAC,EAAE,CAAC;oBAAE,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;gBAAA,GAAG,CAAC,CACvD,CAAC;IACJ,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,IAAI,CAAC,KAAK,GAAG,CAAA,CAAE,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2440, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2446, "column": 0}, "map": {"version":3,"file":"slice.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/slice.ts"],"sourcesContent":["import { DataComponent as DC } from '../runtime';\nimport { SliceTransform } from '../spec';\n\nexport type SliceOptions = Omit<SliceTransform, 'type'>;\n\n/**\n * Slice data between `start` ~ `end`.\n * Same with https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice\n */\nexport const Slice: DC<SliceOptions> = (options) => {\n  const { start, end } = options;\n  return (data) => data.slice(start, end);\n};\n\nSlice.props = {};\n"],"names":[],"mappings":"AAKA;;;GAGG;;;AACI,MAAM,KAAK,GAAqB,CAAC,OAAO,EAAE,EAAE;IACjD,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,OAAO,CAAC;IAC/B,OAAO,CAAC,IAAI,EAAE,CAAG,CAAD,GAAK,CAAC,KAAK,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;AAC1C,CAAC,CAAC;AAEF,KAAK,CAAC,KAAK,GAAG,CAAA,CAAE,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2457, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2463, "column": 0}, "map": {"version":3,"file":"custom.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/custom.ts"],"sourcesContent":["import { DataComponent as DC } from '../runtime';\nimport { CustomDataTransform } from '../spec';\nimport { identity } from '../utils/helper';\n\nexport type CustomOptions = Omit<CustomDataTransform, 'type'>;\n\n/**\n * Connector transfom by function.\n */\nexport const Custom: DC<CustomOptions> = (options) => {\n  const { callback = identity } = options;\n  return (data) => callback(data);\n};\n\nCustom.props = {};\n"],"names":[],"mappings":";;;AAEA,OAAO,EAAE,QAAQ,EAAE,MAAM,iBAAiB,CAAC;;AAOpC,MAAM,MAAM,GAAsB,CAAC,OAAO,EAAE,EAAE;IACnD,MAAM,EAAE,QAAQ,0JAAG,WAAQ,EAAE,GAAG,OAAO,CAAC;IACxC,OAAO,CAAC,IAAI,EAAE,CAAG,CAAD,OAAS,CAAC,IAAI,CAAC,CAAC;AAClC,CAAC,CAAC;AAEF,MAAM,CAAC,KAAK,GAAG,CAAA,CAAE,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2473, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2479, "column": 0}, "map": {"version":3,"file":"map.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/map.ts"],"sourcesContent":["import { DataComponent as DC } from '../runtime';\nimport { identity } from '../utils/helper';\nimport { MapTransform } from '../spec';\n\nexport type MapOptions = Omit<MapTransform, 'type'>;\n\n/**\n * Map transform by function.\n */\nexport const Map: DC<MapOptions> = (options) => {\n  const { callback = identity } = options;\n  return (data) => (Array.isArray(data) ? data.map(callback) : data);\n};\n\nMap.props = {};\n"],"names":[],"mappings":";;;AACA,OAAO,EAAE,QAAQ,EAAE,MAAM,iBAAiB,CAAC;;AAQpC,MAAM,GAAG,GAAmB,CAAC,OAAO,EAAE,EAAE;IAC7C,MAAM,EAAE,QAAQ,0JAAG,WAAQ,EAAE,GAAG,OAAO,CAAC;IACxC,OAAO,CAAC,IAAI,EAAE,CAAI,CAAF,CAAC,GAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;AACrE,CAAC,CAAC;AAEF,GAAG,CAAC,KAAK,GAAG,CAAA,CAAE,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2489, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2495, "column": 0}, "map": {"version":3,"file":"join.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/join.ts"],"sourcesContent":["import { rollup } from '@antv/vendor/d3-array';\nimport { DataComponent as DC } from '../runtime';\nimport { JoinTransform } from '../spec';\n\nfunction field(key: string | ((d: any) => any)): (d: any) => any {\n  return typeof key === 'string' ? (d) => d[key] : key;\n}\n\nexport type JoinOptions = Omit<JoinTransform, 'type'>;\n\n/**\n * Join data with another dataset by SQL style.\n */\nexport const Join: DC<JoinOptions> = (options) => {\n  // const { fromKey, from, key, unknown = NaN, ...rest } = options;\n  const { join, on, select = [], as = select, unknown = NaN } = options;\n  const [key, fromKey] = on;\n  const fk = field(fromKey);\n  const k = field(key);\n  const keyData = rollup(\n    join,\n    ([d]) => d, // Get the first matched.\n    (d) => fk(d),\n  );\n  return (data) =>\n    data.map((d) => {\n      const source = keyData.get(k(d));\n      return {\n        ...d,\n        ...select.reduce(\n          (prev, key, idx) => (\n            (prev[as[idx]] = source ? source[key] : unknown), prev\n          ),\n          {},\n        ),\n      };\n    });\n};\n\nJoin.props = {};\n"],"names":[],"mappings":";;;AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,uBAAuB,CAAC;;;AAI/C,SAAS,KAAK,CAAC,GAA+B;IAC5C,OAAO,OAAO,GAAG,KAAK,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;AACvD,CAAC;AAOM,MAAM,IAAI,GAAoB,CAAC,OAAO,EAAE,EAAE;IAC/C,kEAAkE;IAClE,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE,MAAM,GAAG,EAAE,EAAE,EAAE,GAAG,MAAM,EAAE,OAAO,GAAG,GAAG,EAAE,GAAG,OAAO,CAAC;IACtE,MAAM,CAAC,GAAG,EAAE,OAAO,CAAC,GAAG,EAAE,CAAC;IAC1B,MAAM,EAAE,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC;IAC1B,MAAM,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC;IACrB,MAAM,OAAO,mJAAG,SAAA,AAAM,EACpB,IAAI,EACJ,CAAC,CAAC,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE,EAAE,AACZ,CAAC,CAAC,EAAE,CAAG,CAAD,CAAG,CAAC,CAAC,CAAC,CACb,CAAC,aAFqC;IAGvC,OAAO,CAAC,IAAI,EAAE,CACZ,CADc,GACV,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;YACb,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACjC,OAAA,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA,CAAA,GACK,CAAC,GACD,MAAM,CAAC,MAAM,CACd,CAAC,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,CAAG,CAClB,AAAC,AADgB,IACZ,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAE,IAAI,CACvD,EACD,CAAA,CAAE,CACH,EACD;QACJ,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AAEF,IAAI,CAAC,KAAK,GAAG,CAAA,CAAE,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2517, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2523, "column": 0}, "map": {"version":3,"file":"kde.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/kde.ts"],"sourcesContent":["import pdf from 'pdfast';\nimport { group } from '@antv/vendor/d3-array';\nimport { DataComponent as DC } from '../runtime';\nimport { KDEDataTransform } from '../spec';\n\nexport type KDEOptions = Omit<KDEDataTransform, 'type'>;\n\nexport function defined(d: any): boolean {\n  return d !== undefined && d !== null && !Number.isNaN(d);\n}\n\n/**\n * Kernel Density Estimation base on [pdfast](https://www.npmjs.com/package/pdfast),\n * generating probability density function (pdf) using triangular kernel,\n * optimized to run in O(N + K).\n */\nexport const KDE: DC<KDEOptions> = (options) => {\n  const {\n    field,\n    groupBy,\n    as = ['y', 'size'],\n    min,\n    max,\n    size = 10,\n    width,\n  } = options;\n  const [yField, sizeField] = as;\n  return (data) => {\n    const gs = Array.from(\n      group(data, (d) => groupBy.map((gb) => d[gb]).join('-')).values(),\n    );\n    return gs.map((g) => {\n      const pdfResult = pdf.create(\n        g.map((i) => i[field]),\n        {\n          min,\n          max,\n          size,\n          width,\n        },\n      );\n      const _y = pdfResult.map((result) => result.x);\n      const _size = pdfResult.map((result) => result.y);\n      return {\n        ...(g[0] as Record<string, unknown>),\n        [yField]: _y,\n        [sizeField]: _size,\n      };\n    });\n  };\n};\n\nKDE.props = {};\n"],"names":[],"mappings":";;;;AAAA,OAAO,GAAG,MAAM,QAAQ,CAAC;AACzB,OAAO,EAAE,KAAK,EAAE,MAAM,uBAAuB,CAAC;;;;AAMxC,SAAU,OAAO,CAAC,CAAM;IAC5B,OAAO,CAAC,KAAK,SAAS,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AAC3D,CAAC;AAOM,MAAM,GAAG,GAAmB,CAAC,OAAO,EAAE,EAAE;IAC7C,MAAM,EACJ,KAAK,EACL,OAAO,EACP,EAAE,GAAG;QAAC,GAAG;QAAE,MAAM;KAAC,EAClB,GAAG,EACH,GAAG,EACH,IAAI,GAAG,EAAE,EACT,KAAK,EACN,GAAG,OAAO,CAAC;IACZ,MAAM,CAAC,MAAM,EAAE,SAAS,CAAC,GAAG,EAAE,CAAC;IAC/B,OAAO,CAAC,IAAI,EAAE,EAAE;QACd,MAAM,EAAE,GAAG,KAAK,CAAC,IAAI,qLACnB,QAAA,AAAK,EAAC,IAAI,EAAE,CAAC,CAAC,EAAE,CAAG,CAAD,MAAQ,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,CAAG,CAAD,AAAE,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,EAAE,CAClE,CAAC;QACF,OAAO,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;YAClB,MAAM,SAAS,GAAG,iJAAG,CAAC,MAAM,CAC1B,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,KAAK,CAAC,CAAC,EACtB;gBACE,GAAG;gBACH,GAAG;gBACH,IAAI;gBACJ,KAAK;aACN,CACF,CAAC;YACF,MAAM,EAAE,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAG,CAAD,KAAO,CAAC,CAAC,CAAC,CAAC;YAC/C,MAAM,KAAK,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAG,CAAD,KAAO,CAAC,CAAC,CAAC,CAAC;YAClD,OAAA,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA,CAAA,GACM,CAAC,CAAC,CAAC,CAA6B,GAAA;gBACpC,CAAC,MAAM,CAAC,EAAE,EAAE;gBACZ,CAAC,SAAS,CAAC,EAAE,KAAK;YAAA,GAClB;QACJ,CAAC,CAAC,CAAC;IACL,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,GAAG,CAAC,KAAK,GAAG,CAAA,CAAE,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2560, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2566, "column": 0}, "map": {"version":3,"file":"log.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/log.ts"],"sourcesContent":["import { DataComponent as DC } from '../runtime';\nimport { LogDataTransform } from '../spec';\n\nexport type LogDataOptions = Omit<LogDataTransform, 'type'>;\n\n/**\n * Console.log the data section for dev debugger.\n */\nexport const Log: DC<LogDataOptions> = () => {\n  return (data) => {\n    console.log('G2 data section:', data);\n    return data;\n  };\n};\n\nLog.props = {};\n"],"names":[],"mappings":"AAKA;;GAEG;;;AACI,MAAM,GAAG,GAAuB,GAAG,EAAE;IAC1C,OAAO,CAAC,IAAI,EAAE,EAAE;QACd,OAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC;QACtC,OAAO,IAAI,CAAC;IACd,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,GAAG,CAAC,KAAK,GAAG,CAAA,CAAE,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2578, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2584, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/utils/d3-cloud/index.ts"],"sourcesContent":["/*\n * Synchronous version of d3-cloud\n * Word cloud layout by Jason Davies, https://www.jasondavies.com/wordcloud/\n * Algorithm due to Jonathan Feinberg, http://static.mrfeinberg.com/bv_ch03.pdf\n */\ninterface Item {\n  value: number;\n  text: string;\n  sprite: boolean;\n}\n\nconst cloudRadians = Math.PI / 180,\n  cw = (1 << 11) >> 5,\n  ch = 1 << 11;\n\nfunction cloudText(d: Item) {\n  return d.text;\n}\n\nfunction cloudFont() {\n  return 'serif';\n}\n\nfunction cloudFontNormal() {\n  return 'normal';\n}\n\nfunction cloudFontSize(d: Item) {\n  return d.value;\n}\n\nfunction cloudRotate() {\n  return ~~(Math.random() * 2) * 90;\n}\n\nfunction cloudPadding() {\n  return 1;\n}\n\nfunction cloudDispatch() {\n  return;\n}\n// Fetches a monochrome sprite bitmap for the specified text.\n// Load in batches for speed.\nfunction cloudSprite(contextAndRatio, d, data, di) {\n  if (d.sprite) return;\n  const c = contextAndRatio.context,\n    ratio = contextAndRatio.ratio;\n\n  c.clearRect(0, 0, (cw << 5) / ratio, ch / ratio);\n  let x = 0,\n    y = 0,\n    maxh = 0;\n  const n = data.length;\n  --di;\n  while (++di < n) {\n    d = data[di];\n    c.save();\n    c.font =\n      d.style +\n      ' ' +\n      d.weight +\n      ' ' +\n      ~~((d.size + 1) / ratio) +\n      'px ' +\n      d.font;\n    let w = c.measureText(d.text + 'm').width * ratio,\n      h = d.size << 1;\n    if (d.rotate) {\n      const sr = Math.sin(d.rotate * cloudRadians),\n        cr = Math.cos(d.rotate * cloudRadians),\n        wcr = w * cr,\n        wsr = w * sr,\n        hcr = h * cr,\n        hsr = h * sr;\n      w =\n        ((Math.max(Math.abs(wcr + hsr), Math.abs(wcr - hsr)) + 0x1f) >> 5) << 5;\n      h = ~~Math.max(Math.abs(wsr + hcr), Math.abs(wsr - hcr));\n    } else {\n      w = ((w + 0x1f) >> 5) << 5;\n    }\n    if (h > maxh) maxh = h;\n    if (x + w >= cw << 5) {\n      x = 0;\n      y += maxh;\n      maxh = 0;\n    }\n    if (y + h >= ch) break;\n    c.translate((x + (w >> 1)) / ratio, (y + (h >> 1)) / ratio);\n    if (d.rotate) c.rotate(d.rotate * cloudRadians);\n    c.fillText(d.text, 0, 0);\n    if (d.padding) {\n      c.lineWidth = 2 * d.padding;\n      c.strokeText(d.text, 0, 0);\n    }\n    c.restore();\n    d.width = w;\n    d.height = h;\n    d.xoff = x;\n    d.yoff = y;\n    d.x1 = w >> 1;\n    d.y1 = h >> 1;\n    d.x0 = -d.x1;\n    d.y0 = -d.y1;\n    d.hasText = true;\n    x += w;\n  }\n  const pixels = c.getImageData(0, 0, (cw << 5) / ratio, ch / ratio).data,\n    sprite = [];\n  while (--di >= 0) {\n    d = data[di];\n    if (!d.hasText) continue;\n    const w = d.width,\n      w32 = w >> 5;\n    let h = d.y1 - d.y0;\n    // Zero the buffer\n    for (let i = 0; i < h * w32; i++) sprite[i] = 0;\n    x = d.xoff;\n    if (x == null) return;\n    y = d.yoff;\n    let seen = 0,\n      seenRow = -1;\n    for (let j = 0; j < h; j++) {\n      for (let i = 0; i < w; i++) {\n        const k = w32 * j + (i >> 5),\n          m = pixels[((y + j) * (cw << 5) + (x + i)) << 2]\n            ? 1 << (31 - (i % 32))\n            : 0;\n        sprite[k] |= m;\n        seen |= m;\n      }\n      if (seen) seenRow = j;\n      else {\n        d.y0++;\n        h--;\n        j--;\n        y++;\n      }\n    }\n    d.y1 = d.y0 + seenRow;\n    d.sprite = sprite.slice(0, (d.y1 - d.y0) * w32);\n  }\n}\n\n// Use mask-based collision detection.\nfunction cloudCollide(tag, board, sw) {\n  sw >>= 5;\n  const sprite = tag.sprite,\n    w = tag.width >> 5,\n    lx = tag.x - (w << 4),\n    sx = lx & 0x7f,\n    msx = 32 - sx,\n    h = tag.y1 - tag.y0;\n  let x = (tag.y + tag.y0) * sw + (lx >> 5),\n    last;\n  for (let j = 0; j < h; j++) {\n    last = 0;\n    for (let i = 0; i <= w; i++) {\n      if (\n        ((last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0)) &\n        board[x + i]\n      )\n        return true;\n    }\n    x += sw;\n  }\n  return false;\n}\n\nfunction cloudBounds(bounds, d) {\n  const b0 = bounds[0],\n    b1 = bounds[1];\n  if (d.x + d.x0 < b0.x) b0.x = d.x + d.x0;\n  if (d.y + d.y0 < b0.y) b0.y = d.y + d.y0;\n  if (d.x + d.x1 > b1.x) b1.x = d.x + d.x1;\n  if (d.y + d.y1 > b1.y) b1.y = d.y + d.y1;\n}\n\nfunction collideRects(a, b) {\n  return (\n    a.x + a.x1 > b[0].x &&\n    a.x + a.x0 < b[1].x &&\n    a.y + a.y1 > b[0].y &&\n    a.y + a.y0 < b[1].y\n  );\n}\n\nfunction archimedeanSpiral(size) {\n  const e = size[0] / size[1];\n  return function (t) {\n    return [e * (t *= 0.1) * Math.cos(t), t * Math.sin(t)];\n  };\n}\n\nfunction rectangularSpiral(size) {\n  const dy = 4,\n    dx = (dy * size[0]) / size[1];\n  let x = 0,\n    y = 0;\n  return function (t) {\n    const sign = t < 0 ? -1 : 1;\n    // See triangular numbers: T_n = n * (n + 1) / 2.\n    switch ((Math.sqrt(1 + 4 * sign * t) - sign) & 3) {\n      case 0:\n        x += dx;\n        break;\n      case 1:\n        y += dy;\n        break;\n      case 2:\n        x -= dx;\n        break;\n      default:\n        y -= dy;\n        break;\n    }\n    return [x, y];\n  };\n}\n\n// TODO reuse arrays?\nfunction zeroArray(n) {\n  const a = [];\n  let i = -1;\n  while (++i < n) a[i] = 0;\n  return a;\n}\n\nfunction cloudCanvas() {\n  return document.createElement('canvas');\n}\n\nfunction functor(d) {\n  return typeof d === 'function'\n    ? d\n    : function () {\n        return d;\n      };\n}\n\nconst spirals = {\n  archimedean: archimedeanSpiral,\n  rectangular: rectangularSpiral,\n};\n\nexport function tagCloud() {\n  let size = [256, 256],\n    text = cloudText,\n    font = cloudFont,\n    fontSize = cloudFontSize,\n    fontWeight = cloudFontNormal,\n    rotate = cloudRotate,\n    padding = cloudPadding,\n    spiral = archimedeanSpiral,\n    random = Math.random,\n    event = cloudDispatch,\n    words = [],\n    timer = null,\n    timeInterval = Infinity,\n    canvas = cloudCanvas;\n\n  const fontStyle = cloudFontNormal;\n  const cloud: any = {};\n\n  cloud.start = function () {\n    const [width, height] = size;\n    const contextAndRatio = getContext(canvas()),\n      board = cloud.board ? cloud.board : zeroArray((size[0] >> 5) * size[1]),\n      n = words.length,\n      tags = [],\n      data = words\n        .map(function (d, i, data) {\n          d.text = text.call(this, d, i, data);\n          d.font = font.call(this, d, i, data);\n          d.style = fontStyle.call(this, d, i, data);\n          d.weight = fontWeight.call(this, d, i, data);\n          d.rotate = rotate.call(this, d, i, data);\n          d.size = ~~fontSize.call(this, d, i, data);\n          d.padding = padding.call(this, d, i, data);\n          return d;\n        })\n        .sort(function (a, b) {\n          return b.size - a.size;\n        });\n    let i = -1,\n      bounds = !cloud.board\n        ? undefined\n        : [\n            {\n              x: 0,\n              y: 0,\n            },\n            {\n              x: width,\n              y: height,\n            },\n          ];\n\n    if (timer) clearInterval(timer);\n    timer = setInterval(step, 0);\n    step();\n\n    function step() {\n      const start = Date.now();\n      while (Date.now() - start < timeInterval && ++i < n) {\n        const d = data[i];\n        d.x = (width * (random() + 0.5)) >> 1;\n        d.y = (height * (random() + 0.5)) >> 1;\n        cloudSprite(contextAndRatio, d, data, i);\n        if (d.hasText && place(board, d, bounds)) {\n          event.call(null, 'word', { cloud, word: d });\n          tags.push(d);\n          if (bounds) {\n            if (!cloud.hasImage) {\n              // update bounds if image mask not set\n              cloudBounds(bounds, d);\n            }\n          } else {\n            bounds = [\n              { x: d.x + d.x0, y: d.y + d.y0 },\n              { x: d.x + d.x1, y: d.y + d.y1 },\n            ];\n          }\n          // Temporary hack\n          d.x -= size[0] >> 1;\n          d.y -= size[1] >> 1;\n        }\n      }\n      cloud._tags = tags;\n      cloud._bounds = bounds;\n\n      if (i >= n) {\n        cloud.stop();\n        event.call(null, 'end', { cloud, words: tags, bounds });\n      }\n    }\n\n    return cloud;\n  };\n\n  cloud.stop = function () {\n    if (timer) {\n      clearInterval(timer);\n      timer = null;\n    }\n    return cloud;\n  };\n\n  function getContext(canvas: HTMLCanvasElement) {\n    canvas.width = canvas.height = 1;\n    const ratio = Math.sqrt(\n      canvas.getContext('2d')!.getImageData(0, 0, 1, 1).data.length >> 2,\n    );\n    canvas.width = (cw << 5) / ratio;\n    canvas.height = ch / ratio;\n\n    const context = canvas.getContext('2d') as CanvasRenderingContext2D;\n    context.fillStyle = context.strokeStyle = 'red';\n    context.textAlign = 'center';\n    context.textBaseline = 'middle';\n    return { context, ratio };\n  }\n\n  function place(board, tag, bounds) {\n    // const perimeter = [{ x: 0, y: 0 }, { x: size[0], y: size[1] }],\n    const startX = tag.x,\n      startY = tag.y,\n      maxDelta = Math.sqrt(size[0] * size[0] + size[1] * size[1]),\n      s = spiral(size),\n      dt = random() < 0.5 ? 1 : -1;\n    let dxdy,\n      t = -dt,\n      dx,\n      dy;\n\n    while ((dxdy = s((t += dt)))) {\n      dx = ~~dxdy[0];\n      dy = ~~dxdy[1];\n\n      if (Math.min(Math.abs(dx), Math.abs(dy)) >= maxDelta) break;\n\n      tag.x = startX + dx;\n      tag.y = startY + dy;\n\n      if (\n        tag.x + tag.x0 < 0 ||\n        tag.y + tag.y0 < 0 ||\n        tag.x + tag.x1 > size[0] ||\n        tag.y + tag.y1 > size[1]\n      )\n        continue;\n      // TODO only check for collisions within current bounds.\n      if (!bounds || !cloudCollide(tag, board, size[0])) {\n        if (!bounds || collideRects(tag, bounds)) {\n          const sprite = tag.sprite,\n            w = tag.width >> 5,\n            sw = size[0] >> 5,\n            lx = tag.x - (w << 4),\n            sx = lx & 0x7f,\n            msx = 32 - sx,\n            h = tag.y1 - tag.y0;\n          let last,\n            x = (tag.y + tag.y0) * sw + (lx >> 5);\n          for (let j = 0; j < h; j++) {\n            last = 0;\n            for (let i = 0; i <= w; i++) {\n              board[x + i] |=\n                (last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0);\n            }\n            x += sw;\n          }\n          delete tag.sprite;\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  cloud.createMask = (img: HTMLImageElement) => {\n    const can: HTMLCanvasElement = document.createElement('canvas');\n    const [width, height] = size;\n\n    // 当 width 或 height 为 0 时，调用 cxt.getImageData 会报错\n    if (!width || !height) {\n      return;\n    }\n    const w32 = width >> 5;\n    const board = zeroArray((width >> 5) * height);\n    can.width = width;\n    can.height = height;\n    const cxt = can.getContext('2d') as CanvasRenderingContext2D;\n    cxt.drawImage(img, 0, 0, img.width, img.height, 0, 0, width, height);\n    const imageData = cxt.getImageData(0, 0, width, height).data;\n    for (let j = 0; j < height; j++) {\n      for (let i = 0; i < width; i++) {\n        const k = w32 * j + (i >> 5);\n        const tmp = (j * width + i) << 2;\n        const flag =\n          imageData[tmp] >= 250 &&\n          imageData[tmp + 1] >= 250 &&\n          imageData[tmp + 2] >= 250;\n        const m = flag ? 1 << (31 - (i % 32)) : 0;\n        board[k] |= m;\n      }\n    }\n    cloud.board = board;\n    cloud.hasImage = true;\n  };\n\n  cloud.timeInterval = function (_) {\n    timeInterval = _ == null ? Infinity : _;\n  };\n\n  cloud.words = function (_) {\n    words = _;\n  };\n\n  cloud.size = function (_ = []) {\n    size = [+_[0], +_[1]];\n  };\n\n  cloud.text = function (_) {\n    text = functor(_);\n  };\n\n  cloud.font = function (_) {\n    font = functor(_);\n  };\n\n  cloud.fontWeight = function (_) {\n    fontWeight = functor(_);\n  };\n\n  cloud.rotate = function (_) {\n    rotate = functor(_);\n  };\n\n  cloud.canvas = function (_) {\n    canvas = functor(_);\n  };\n\n  cloud.spiral = function (_) {\n    spiral = spirals[_] || _;\n  };\n\n  cloud.fontSize = function (_) {\n    fontSize = functor(_);\n  };\n\n  cloud.padding = function (_) {\n    padding = functor(_);\n  };\n\n  cloud.random = function (_) {\n    random = functor(_);\n  };\n\n  cloud.on = function (_) {\n    event = functor(_);\n  };\n\n  return cloud;\n}\n"],"names":[],"mappings":";;;AAWA,MAAM,YAAY,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAChC,EAAE,GAAG,AAAC,CAAC,IAAI,EAAE,CAAC,GAAI,CAAC,EACnB,EAAE,GAAG,CAAC,IAAI,EAAE,CAAC;AAEf,SAAS,SAAS,CAAC,CAAO;IACxB,OAAO,CAAC,CAAC,IAAI,CAAC;AAChB,CAAC;AAED,SAAS,SAAS;IAChB,OAAO,OAAO,CAAC;AACjB,CAAC;AAED,SAAS,eAAe;IACtB,OAAO,QAAQ,CAAC;AAClB,CAAC;AAED,SAAS,aAAa,CAAC,CAAO;IAC5B,OAAO,CAAC,CAAC,KAAK,CAAC;AACjB,CAAC;AAED,SAAS,WAAW;IAClB,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;AACpC,CAAC;AAED,SAAS,YAAY;IACnB,OAAO,CAAC,CAAC;AACX,CAAC;AAED,SAAS,aAAa;IACpB,OAAO;AACT,CAAC;AACD,6DAA6D;AAC7D,6BAA6B;AAC7B,SAAS,WAAW,CAAC,eAAe,EAAE,CAAC,EAAE,IAAI,EAAE,EAAE;IAC/C,IAAI,CAAC,CAAC,MAAM,EAAE,OAAO;IACrB,MAAM,CAAC,GAAG,eAAe,CAAC,OAAO,EAC/B,KAAK,GAAG,eAAe,CAAC,KAAK,CAAC;IAEhC,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,KAAK,EAAE,EAAE,GAAG,KAAK,CAAC,CAAC;IACjD,IAAI,CAAC,GAAG,CAAC,EACP,CAAC,GAAG,CAAC,EACL,IAAI,GAAG,CAAC,CAAC;IACX,MAAM,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;IACtB,EAAE,EAAE,CAAC;IACL,MAAO,EAAE,EAAE,GAAG,CAAC,CAAE;QACf,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC;QACb,CAAC,CAAC,IAAI,EAAE,CAAC;QACT,CAAC,CAAC,IAAI,GACJ,CAAC,CAAC,KAAK,GACP,GAAG,GACH,CAAC,CAAC,MAAM,GACR,GAAG,GACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,GACxB,KAAK,GACL,CAAC,CAAC,IAAI,CAAC;QACT,IAAI,CAAC,GAAG,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC,CAAC,KAAK,GAAG,KAAK,EAC/C,CAAC,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC;QAClB,IAAI,CAAC,CAAC,MAAM,EAAE;YACZ,MAAM,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,GAAG,YAAY,CAAC,EAC1C,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,GAAG,YAAY,CAAC,EACtC,GAAG,GAAG,CAAC,GAAG,EAAE,EACZ,GAAG,GAAG,CAAC,GAAG,EAAE,EACZ,GAAG,GAAG,CAAC,GAAG,EAAE,EACZ,GAAG,GAAG,CAAC,GAAG,EAAE,CAAC;YACf,CAAC,GACC,AAAE,CAAD,GAAK,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,GAAI,CAAC,CAAC,GAAI,CAAC,CAAC;YAC1E,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;SAC1D,MAAM;YACL,CAAC,GAAK,AAAF,CAAG,AAAF,GAAK,IAAI,CAAC,GAAI,CAAC,CAAC,GAAI,CAAC,CAAC;SAC5B;QACD,IAAI,CAAC,GAAG,IAAI,EAAE,IAAI,GAAG,CAAC,CAAC;QACvB,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE;YACpB,CAAC,GAAG,CAAC,CAAC;YACN,CAAC,IAAI,IAAI,CAAC;YACV,IAAI,GAAG,CAAC,CAAC;SACV;QACD,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,EAAE,MAAM;QACvB,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,KAAK,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC;QAC5D,IAAI,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,GAAG,YAAY,CAAC,CAAC;QAChD,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACzB,IAAI,CAAC,CAAC,OAAO,EAAE;YACb,CAAC,CAAC,SAAS,GAAG,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC;YAC5B,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;SAC5B;QACD,CAAC,CAAC,OAAO,EAAE,CAAC;QACZ,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC;QACZ,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;QACb,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC;QACX,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC;QACX,CAAC,CAAC,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;QACd,CAAC,CAAC,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;QACd,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC;QACb,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC;QACb,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;QACjB,CAAC,IAAI,CAAC,CAAC;KACR;IACD,MAAM,MAAM,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,KAAK,EAAE,EAAE,GAAG,KAAK,CAAC,CAAC,IAAI,EACrE,MAAM,GAAG,EAAE,CAAC;IACd,MAAO,EAAE,EAAE,IAAI,CAAC,CAAE;QAChB,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC;QACb,IAAI,CAAC,CAAC,CAAC,OAAO,EAAE,SAAS;QACzB,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,EACf,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC;QACf,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC;QACpB,kBAAkB;QAClB,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,CAAE,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAChD,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;QACX,IAAI,CAAC,IAAI,IAAI,EAAE,OAAO;QACtB,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;QACX,IAAI,IAAI,GAAG,CAAC,EACV,OAAO,GAAG,CAAC,CAAC,CAAC;QACf,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAE;YAC1B,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAE;gBAC1B,MAAM,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EAC1B,CAAC,GAAG,MAAM,CAAC,AAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAI,CAAC,CAAC,GAC5C,CAAC,IAAI,AAAC,EAAE,GAAG,AAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CACpB,CAAC,CAAC;gBACR,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;gBACf,IAAI,IAAI,CAAC,CAAC;aACX;YACD,IAAI,IAAI,EAAE,OAAO,GAAG,CAAC,CAAC;iBACjB;gBACH,CAAC,CAAC,EAAE,EAAE,CAAC;gBACP,CAAC,EAAE,CAAC;gBACJ,CAAC,EAAE,CAAC;gBACJ,CAAC,EAAE,CAAC;aACL;SACF;QACD,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,OAAO,CAAC;QACtB,CAAC,CAAC,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC;KACjD;AACH,CAAC;AAED,sCAAsC;AACtC,SAAS,YAAY,CAAC,GAAG,EAAE,KAAK,EAAE,EAAE;IAClC,EAAE,KAAK,CAAC,CAAC;IACT,MAAM,MAAM,GAAG,GAAG,CAAC,MAAM,EACvB,CAAC,GAAG,GAAG,CAAC,KAAK,IAAI,CAAC,EAClB,EAAE,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EACrB,EAAE,GAAG,EAAE,GAAG,IAAI,EACd,GAAG,GAAG,EAAE,GAAG,EAAE,EACb,CAAC,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC;IACtB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC,EACvC,IAAI,CAAC;IACP,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAE;QAC1B,IAAI,GAAG,CAAC,CAAC;QACT,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAE;YAC3B,IACE,CAAC,AAAC,IAAI,IAAI,GAAG,CAAC,EAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GACjE,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,EAEZ,OAAO,IAAI,CAAC;SACf;QACD,CAAC,IAAI,EAAE,CAAC;KACT;IACD,OAAO,KAAK,CAAC;AACf,CAAC;AAED,SAAS,WAAW,CAAC,MAAM,EAAE,CAAC;IAC5B,MAAM,EAAE,GAAG,MAAM,CAAC,CAAC,CAAC,EAClB,EAAE,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;IACjB,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;IACzC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;IACzC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;IACzC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;AAC3C,CAAC;AAED,SAAS,YAAY,CAAC,CAAC,EAAE,CAAC;IACxB,OAAO,AACL,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IACnB,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IACnB,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IACnB,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CACpB,CAAC;AACJ,CAAC;AAED,SAAS,iBAAiB,CAAC,IAAI;IAC7B,MAAM,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;IAC5B,OAAO,SAAU,CAAC;QAChB,OAAO;YAAC,CAAC,GAAG,CAAC,CAAC,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;YAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;SAAC,CAAC;IACzD,CAAC,CAAC;AACJ,CAAC;AAED,SAAS,iBAAiB,CAAC,IAAI;IAC7B,MAAM,EAAE,GAAG,CAAC,EACV,EAAE,GAAG,AAAC,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,EAAG,IAAI,CAAC,CAAC,CAAC,CAAC;IAChC,IAAI,CAAC,GAAG,CAAC,EACP,CAAC,GAAG,CAAC,CAAC;IACR,OAAO,SAAU,CAAC;QAChB,MAAM,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5B,iDAAiD;QACjD,OAAQ,AAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,EAAG,CAAC,EAAE;YAChD,KAAK,CAAC;gBACJ,CAAC,IAAI,EAAE,CAAC;gBACR,MAAM;YACR,KAAK,CAAC;gBACJ,CAAC,IAAI,EAAE,CAAC;gBACR,MAAM;YACR,KAAK,CAAC;gBACJ,CAAC,IAAI,EAAE,CAAC;gBACR,MAAM;YACR;gBACE,CAAC,IAAI,EAAE,CAAC;gBACR,MAAM;SACT;QACD,OAAO;YAAC,CAAC;YAAE,CAAC;SAAC,CAAC;IAChB,CAAC,CAAC;AACJ,CAAC;AAED,qBAAqB;AACrB,SAAS,SAAS,CAAC,CAAC;IAClB,MAAM,CAAC,GAAG,EAAE,CAAC;IACb,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;IACX,MAAO,EAAE,CAAC,GAAG,CAAC,CAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IACzB,OAAO,CAAC,CAAC;AACX,CAAC;AAED,SAAS,WAAW;IAClB,OAAO,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;AAC1C,CAAC;AAED,SAAS,OAAO,CAAC,CAAC;IAChB,OAAO,OAAO,CAAC,KAAK,UAAU,GAC1B,CAAC,GACD;QACE,OAAO,CAAC,CAAC;IACX,CAAC,CAAC;AACR,CAAC;AAED,MAAM,OAAO,GAAG;IACd,WAAW,EAAE,iBAAiB;IAC9B,WAAW,EAAE,iBAAiB;CAC/B,CAAC;AAEI,SAAU,QAAQ;IACtB,IAAI,IAAI,GAAG;QAAC,GAAG;QAAE,GAAG;KAAC,EACnB,IAAI,GAAG,SAAS,EAChB,IAAI,GAAG,SAAS,EAChB,QAAQ,GAAG,aAAa,EACxB,UAAU,GAAG,eAAe,EAC5B,MAAM,GAAG,WAAW,EACpB,OAAO,GAAG,YAAY,EACtB,MAAM,GAAG,iBAAiB,EAC1B,MAAM,GAAG,IAAI,CAAC,MAAM,EACpB,KAAK,GAAG,aAAa,EACrB,KAAK,GAAG,EAAE,EACV,KAAK,GAAG,IAAI,EACZ,YAAY,GAAG,QAAQ,EACvB,MAAM,GAAG,WAAW,CAAC;IAEvB,MAAM,SAAS,GAAG,eAAe,CAAC;IAClC,MAAM,KAAK,GAAQ,CAAA,CAAE,CAAC;IAEtB,KAAK,CAAC,KAAK,GAAG;QACZ,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,IAAI,CAAC;QAC7B,MAAM,eAAe,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAC1C,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,EACvE,CAAC,GAAG,KAAK,CAAC,MAAM,EAChB,IAAI,GAAG,EAAE,EACT,IAAI,GAAG,KAAK,CACT,GAAG,CAAC,SAAU,CAAC,EAAE,CAAC,EAAE,IAAI;YACvB,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;YACrC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;YACrC,CAAC,CAAC,KAAK,GAAG,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;YAC3C,CAAC,CAAC,MAAM,GAAG,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;YAC7C,CAAC,CAAC,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;YACzC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;YAC3C,CAAC,CAAC,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;YAC3C,OAAO,CAAC,CAAC;QACX,CAAC,CAAC,CACD,IAAI,CAAC,SAAU,CAAC,EAAE,CAAC;YAClB,OAAO,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;QACzB,CAAC,CAAC,CAAC;QACP,IAAI,CAAC,GAAG,CAAC,CAAC,EACR,MAAM,GAAG,CAAC,KAAK,CAAC,KAAK,GACjB,SAAS,GACT;YACE;gBACE,CAAC,EAAE,CAAC;gBACJ,CAAC,EAAE,CAAC;aACL;YACD;gBACE,CAAC,EAAE,KAAK;gBACR,CAAC,EAAE,MAAM;aACV;SACF,CAAC;QAER,IAAI,KAAK,EAAE,aAAa,CAAC,KAAK,CAAC,CAAC;QAChC,KAAK,GAAG,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QAC7B,IAAI,EAAE,CAAC;QAEP,SAAS,IAAI;YACX,MAAM,KAAK,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;YACzB,MAAO,IAAI,CAAC,GAAG,EAAE,GAAG,KAAK,GAAG,YAAY,IAAI,EAAE,CAAC,GAAG,CAAC,CAAE;gBACnD,MAAM,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;gBAClB,CAAC,CAAC,CAAC,GAAG,AAAC,KAAK,GAAG,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC,GAAI,CAAC,CAAC;gBACtC,CAAC,CAAC,CAAC,GAAI,AAAD,MAAO,GAAG,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC,GAAI,CAAC,CAAC;gBACvC,WAAW,CAAC,eAAe,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;gBACzC,IAAI,CAAC,CAAC,OAAO,IAAI,KAAK,CAAC,KAAK,EAAE,CAAC,EAAE,MAAM,CAAC,EAAE;oBACxC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,EAAE;wBAAE,KAAK;wBAAE,IAAI,EAAE,CAAC;oBAAA,CAAE,CAAC,CAAC;oBAC7C,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;oBACb,IAAI,MAAM,EAAE;wBACV,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;4BACnB,sCAAsC;4BACtC,WAAW,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;yBACxB;qBACF,MAAM;wBACL,MAAM,GAAG;4BACP;gCAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE;gCAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE;4BAAA,CAAE;4BAChC;gCAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE;gCAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE;4BAAA,CAAE;yBACjC,CAAC;qBACH;oBACD,iBAAiB;oBACjB,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;oBACpB,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;iBACrB;aACF;YACD,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC;YACnB,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;YAEvB,IAAI,CAAC,IAAI,CAAC,EAAE;gBACV,KAAK,CAAC,IAAI,EAAE,CAAC;gBACb,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE;oBAAE,KAAK;oBAAE,KAAK,EAAE,IAAI;oBAAE,MAAM;gBAAA,CAAE,CAAC,CAAC;aACzD;QACH,CAAC;QAED,OAAO,KAAK,CAAC;IACf,CAAC,CAAC;IAEF,KAAK,CAAC,IAAI,GAAG;QACX,IAAI,KAAK,EAAE;YACT,aAAa,CAAC,KAAK,CAAC,CAAC;YACrB,KAAK,GAAG,IAAI,CAAC;SACd;QACD,OAAO,KAAK,CAAC;IACf,CAAC,CAAC;IAEF,SAAS,UAAU,CAAC,MAAyB;QAC3C,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;QACjC,MAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CACrB,MAAM,CAAC,UAAU,CAAC,IAAI,CAAE,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,CACnE,CAAC;QACF,MAAM,CAAC,KAAK,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC;QACjC,MAAM,CAAC,MAAM,GAAG,EAAE,GAAG,KAAK,CAAC;QAE3B,MAAM,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAA6B,CAAC;QACpE,OAAO,CAAC,SAAS,GAAG,OAAO,CAAC,WAAW,GAAG,KAAK,CAAC;QAChD,OAAO,CAAC,SAAS,GAAG,QAAQ,CAAC;QAC7B,OAAO,CAAC,YAAY,GAAG,QAAQ,CAAC;QAChC,OAAO;YAAE,OAAO;YAAE,KAAK;QAAA,CAAE,CAAC;IAC5B,CAAC;IAED,SAAS,KAAK,CAAC,KAAK,EAAE,GAAG,EAAE,MAAM;QAC/B,kEAAkE;QAClE,MAAM,MAAM,GAAG,GAAG,CAAC,CAAC,EAClB,MAAM,GAAG,GAAG,CAAC,CAAC,EACd,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,EAC3D,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,EAChB,EAAE,GAAG,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/B,IAAI,IAAI,EACN,CAAC,GAAG,CAAC,EAAE,EACP,EAAE,EACF,EAAE,CAAC;QAEL,MAAQ,CAAD,GAAK,GAAG,CAAC,CAAC,AAAC,CAAC,IAAI,EAAE,CAAC,CAAC,AAAG,CAAF;YAC1B,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACf,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAEf,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,IAAI,QAAQ,EAAE,MAAM;YAE5D,GAAG,CAAC,CAAC,GAAG,MAAM,GAAG,EAAE,CAAC;YACpB,GAAG,CAAC,CAAC,GAAG,MAAM,GAAG,EAAE,CAAC;YAEpB,IACE,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,EAAE,GAAG,CAAC,IAClB,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,EAAE,GAAG,CAAC,IAClB,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,IACxB,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,EAExB,SAAS;YACX,wDAAwD;YACxD,IAAI,CAAC,MAAM,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE;gBACjD,IAAI,CAAC,MAAM,IAAI,YAAY,CAAC,GAAG,EAAE,MAAM,CAAC,EAAE;oBACxC,MAAM,MAAM,GAAG,GAAG,CAAC,MAAM,EACvB,CAAC,GAAG,GAAG,CAAC,KAAK,IAAI,CAAC,EAClB,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,EACjB,EAAE,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EACrB,EAAE,GAAG,EAAE,GAAG,IAAI,EACd,GAAG,GAAG,EAAE,GAAG,EAAE,EACb,CAAC,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC;oBACtB,IAAI,IAAI,EACN,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;oBACxC,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAE;wBAC1B,IAAI,GAAG,CAAC,CAAC;wBACT,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAE;4BAC3B,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,IACV,AAAC,IAAI,IAAI,GAAG,CAAC,EAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;yBACnE;wBACD,CAAC,IAAI,EAAE,CAAC;qBACT;oBACD,OAAO,GAAG,CAAC,MAAM,CAAC;oBAClB,OAAO,IAAI,CAAC;iBACb;aACF;SACF;QACD,OAAO,KAAK,CAAC;IACf,CAAC;IAED,KAAK,CAAC,UAAU,GAAG,CAAC,GAAqB,EAAE,EAAE;QAC3C,MAAM,GAAG,GAAsB,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QAChE,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,IAAI,CAAC;QAE7B,iDAAiD;QACjD,IAAI,CAAC,KAAK,IAAI,CAAC,MAAM,EAAE;YACrB,OAAO;SACR;QACD,MAAM,GAAG,GAAG,KAAK,IAAI,CAAC,CAAC;QACvB,MAAM,KAAK,GAAG,SAAS,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC;QAC/C,GAAG,CAAC,KAAK,GAAG,KAAK,CAAC;QAClB,GAAG,CAAC,MAAM,GAAG,MAAM,CAAC;QACpB,MAAM,GAAG,GAAG,GAAG,CAAC,UAAU,CAAC,IAAI,CAA6B,CAAC;QAC7D,GAAG,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;QACrE,MAAM,SAAS,GAAG,GAAG,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC;QAC7D,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,CAAE;YAC/B,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,CAAC,EAAE,CAAE;gBAC9B,MAAM,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;gBAC7B,MAAM,GAAG,GAAG,AAAC,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC,GAAI,CAAC,CAAC;gBACjC,MAAM,IAAI,GACR,SAAS,CAAC,GAAG,CAAC,IAAI,GAAG,IACrB,SAAS,CAAC,GAAG,GAAG,CAAC,CAAC,IAAI,GAAG,IACzB,SAAS,CAAC,GAAG,GAAG,CAAC,CAAC,IAAI,GAAG,CAAC;gBAC5B,MAAM,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,AAAC,EAAE,GAAG,AAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,AAAE,CAAD,AAAE,CAAC;gBAC1C,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;aACf;SACF;QACD,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;QACpB,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC;IACxB,CAAC,CAAC;IAEF,KAAK,CAAC,YAAY,GAAG,SAAU,CAAC;QAC9B,YAAY,GAAG,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;IAC1C,CAAC,CAAC;IAEF,KAAK,CAAC,KAAK,GAAG,SAAU,CAAC;QACvB,KAAK,GAAG,CAAC,CAAC;IACZ,CAAC,CAAC;IAEF,KAAK,CAAC,IAAI,GAAG,SAAU,CAAC,GAAG,EAAE;QAC3B,IAAI,GAAG;YAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAAE,CAAC,CAAC,CAAC,CAAC,CAAC;SAAC,CAAC;IACxB,CAAC,CAAC;IAEF,KAAK,CAAC,IAAI,GAAG,SAAU,CAAC;QACtB,IAAI,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;IACpB,CAAC,CAAC;IAEF,KAAK,CAAC,IAAI,GAAG,SAAU,CAAC;QACtB,IAAI,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;IACpB,CAAC,CAAC;IAEF,KAAK,CAAC,UAAU,GAAG,SAAU,CAAC;QAC5B,UAAU,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;IAC1B,CAAC,CAAC;IAEF,KAAK,CAAC,MAAM,GAAG,SAAU,CAAC;QACxB,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;IACtB,CAAC,CAAC;IAEF,KAAK,CAAC,MAAM,GAAG,SAAU,CAAC;QACxB,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;IACtB,CAAC,CAAC;IAEF,KAAK,CAAC,MAAM,GAAG,SAAU,CAAC;QACxB,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;IAC3B,CAAC,CAAC;IAEF,KAAK,CAAC,QAAQ,GAAG,SAAU,CAAC;QAC1B,QAAQ,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;IACxB,CAAC,CAAC;IAEF,KAAK,CAAC,OAAO,GAAG,SAAU,CAAC;QACzB,OAAO,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;IACvB,CAAC,CAAC;IAEF,KAAK,CAAC,MAAM,GAAG,SAAU,CAAC;QACxB,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;IACtB,CAAC,CAAC;IAEF,KAAK,CAAC,EAAE,GAAG,SAAU,CAAC;QACpB,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;IACrB,CAAC,CAAC;IAEF,OAAO,KAAK,CAAC;AACf,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2967, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2973, "column": 0}, "map": {"version":3,"file":"flow.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/utils/flow.ts"],"sourcesContent":["type Flow = {\n  set(key: string, normalize?, callback?): Flow;\n  setAsync(key: string, normalize?, callback?): Promise<Flow>;\n};\n/**\n * @todo Combine with the `Container` util\n */\nexport function flow(\n  target: Record<keyof any, any>,\n  source: Record<keyof any, any>,\n): Flow {\n  return {\n    set(key: string, normalize?, callback?) {\n      if (source[key] === undefined) return this;\n\n      const value = normalize ? normalize.call(null, source[key]) : source[key];\n      if (callback) callback.call(null, value);\n      else if (typeof target[key] === 'function') target[key](value);\n      else target[key] = value;\n\n      return this;\n    },\n    async setAsync(key: string, normalize?, callback?) {\n      if (source[key] === undefined) return this;\n\n      const value = normalize\n        ? await normalize.call(null, source[key])\n        : source[key];\n      if (callback) callback.call(null, value);\n      else if (typeof target[key] === 'function') target[key](value);\n      else target[key] = value;\n\n      return this;\n    },\n  };\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOM,SAAU,IAAI,CAClB,MAA8B,EAC9B,MAA8B;IAE9B,OAAO;QACL,GAAG,EAAC,GAAW,EAAE,SAAU,EAAE,QAAS;YACpC,IAAI,MAAM,CAAC,GAAG,CAAC,KAAK,SAAS,EAAE,OAAO,IAAI,CAAC;YAE3C,MAAM,KAAK,GAAG,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YAC1E,IAAI,QAAQ,EAAE,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;iBACpC,IAAI,OAAO,MAAM,CAAC,GAAG,CAAC,KAAK,UAAU,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC;iBAC1D,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;YAEzB,OAAO,IAAI,CAAC;QACd,CAAC;QACK,QAAQ,EAAC,GAAW,EAAE,SAAU,EAAE,QAAS;;gBAC/C,IAAI,MAAM,CAAC,GAAG,CAAC,KAAK,SAAS,EAAE,OAAO,IAAI,CAAC;gBAE3C,MAAM,KAAK,GAAG,SAAS,GACnB,MAAM,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC,GACvC,MAAM,CAAC,GAAG,CAAC,CAAC;gBAChB,IAAI,QAAQ,EAAE,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;qBACpC,IAAI,OAAO,MAAM,CAAC,GAAG,CAAC,KAAK,UAAU,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC;qBAC1D,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;gBAEzB,OAAO,IAAI,CAAC;YACd,CAAC;SAAA;KACF,CAAC;AACJ,CAAC","ignoreList":[0]}},
    {"offset": {"line": 3025, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3031, "column": 0}, "map": {"version":3,"file":"wordCloud.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/wordCloud.ts"],"sourcesContent":["import { min, max } from '@antv/vendor/d3-array';\nimport { DataComponent as DC } from '../runtime';\nimport { flow } from './utils/flow';\nimport { tagCloud } from './utils/d3-cloud';\n\ntype Callable<T> = T | ((datum: any, i: number) => T);\n\n/**\n * See the document here: https://github.com/jasondavies/d3-cloud.\n */\nexport type WordCloudOptions = {\n  /**\n   * Internally, the layout uses setInterval to avoid locking up the browser’s event loop.\n   * If specified, time is the maximum amount of time that can be spent during the current timestep.\n   * If not specified, returns the current maximum time interval, which defaults to Infinity.\n   */\n  timeInterval: number;\n  /**\n   * If specified, sets the words array. If not specified, returns the current words array, which defaults to [].\n   */\n  words: any[];\n  /**\n   * If specified, sets the rectangular [width, height] of the layout.\n   * If not specified, returns the current size, which defaults to [1, 1].\n   */\n  size: [number, number];\n  /**\n   * If specified, sets the font accessor function, which indicates the font face for each word.\n   * If not specified, returns the current font accessor function, which defaults to \"serif\".\n   * A constant may be specified instead of a function.\n   */\n  font: Callable<CSSStyleDeclaration['fontFamily']>;\n  /**\n   * TODO: Cname of font.\n   */\n  fontFamily: Callable<CSSStyleDeclaration['fontFamily']>;\n  /**\n   * If specified, sets the fontStyle accessor function, which indicates the font style for each word.\n   * If not specified, returns the current fontStyle accessor function, which defaults to \"normal\".\n   * A constant may be specified instead of a function.\n   */\n  fontStyle: Callable<CSSStyleDeclaration['fontFamily']>;\n  /**\n   * If specified, sets the fontWeight accessor function, which indicates the font weight for each word.\n   * If not specified, returns the current fontWeight accessor function, which defaults to \"normal\".\n   * A constant may be specified instead of a function.\n   */\n  fontWeight: Callable<CSSStyleDeclaration['fontFamily']>;\n  /**\n   * If specified, sets the fontSize accessor function, which indicates the numerical font size for each word.\n   * If not specified, returns the current fontSize accessor function, which defaults to:\n   *\n   * > function(d) { return Math.sqrt(d.value); }\n   *\n   * A constant may be specified instead of a function.\n   *\n   * If the fontSize is an array, it will be normalized to the range of [min, max] of the data value.\n   * If the fontSize is a function, it will be called with the data value.\n   * If the fontSize is a number, it will be used as the constant value.\n   */\n  fontSize: number | [number, number] | ((d: any) => number);\n  /**\n   * If specified, sets the rotate accessor function, which indicates the rotation angle (in degrees) for each word.\n   * If not specified, returns the current rotate accessor function, which defaults to:\n   *\n   * function() { return (~~(Math.random() * 6) - 3) * 30; }\n   *\n   * A constant may be specified instead of a function.\n   */\n  rotate: Callable<number>;\n  /**\n   * If specified, sets the text accessor function, which indicates the text for each word.\n   * If not specified, returns the current text accessor function, which defaults to:\n   *\n   * function(d) { return d.text; }\n   *\n   * A constant may be specified instead of a function.\n   */\n  text: Callable<string>;\n  /**\n   * If specified, sets the padding accessor function, which indicates the numerical padding for each word.\n   * If not specified, returns the current padding, which defaults to 1.\n   */\n  padding: Callable<number>;\n\n  /**\n   * If specified, sets the internal random number generator, used for selecting the initial position of each word,\n   *  and the clockwise/counterclockwise direction of the spiral for each word.\n   * This should return a number in the range [0, 1).\n   * If not specified, returns the current random number generator, which defaults to Math.random.\n   */\n  random: () => number;\n\n  /**\n   * If specified, sets the spiral used for positioning words.\n   */\n  spiral: any;\n\n  /**\n   * If specified, sets the image mask used for positioning words.\n   */\n  canvas: HTMLCanvasElement;\n};\n\nconst DEFAULT_OPTIONS = {\n  fontSize: [20, 60],\n  font: 'Impact',\n  padding: 2,\n  rotate: function () {\n    return (~~(Math.random() * 6) - 3) * 30;\n  },\n};\n\n/**\n * Process the image mask of wordCloud.\n * @param img\n * @returns\n */\nexport function processImageMask(\n  img: HTMLImageElement | string,\n): Promise<HTMLImageElement> {\n  return new Promise((res, rej) => {\n    if (img instanceof HTMLImageElement) {\n      res(img);\n      return;\n    }\n    if (typeof img === 'string') {\n      const image = new Image();\n      image.crossOrigin = 'anonymous';\n      image.src = img;\n      image.onload = () => res(image);\n      image.onerror = () => {\n        console.error(`'image ${img} load failed !!!'`);\n        rej();\n      };\n      return;\n    }\n    rej();\n  });\n}\n\n/**\n * normalize fontSize range to d3-cloud fontSize function.\n * @param fontSize\n * @param range\n * @returns\n */\nexport function normalizeFontSize(fontSize: any, range?: [number, number]) {\n  if (typeof fontSize === 'function') return fontSize;\n\n  if (Array.isArray(fontSize)) {\n    const [fMin, fMax] = fontSize;\n    if (!range) return () => (fMax + fMin) / 2;\n\n    const [min, max] = range;\n    if (max === min) return () => (fMax + fMin) / 2;\n\n    return ({ value }) => ((fMax - fMin) / (max - min)) * (value - min) + fMin;\n  }\n  return () => fontSize;\n}\n\nexport const WordCloud: DC<Partial<WordCloudOptions>> = (options, context) => {\n  return async (data) => {\n    const cloudOptions = Object.assign({}, DEFAULT_OPTIONS, options, {\n      canvas: context.createCanvas,\n    });\n    const layout = tagCloud();\n\n    await flow(layout, cloudOptions)\n      .set('fontSize', (v) => {\n        const arr = data.map((d) => d.value);\n        return normalizeFontSize(v, [min(arr) as any, max(arr) as any]);\n      })\n      .set('font')\n      .set('fontStyle')\n      .set('fontWeight')\n      .set('padding')\n      .set('rotate')\n      .set('size')\n      .set('spiral')\n      .set('timeInterval')\n      .set('random')\n      .set('text')\n      .set('on')\n      .set('canvas')\n      .setAsync('imageMask', processImageMask, layout.createMask);\n\n    layout.words([...data]);\n\n    const result = layout.start();\n\n    const [cw, ch] = cloudOptions.size;\n    const defaultBounds = [\n      { x: 0, y: 0 },\n      { x: cw, y: ch },\n    ];\n\n    const { _bounds: bounds = defaultBounds, _tags, hasImage } = result;\n\n    const tags = _tags.map(({ x, y, font, ...rest }) => ({\n      ...rest,\n      x: x + cw / 2,\n      y: y + ch / 2,\n      fontFamily: font,\n    }));\n\n    // Append two data to replace the corner of top-left and bottom-right, avoid calculate the actual bounds will occur some error.\n    const [{ x: tlx, y: tly }, { x: brx, y: bry }] = bounds;\n    const invisibleText = { text: '', value: 0, opacity: 0, fontSize: 0 };\n    tags.push(\n      {\n        ...invisibleText,\n        x: hasImage ? 0 : tlx,\n        y: hasImage ? 0 : tly,\n      },\n      {\n        ...invisibleText,\n        x: hasImage ? cw : brx,\n        y: hasImage ? ch : bry,\n      },\n    );\n\n    return tags;\n  };\n};\n\nWordCloud.props = {};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3181, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3187, "column": 0}, "map": {"version":3,"file":"ema.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/data/ema.ts"],"sourcesContent":["import { DataComponent as DC } from '../runtime';\nimport { EMADataTransform } from '../spec';\n\nexport function ema(values: number[], alpha: number): number[] {\n  if (alpha < 0 || alpha > 1) {\n    throw new Error('alpha must be between 0 and 1.');\n  }\n  if (values.length === 0) {\n    return [];\n  }\n\n  let last = values[0];\n  const smoothed: number[] = [];\n\n  for (const point of values) {\n    if (point === null || point === undefined) {\n      // 如果没有数据的话，使用最近的值\n      smoothed.push(point);\n      console.warn('EMA：The value is null or undefined', values);\n      continue;\n    }\n\n    if (last === null || last === undefined) {\n      last = point;\n    }\n\n    const smoothedVal = last * alpha + (1 - alpha) * point;\n    smoothed.push(smoothedVal);\n    last = smoothedVal;\n  }\n\n  return smoothed;\n}\n\nexport type EMAOptions = Omit<EMADataTransform, 'type'>;\n\n/**\n * https://en.wikipedia.org/wiki/Exponential_smoothing\n * @param options\n * @returns\n */\n\nexport const EMA: DC<EMAOptions> = (options) => {\n  const { field = 'y', alpha = 0.6, as = field } = options;\n\n  return (data) => {\n    const values = data.map((d) => {\n      return d[field];\n    });\n\n    const out = ema(values, alpha);\n\n    return data.map((d, i) => {\n      return {\n        ...d,\n        [as]: out[i],\n      };\n    });\n  };\n};\n\nEMA.props = {};\n"],"names":[],"mappings":";;;;AAGM,SAAU,GAAG,CAAC,MAAgB,EAAE,KAAa;IACjD,IAAI,KAAK,GAAG,CAAC,IAAI,KAAK,GAAG,CAAC,EAAE;QAC1B,MAAM,IAAI,KAAK,CAAC,gCAAgC,CAAC,CAAC;KACnD;IACD,IAAI,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE;QACvB,OAAO,EAAE,CAAC;KACX;IAED,IAAI,IAAI,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;IACrB,MAAM,QAAQ,GAAa,EAAE,CAAC;IAE9B,KAAK,MAAM,KAAK,IAAI,MAAM,CAAE;QAC1B,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,SAAS,EAAE;YACzC,kBAAkB;YAClB,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACrB,OAAO,CAAC,IAAI,CAAC,oCAAoC,EAAE,MAAM,CAAC,CAAC;YAC3D,SAAS;SACV;QAED,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,SAAS,EAAE;YACvC,IAAI,GAAG,KAAK,CAAC;SACd;QAED,MAAM,WAAW,GAAG,IAAI,GAAG,KAAK,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,GAAG,KAAK,CAAC;QACvD,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAC3B,IAAI,GAAG,WAAW,CAAC;KACpB;IAED,OAAO,QAAQ,CAAC;AAClB,CAAC;AAUM,MAAM,GAAG,GAAmB,CAAC,OAAO,EAAE,EAAE;IAC7C,MAAM,EAAE,KAAK,GAAG,GAAG,EAAE,KAAK,GAAG,GAAG,EAAE,EAAE,GAAG,KAAK,EAAE,GAAG,OAAO,CAAC;IAEzD,OAAO,CAAC,IAAI,EAAE,EAAE;QACd,MAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;YAC5B,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC;QAClB,CAAC,CAAC,CAAC;QAEH,MAAM,GAAG,GAAG,GAAG,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;QAE/B,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YACvB,OAAA,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA,CAAA,GACK,CAAC,GAAA;gBACJ,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;YAAA,GACZ;QACJ,CAAC,CAAC,CAAC;IACL,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,GAAG,CAAC,KAAK,GAAG,CAAA,CAAE,CAAC","ignoreList":[0]}},
    {"offset": {"line": 3231, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}