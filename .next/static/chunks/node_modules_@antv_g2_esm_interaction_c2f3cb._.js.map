{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"file":"utils.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/interaction/utils.ts"],"sourcesContent":["import { DisplayObject, Path, AABB } from '@antv/g';\nimport { path as d3Path } from '@antv/vendor/d3-path';\nimport { sort, bisector } from '@antv/vendor/d3-array';\nimport { Vector2 } from '@antv/coord';\nimport { filter } from '@antv/util';\nimport type { PathArray } from '@antv/util';\nimport { G2Element, select } from '../utils/selection';\nimport { mapObject } from '../utils/array';\nimport {\n  G2ViewDescriptor,\n  ELEMENT_CLASS_NAME,\n  PLOT_CLASS_NAME,\n} from '../runtime';\nimport { isOrdinalScale } from '../utils/scale';\nimport { rect } from '../shape/interval/color';\nimport { isPolar, isTranspose } from '../utils/coordinate';\nimport { getStyle } from '../utils/style';\nimport { reorder } from '../shape/utils';\nimport { angle, angleBetween, sub } from '../utils/vector';\nimport { traverseElements } from '../utils/traverse-elements';\n\n/**\n * Given root of chart returns elements to be manipulated\n */\nexport function selectG2Elements(root: DisplayObject): DisplayObject[] {\n  return select(root)\n    .selectAll(`.${ELEMENT_CLASS_NAME}`)\n    .nodes()\n    .filter((d) => !d.__removed__);\n}\n\nexport function selectFacetG2Elements(target, viewInstances): DisplayObject[] {\n  return selectFacetViews(target, viewInstances).flatMap(({ container }) =>\n    selectG2Elements(container),\n  );\n}\n\nexport function selectFacetViews(target, viewInstances) {\n  return viewInstances.filter(\n    (d) => d !== target && d.options.parentKey === target.options.key,\n  );\n}\n\nexport function selectPlotArea(root: DisplayObject): DisplayObject {\n  return select(root).select(`.${PLOT_CLASS_NAME}`).node();\n}\n\nexport function bboxOf(element: DisplayObject) {\n  // The geometry bounds of a group is empty, so return the render bounds.\n  if (element.tagName === 'g') return element.getRenderBounds();\n\n  // Compute the geometry bounds related to the parent.\n  const bounds = element.getGeometryBounds();\n  const aabb = new AABB();\n  aabb.setFromTransformedAABB(bounds, element.getWorldTransform());\n  return aabb;\n}\n\nexport function mousePosition(target, event) {\n  const { offsetX, offsetY } = event;\n  const bbox = bboxOf(target);\n  const {\n    min: [x, y],\n    max: [x1, y1],\n  } = bbox;\n  const isOutX = offsetX < x || offsetX > x1;\n  const isOutY = offsetY < y || offsetY > y1;\n  if (isOutX || isOutY) return null;\n  return [offsetX - x, offsetY - y];\n}\n\n/**\n * @todo Pass bbox rather than calc it here.\n */\nexport function brushMousePosition(target, event) {\n  const { offsetX, offsetY } = event;\n  const [x, y, x1, y1] = boundsOfBrushArea(target);\n  return [\n    Math.min(x1, Math.max(x, offsetX)) - x,\n    Math.min(y1, Math.max(y, offsetY)) - y,\n  ];\n}\n\nexport function boundsOfBrushArea(target) {\n  // Calc bbox after clipping.\n  const bbox = target.getRenderBounds();\n  const {\n    min: [x0, y0],\n    max: [x1, y1],\n  } = bbox;\n  return [x0, y0, x1, y1];\n}\n\nexport function createColorKey(view) {\n  return (element) => element.__data__.color;\n}\n\nexport function createXKey(view) {\n  return (element) => element.__data__.x;\n}\n\nexport function createDatumof(view: G2ViewDescriptor | G2ViewDescriptor[]) {\n  const views = Array.isArray(view) ? view : [view];\n  const keyData = new Map(\n    views.flatMap((view) => {\n      const marks = Array.from(view.markState.keys());\n      return marks.map((mark) => [keyed(view.key, mark.key), mark.data]);\n    }),\n  );\n  return (element) => {\n    const { index, markKey, viewKey } = element.__data__;\n    const data = keyData.get(keyed(viewKey, markKey));\n    return data[index];\n  };\n}\n\n/**\n * A state manager for G2Element.\n * The keys for each state's style start with the state name.\n * { selectedFill, selectedStroke } is for selected state.\n * { unselectedFill, unselectedStroke } is for unselected state.\n */\n\n/**\n * Define state priorities, higher number means higher priority.\n */\nconst STATE_PRIORITIES = {\n  selected: 3,\n  unselected: 3,\n  active: 2,\n  inactive: 2,\n  default: 1,\n};\n\n/**\n * Define state groups, states in the same group are mutually exclusive.\n */\nconst STATE_GROUPS = {\n  selection: ['selected', 'unselected'],\n  highlight: ['active', 'inactive'],\n};\n\nconst setElementAttribute = (element: DisplayObject, k: string, v: string) => {\n  traverseElements(element, (el) => {\n    if ('setAttribute' in el && typeof el.setAttribute === 'function') {\n      (el as DisplayObject).setAttribute(k, v);\n    }\n  });\n};\n\nexport function createUseState(\n  style: Record<string, any>,\n  elements: Element[],\n) {\n  // Apply interaction style to all elements.\n  elements.forEach((element) => {\n    // @ts-ignore\n    const currentStyle = element.__interactionStyle__;\n\n    if (currentStyle) {\n      // @ts-ignore\n      element.__interactionStyle__ = { ...currentStyle, ...style };\n    } else {\n      // @ts-ignore\n      element.__interactionStyle__ = style;\n    }\n  });\n\n  return (valueof = (d, element) => d, setAttribute = setElementAttribute) =>\n    useState(undefined, valueof, setAttribute);\n}\n\nexport function useState(\n  style: Record<string, any> | undefined,\n  valueof = (d, element) => d,\n  setAttribute = setElementAttribute,\n) {\n  const STATES = '__states__';\n  const ORIGINAL = '__ordinal__';\n\n  // Get state priority.\n  const getStatePriority = (stateName) =>\n    STATE_PRIORITIES[stateName] || STATE_PRIORITIES.default;\n\n  // Get the group that a state belongs to.\n  const getStateGroup = (stateName) => {\n    return Object.entries(STATE_GROUPS).find(([_, states]) =>\n      states.includes(stateName),\n    )?.[0];\n  };\n\n  // Mix style for each state and apply it to element.\n  const applyState = (element) => {\n    const { [STATES]: states = [], [ORIGINAL]: original = {} } = element;\n\n    // Sort states by priority.\n    const sortedStates = [...states].sort(\n      (a, b) => getStatePriority(b) - getStatePriority(a),\n    );\n\n    // Create a Map to track the highest priority state for each style attribute.\n    const styleAttributeMap = new Map();\n\n    // Iterate through all states to find the highest priority state for each style attribute.\n    for (const state of sortedStates) {\n      // If style exists, use it directly, else use interaction style on element.\n      const stateStyles =\n        (style ?? element.__interactionStyle__)?.[state] || {};\n      for (const [key, value] of Object.entries(stateStyles)) {\n        if (!styleAttributeMap.has(key)) {\n          styleAttributeMap.set(key, value);\n        }\n      }\n    }\n\n    // Apply styles including original styles.\n    const finalStyle = { ...original };\n    for (const [key, value] of styleAttributeMap.entries()) {\n      finalStyle[key] = value;\n    }\n\n    if (Object.keys(finalStyle).length === 0) return;\n\n    // Apply final styles to the element.\n    for (const [key, value] of Object.entries(finalStyle)) {\n      const currentValue = getStyle(element, key);\n      const v = valueof(value, element);\n      setAttribute(element, key, v);\n      // Store the attribute if it does not exist in original.\n      if (!(key in original)) original[key] = currentValue;\n    }\n    element[ORIGINAL] = original;\n  };\n\n  const initState = (element) => {\n    if (element[STATES]) return;\n    element[STATES] = [];\n    return;\n  };\n\n  /**\n   * Update states and update element, handle conflict states automatically.\n   */\n  const updateState = (element, ...states) => {\n    initState(element);\n    const currentStates = element[STATES];\n\n    // Collect all new state groups.\n    const newStateGroups = new Set(\n      states\n        .map((state) => getStateGroup(state))\n        .filter((group) => group !== undefined),\n    );\n\n    // Exclude old states that are in the new state group.\n    const remainingStates = currentStates.filter(\n      (existingState) => !newStateGroups.has(getStateGroup(existingState)),\n    );\n\n    element[STATES] = [...remainingStates, ...states];\n    applyState(element);\n  };\n\n  /**\n   * Set the states and update element.\n   */\n  const setState = (element, ...states) => {\n    initState(element);\n    element[STATES] = [...states];\n    applyState(element);\n  };\n\n  /**\n   * Remove the states and update element.\n   */\n  const removeState = (element, ...states) => {\n    initState(element);\n    for (const state of states) {\n      const index = element[STATES].indexOf(state);\n      if (index !== -1) {\n        element[STATES].splice(index, 1);\n      }\n    }\n    applyState(element);\n  };\n\n  const hasState = (element, state) => {\n    initState(element);\n    return element[STATES].indexOf(state) !== -1;\n  };\n\n  return {\n    setState,\n    updateState,\n    removeState,\n    hasState,\n  };\n}\n\nfunction isEmptyObject(obj: any): boolean {\n  if (obj === undefined) return true;\n  if (typeof obj !== 'object') return false;\n  return Object.keys(obj).length === 0;\n}\n\n// A function to generate key for mark each view.\nfunction keyed(viewKey, markKey) {\n  return `${viewKey},${markKey}`;\n}\n\nexport function mergeState(options, states) {\n  // Index state by mark key and view key.\n  const views = Array.isArray(options) ? options : [options];\n  const markState = views.flatMap((view) =>\n    view.marks.map((mark) => [keyed(view.key, mark.key), mark.state]),\n  );\n\n  const state = {};\n  // Update each specified state.\n  for (const descriptor of states) {\n    const [key, defaults] = Array.isArray(descriptor)\n      ? descriptor\n      : [descriptor, {}];\n\n    // Update each specified mark state.\n    state[key] = markState.reduce((merged, mark) => {\n      // Normalize state.\n      const [markKey, markState = {}] = mark;\n      const selectedState = isEmptyObject(markState[key])\n        ? defaults\n        : markState[key];\n\n      // Update each state attribute.\n      for (const [attr, value] of Object.entries(selectedState)) {\n        const oldValue = merged[attr];\n        const newValue = (data, index, array, element) => {\n          const k = keyed(element.__data__.viewKey, element.__data__.markKey);\n          if (markKey !== k) return oldValue?.(data, index, array, element);\n          if (typeof value !== 'function') return value;\n          return value(data, index, array, element);\n        };\n        merged[attr] = newValue;\n      }\n      return merged;\n    }, {});\n  }\n  return state;\n}\n\n// @todo Support elements from different view.\nexport function createValueof(elements, datum) {\n  const elementIndex = new Map(elements.map((d, i) => [d, i]));\n  const fa = datum ? elements.map(datum) : elements;\n  return (d, e) => {\n    if (typeof d !== 'function') return d;\n    const i = elementIndex.get(e);\n    const fe = datum ? datum(e) : e;\n    return d(fe, i, fa, e);\n  };\n}\n\nexport function renderLink({\n  link = false,\n  valueof = (d, element) => d,\n  coordinate,\n  ...style\n}) {\n  const LINK_CLASS_NAME = 'element-link';\n\n  if (!link) return [() => {}, () => {}];\n\n  const pointsOf = (element) => element.__data__.points;\n\n  const pathPointsOf = (P0, P1) => {\n    const [, p1, p2] = P0;\n    const [p0, , , p3] = P1;\n    const P: Vector2[] = [p1, p0, p3, p2];\n    return P;\n  };\n\n  const append = (elements) => {\n    if (elements.length <= 1) return;\n\n    // Sort elements by normalized x to avoid cross.\n    const sortedElements = sort<G2Element>(elements, (e0, e1) => {\n      const { x: x0 } = e0.__data__;\n      const { x: x1 } = e1.__data__;\n      const dx = x0 - x1;\n      return dx;\n    });\n\n    for (let i = 1; i < sortedElements.length; i++) {\n      const p = d3Path();\n      const e0 = sortedElements[i - 1];\n      const e1 = sortedElements[i];\n      const [p0, p1, p2, p3] = pathPointsOf(pointsOf(e0), pointsOf(e1));\n      p.moveTo(...p0);\n      p.lineTo(...p1);\n      p.lineTo(...p2);\n      p.lineTo(...p3);\n      p.closePath();\n      const { fill = e0.getAttribute('fill'), ...rest } = mapObject(\n        style,\n        (d) => valueof(d, e0),\n      );\n      const link = new Path({\n        className: LINK_CLASS_NAME,\n        style: {\n          d: p.toString(),\n          fill,\n          zIndex: -2,\n          ...rest,\n        },\n      });\n      // @ts-ignore\n      e0.link?.remove();\n      e0.parentNode.appendChild(link);\n      // @ts-ignore\n      e0.link = link;\n    }\n  };\n\n  const remove = (element) => {\n    element.link?.remove();\n    element.link = null;\n  };\n\n  return [append, remove] as const;\n}\n\n// Apply translate to mock slice out.\nexport function offsetTransform(element, offset, coordinate) {\n  const append = (t) => {\n    const { transform } = element.style;\n    return transform ? `${transform} ${t}` : t;\n  };\n  if (isPolar(coordinate)) {\n    const { points } = element.__data__;\n    const [p0, p1] = isTranspose(coordinate) ? reorder(points) : points;\n    const center = coordinate.getCenter();\n    const v0 = sub(p0, center);\n    const v1 = sub(p1, center);\n    const a0 = angle(v0);\n    const da = angleBetween(v0, v1);\n    const amid = a0 + da / 2;\n    const dx = offset * Math.cos(amid);\n    const dy = offset * Math.sin(amid);\n    return append(`translate(${dx}, ${dy})`);\n  }\n  if (isTranspose(coordinate)) return append(`translate(${offset}, 0)`);\n  return append(`translate(0, ${-offset})`);\n}\n\nexport function renderBackground({\n  document,\n  background,\n  scale,\n  coordinate,\n  valueof,\n  ...rest\n}) {\n  const BACKGROUND_CLASS_NAME = 'element-background';\n\n  // Don't have background.\n  if (!background) return [() => {}, () => {}];\n\n  const extentOf = (scale, x, padding) => {\n    const ax = scale.invert(x);\n    const mid = x + scale.getBandWidth(ax) / 2;\n    const half = scale.getStep(ax) / 2;\n    const offset = half * padding;\n    return [mid - half + offset, mid + half - offset];\n  };\n\n  const sizeXOf = (element, padding) => {\n    const { x: scaleX } = scale;\n    if (!isOrdinalScale(scaleX)) return [0, 1];\n    const { __data__: data } = element;\n    const { x } = data;\n    const [e1, e2] = extentOf(scaleX, x, padding);\n    return [e1, e2];\n  };\n\n  const sizeYOf = (element, padding) => {\n    const { y: scaleY } = scale;\n    if (!isOrdinalScale(scaleY)) return [0, 1];\n    const { __data__: data } = element;\n    const { y } = data;\n    const [e1, e2] = extentOf(scaleY, y, padding);\n    return [e1, e2];\n  };\n\n  const bandShapeOf = (element, style) => {\n    const { padding } = style;\n    const [x1, x2] = sizeXOf(element, padding);\n    const [y1, y2] = sizeYOf(element, padding);\n    const points = [\n      [x1, y1],\n      [x2, y1],\n      [x2, y2],\n      [x1, y2],\n    ].map((d) => coordinate.map(d));\n    const { __data__: data } = element;\n    const { y: dy, y1: dy1 } = data;\n    return rect(document, points, { y: dy, y1: dy1 }, coordinate, style);\n  };\n\n  // Shape without ordinal style.\n  // Clone and scale it.\n  const cloneShapeOf = (element, style) => {\n    const {\n      transform = 'scale(1.2, 1.2)',\n      transformOrigin = 'center center',\n      stroke = '',\n      ...rest\n    } = style;\n    const finalStyle = { transform, transformOrigin, stroke, ...rest };\n    const shape = element.cloneNode(true);\n    for (const [key, value] of Object.entries(finalStyle)) {\n      shape.style[key] = value;\n    }\n    return shape;\n  };\n\n  const isOrdinalShape = () => {\n    const { x, y } = scale;\n    return [x, y].some(isOrdinalScale);\n  };\n\n  const append = (element) => {\n    if (element.background) element.background.remove();\n    const {\n      fill = '#CCD6EC',\n      fillOpacity = 0.3,\n      zIndex = -2,\n      padding = 0.001,\n      lineWidth = 0,\n      ...style\n    } = mapObject(rest, (d) => valueof(d, element));\n    const finalStyle = {\n      ...style,\n      fill,\n      fillOpacity,\n      zIndex,\n      padding,\n      lineWidth,\n    };\n    const shapeOf = isOrdinalShape() ? bandShapeOf : cloneShapeOf;\n    const shape = shapeOf(element, finalStyle);\n    shape.className = BACKGROUND_CLASS_NAME;\n    element.parentNode.parentNode.appendChild(shape);\n    element.background = shape;\n  };\n\n  const remove = (element) => {\n    element.background?.remove();\n    element.background = null;\n  };\n\n  const is = (element) => {\n    return element.className === BACKGROUND_CLASS_NAME;\n  };\n\n  return [append, remove, is] as const;\n}\n\nexport function setCursor(root, cursor) {\n  // @ts-ignore\n  const canvas = root.getRootNode().defaultView;\n  const dom = canvas.getContextService().getDomElement();\n  if (dom?.style) {\n    root.cursor = dom.style.cursor;\n    dom.style.cursor = cursor;\n  }\n}\n\nexport function restoreCursor(root) {\n  setCursor(root, root.cursor);\n}\n\nexport function selectElementByData(elements, data, datum) {\n  return elements.find((d) =>\n    Object.entries(data).every(([key, value]) => datum(d)[key] === value),\n  );\n}\n\nexport function getPointsR(point: number[], nextPoint: number[]) {\n  return Math.sqrt(\n    Math.pow(point[0] - nextPoint[0], 2) + Math.pow(point[1] - nextPoint[1], 2),\n  );\n}\n\n// Points create path.\nexport function getPointsPath(points: number[][], isClose = false) {\n  const path = filter(points, (d) => !!d).map((d, i) => {\n    return [i === 0 ? 'M' : 'L', ...d];\n  }) as PathArray;\n\n  if (isClose) {\n    path.push(['Z']);\n  }\n  return path;\n}\n\n// Get element.\nexport function getElements(plot) {\n  return plot.querySelectorAll('.element');\n}\n\n// Get Theta coordinate round path.\nexport function getThetaPath(\n  center: number[],\n  points: number[][],\n  isBig = 0,\n): PathArray {\n  const path = [['M', ...points[1]]];\n  const innerRadius = getPointsR(center, points[1]);\n  const outerRadius = getPointsR(center, points[0]);\n\n  if (innerRadius === 0) {\n    path.push(\n      ['L', ...points[3]],\n      ['A', outerRadius, outerRadius, 0, isBig, 1, ...points[0]],\n      ['Z'],\n    );\n  } else {\n    path.push(\n      ['A', innerRadius, innerRadius, 0, isBig, 0, ...points[2]],\n      ['L', ...points[3]],\n      ['A', outerRadius, outerRadius, 0, isBig, 1, ...points[0]],\n      ['Z'],\n    );\n  }\n  return path as PathArray;\n}\n\nexport function maybeRoot(node, rootOf) {\n  if (rootOf(node)) return node;\n  let root = node.parent;\n  while (root && !rootOf(root)) root = root.parent;\n  return root;\n}\n\nexport const VALID_FIND_BY_X_MARKS = ['interval', 'point', 'density'];\n/**\n * @description Create function that can find element by event.\n * @returns Element find function.\n */\nexport function createFindElementByEvent({\n  elementsof,\n  root,\n  coordinate,\n  scale,\n  validFindByXMarks = VALID_FIND_BY_X_MARKS,\n}) {\n  let elements = elementsof(root);\n  const getValidFindByXMarks = (d) => validFindByXMarks.includes(d.markType);\n  const hasValidFindByXMarks = elements.find(getValidFindByXMarks);\n\n  // Try to find element by x position.\n  if (hasValidFindByXMarks) {\n    elements = elements.filter(getValidFindByXMarks);\n\n    const scaleX = scale.x;\n    const scaleSeries = scale.series;\n    const bandWidth = scaleX?.getBandWidth?.() ?? 0;\n    const xof = scaleSeries\n      ? (d) => {\n          const seriesCount = Math.round(1 / (scaleSeries.valueBandWidth ?? 1));\n          return (\n            d.__data__.x +\n            (d.__data__.series ?? 0) * bandWidth +\n            bandWidth / (seriesCount * 2)\n          );\n        }\n      : (d) => d.__data__.x + bandWidth / 2;\n\n    // Sort for bisector search.\n    elements.sort((a, b) => xof(a) - xof(b));\n\n    return (event) => {\n      const mouse = mousePosition(root, event);\n      if (!mouse) return;\n      const [abstractX] = coordinate.invert(mouse);\n      const search = bisector(xof).center;\n      const i = search(elements, abstractX);\n      const target = elements[i];\n\n      return target;\n    };\n  }\n\n  // If there is no valid element find by x, just return the target element.\n  return (event) => {\n    const { target } = event;\n    return maybeRoot(target, (node) => {\n      if (!node.classList) return false;\n      return node.classList.includes('element');\n    });\n  };\n}\n\n/**\n * Calculate adaptive sensitivity multiplier (inversely proportional to range).\n *\n * - Smaller range → higher sensitivity\n * - Larger range → lower sensitivity\n *\n * @param range Current range (0-1)\n * @returns Sensitivity multiplier (0.1x ~ 100x)\n */\nexport function calculateSensitivityMultiplier(range: number): number {\n  // Base sensitivity factor (adjust this to tune overall responsiveness)\n  const BASE_FACTOR = 0.01;\n  const MIN_RANGE_FOR_SENSITIVITY = 0.0001;\n  const MIN_MULTIPLIER = 0.1;\n  const MAX_MULTIPLIER = 100;\n\n  // Simple inverse relationship with reasonable bounds\n  const multiplier = BASE_FACTOR / Math.max(range, MIN_RANGE_FOR_SENSITIVITY);\n\n  // Clamp to reasonable range: 0.1x to 100x\n  return Math.max(MIN_MULTIPLIER, Math.min(MAX_MULTIPLIER, multiplier));\n}\n\n/**\n * Check if a value is considered \"falsy\" for configuration purposes.\n * Returns true for false, null, or undefined values.\n * Uses type predicate for better type safety.\n *\n * @param value The value to check\n * @returns true if the value is falsy (false, null, undefined)\n */\nexport function isFalsyValue(\n  value: unknown,\n): value is false | null | undefined {\n  return value === false || value === null || value === undefined;\n}\n\n/**\n * Extract channel data with preserved X-Y relationships from all marks in a view.\n * Supports multi-mark scenarios, bin transforms, and array-encoded Y values.\n *\n * @param view The view object containing markState\n * @returns Object containing flattened values for backward compatibility and structured mark data\n */\nexport function extractChannelValues(view: G2ViewDescriptor): {\n  xChannelValues: unknown[];\n  yChannelValues: unknown[];\n  markDataPairs: Array<{\n    markKey: string;\n    channelData: { [key: string]: unknown[] };\n  }>;\n} {\n  const allXChannelValues: unknown[][] = [];\n  const allYChannelValues: unknown[][] = [];\n  const markDataPairs: Array<{\n    markKey: string;\n    channelData: { [key: string]: unknown[] };\n  }> = [];\n  const marks = view.markState;\n\n  if (marks) {\n    for (const [mark, state] of marks.entries()) {\n      if (state?.channels) {\n        const channelData: { [key: string]: any[] } = {};\n\n        // Process each channel for the current mark\n        for (const channel of state.channels) {\n          if (channel?.name === 'x' && channel.values?.length > 0) {\n            // Collect X values (supports bin transforms with multiple values)\n            let xValues: unknown[] = [];\n            for (const valueItem of channel.values) {\n              if (valueItem?.value) {\n                xValues = xValues.concat(valueItem.value);\n                allXChannelValues.push(valueItem.value);\n              }\n            }\n            channelData['x'] = xValues;\n          } else if (\n            channel &&\n            (channel.name === 'y' || channel.name.startsWith('y')) && // Support y, y1, y2, y3, etc.\n            channel.values?.length > 0\n          ) {\n            const channelName = channel.name;\n            const channelValues: unknown[] = [];\n\n            // Handle Y and Y1+ channels for multi-Y marks (e.g., area charts, candlestick charts)\n            for (const valueItem of channel.values) {\n              if (valueItem?.value) {\n                const values = valueItem.value;\n                // Preserve G2's internal structure for array-encoded data\n                // Area charts: [[low1,low2,low3], [high1,high2,high3]]\n                // Line charts: [[value1,value2,value3]]\n                channelValues.push(values);\n                if (channelName === 'y' || channelName === 'y1') {\n                  // For global domain calculation, flatten only for allYChannelValues\n                  if (Array.isArray(values)) {\n                    allYChannelValues.push(values.flat());\n                  } else {\n                    allYChannelValues.push([values]);\n                  }\n                }\n              }\n            }\n\n            // Store all Y-related channels\n            channelData[channelName] = channelValues;\n          }\n        }\n\n        // Store mark data with preserved X-Y relationships\n        const xValues = channelData['x'] || [];\n        const yValues = channelData['y'] || [];\n\n        if (xValues.length > 0 && yValues.length > 0) {\n          markDataPairs.push({\n            markKey: mark.key || `mark_${markDataPairs.length}`,\n            channelData,\n          });\n        }\n      }\n    }\n  }\n\n  return {\n    xChannelValues: allXChannelValues.flat(),\n    yChannelValues: allYChannelValues.flat(),\n    markDataPairs,\n  };\n}\n\nexport function hasIndependentXYScale(\n  channel1: string,\n  marks: readonly unknown[],\n): boolean {\n  return marks.some((mark) => {\n    const { scale: markScale } = mark as Record<string, unknown>;\n    const channelScale = (markScale as Record<string, unknown>)?.[channel1] as\n      | Record<string, unknown>\n      | undefined;\n    return !!channelScale?.independent;\n  });\n}\n\n/**\n * Calculate multi-axis channel domains for slider filtering.\n * When independent scales are detected, generates separate domains for each axis (x1, y1, x2, y2, etc.)\n *\n * @param view The view object containing markState\n * @param initDomain Initial domain configuration\n * @param scaleX X scale instance\n * @param scaleY Y scale instance\n * @param independentInfo Pre-computed independent scale information\n * @returns Extended channelDomain object with multi-axis support\n */\nexport function calculateMultiAxisChannelDomains(\n  view: G2ViewDescriptor,\n  initDomain: Record<string, unknown>,\n  scaleX: { getOptions(): { domain: unknown } },\n  scaleY: { getOptions(): { domain: unknown } },\n  independentInfo?: IndependentScaleInfo,\n): Record<string, unknown[]> {\n  const channelDomain: Record<string, unknown[]> = {\n    x:\n      (initDomain.x as unknown[]) ||\n      (scaleX.getOptions().domain as unknown[]) ||\n      [],\n    y:\n      (initDomain.y as unknown[]) ||\n      (scaleY.getOptions().domain as unknown[]) ||\n      [],\n  };\n\n  // Use pre-computed info if available, otherwise calculate\n  const info = independentInfo || calculateAllIndependentScaleInfo(view);\n  const { hasIndependentX, hasIndependentY } = info;\n\n  if (hasIndependentX || hasIndependentY) {\n    let xIndex = 1;\n    let yIndex = 1;\n\n    // Iterate through marks to collect independent scale domains\n    for (const [mark, state] of view.markState.entries()) {\n      if (state?.channels) {\n        // Process independent X scales\n        if (hasIndependentX) {\n          const xChannel = state.channels.find((ch) => ch.name === 'x');\n          if (mark?.scale?.x?.independent) {\n            const xKey = `x${xIndex}`;\n            channelDomain[xKey] = xChannel.scale.domain;\n            xIndex++;\n          }\n        }\n\n        // Process independent Y scales\n        if (hasIndependentY) {\n          const yChannel = state.channels.find((ch) => ch.name === 'y');\n          if (mark?.scale?.y?.independent) {\n            const yKey = `y${yIndex}`;\n            channelDomain[yKey] = yChannel.scale.domain;\n            yIndex++;\n          }\n        }\n      }\n    }\n  }\n\n  return channelDomain;\n}\n\n/**\n * Independent scale information cache interface\n */\nexport interface IndependentScaleInfo {\n  hasIndependentX: boolean;\n  hasIndependentY: boolean;\n  marksWithSharedX: string[];\n  marksWithIndependentX: string[];\n  marksWithSharedY: string[];\n  marksWithIndependentY: string[];\n  markToXScaleMap: Map<string, string>;\n  markToYScaleMap: Map<string, string>;\n}\n\n/**\n * Calculate all independent scale information in one pass\n * This function performs a single traversal to compute all independent scale related information,\n * avoiding repeated calculations throughout the codebase.\n *\n * @param view The view object containing markState\n * @returns Complete independent scale information\n */\nexport function calculateAllIndependentScaleInfo(\n  view: G2ViewDescriptor,\n): IndependentScaleInfo {\n  const marks = Array.from(view.markState.keys());\n  const hasIndependentX = hasIndependentXYScale('x', marks);\n  const hasIndependentY = hasIndependentXYScale('y', marks);\n\n  const marksWithSharedX: string[] = [];\n  const marksWithIndependentX: string[] = [];\n  const marksWithSharedY: string[] = [];\n  const marksWithIndependentY: string[] = [];\n\n  const markToXScaleMap = new Map<string, string>();\n  const markToYScaleMap = new Map<string, string>();\n\n  // Single traversal to compute all classifications and mappings\n  let xIndex = 1;\n  let yIndex = 1;\n\n  for (const [mark] of view.markState.entries()) {\n    const markKey = mark.key;\n\n    // X axis processing\n    if (mark?.scale?.x?.independent) {\n      marksWithIndependentX.push(markKey);\n      markToXScaleMap.set(markKey, `x${xIndex++}`);\n    } else {\n      marksWithSharedX.push(markKey);\n      markToXScaleMap.set(markKey, 'x');\n    }\n\n    // Y axis processing\n    if (mark?.scale?.y?.independent) {\n      marksWithIndependentY.push(markKey);\n      markToYScaleMap.set(markKey, `y${yIndex++}`);\n    } else {\n      marksWithSharedY.push(markKey);\n      markToYScaleMap.set(markKey, 'y');\n    }\n  }\n\n  return {\n    hasIndependentX,\n    hasIndependentY,\n    marksWithSharedX,\n    marksWithIndependentX,\n    marksWithSharedY,\n    marksWithIndependentY,\n    markToXScaleMap,\n    markToYScaleMap,\n  };\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 902, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 908, "column": 0}, "map": {"version":3,"file":"event.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/interaction/event.ts"],"sourcesContent":["import { ChartEvent } from '../utils/event';\nimport { dataOf } from '../utils/helper';\nimport { maybeRoot } from './utils';\n\n// For extended component\nfunction maybeComponentRoot(node) {\n  return maybeRoot(node, (node) => node.className === 'component');\n}\n\n// For extended shape.\nfunction maybeElementRoot(node) {\n  return maybeRoot(node, (node) => node.className === 'element');\n}\n\n// For extended label.\nfunction maybeLabelRoot(node) {\n  return maybeRoot(node, (node) => node.className === 'label');\n}\n\nfunction bubblesEvent(eventType, view, emitter, predicate = (event) => true) {\n  return (e) => {\n    if (!predicate(e)) return;\n\n    // Emit plot events.\n    emitter.emit(`plot:${eventType}`, e);\n\n    const { target } = e;\n\n    // There is no target for pointerupoutside event if out of canvas.\n    if (!target) return;\n\n    const { className } = target;\n\n    // If target area is plot area, do not emit extra events.\n    if (className === 'plot') return;\n\n    // If target is element or child of element.\n    const elementRoot = maybeElementRoot(target);\n    // If target is component or child of component.\n    const componentRoot = maybeComponentRoot(target);\n    //  If target is babel or child of babel.\n    const babelRoot = maybeLabelRoot(target);\n\n    const root = elementRoot || componentRoot || babelRoot;\n\n    if (!root) return;\n    const { className: elementType, markType } = root;\n    const e1 = {\n      ...e,\n      nativeEvent: true,\n    };\n    if (elementType === 'element') {\n      e1['data'] = { data: dataOf(root, view) };\n      emitter.emit(`element:${eventType}`, e1);\n      emitter.emit(`${markType}:${eventType}`, e1);\n    } else if (elementType === 'label') {\n      //label children [Text2, Rect2, Path2],\n      e1['data'] = { data: root.attributes.datum };\n      emitter.emit(`label:${eventType}`, e1);\n      emitter.emit(`${className}:${eventType}`, e1);\n    } else {\n      emitter.emit(`component:${eventType}`, e1);\n      emitter.emit(`${className}:${eventType}`, e1);\n    }\n  };\n}\n\n// @todo Provide more info for event.dataset.\nexport function Event() {\n  return (context, _, emitter) => {\n    const { container, view } = context;\n\n    // Click events.\n    const click = bubblesEvent(\n      ChartEvent.CLICK,\n      view,\n      emitter,\n      (e) => e.detail === 1,\n    );\n    const dblclick = bubblesEvent(\n      ChartEvent.DBLCLICK,\n      view,\n      emitter,\n      (e) => e.detail === 2,\n    );\n\n    // Pointer events.\n    const pointertap = bubblesEvent(ChartEvent.POINTER_TAP, view, emitter);\n    const pointerdown = bubblesEvent(ChartEvent.POINTER_DOWN, view, emitter);\n    const pointerup = bubblesEvent(ChartEvent.POINTER_UP, view, emitter);\n    const pointerover = bubblesEvent(ChartEvent.POINTER_OVER, view, emitter);\n    const pointerout = bubblesEvent(ChartEvent.POINTER_OUT, view, emitter);\n    const pointermove = bubblesEvent(ChartEvent.POINTER_MOVE, view, emitter);\n    const pointerenter = bubblesEvent(ChartEvent.POINTER_ENTER, view, emitter);\n    const pointerleave = bubblesEvent(ChartEvent.POINTER_LEAVE, view, emitter);\n    const pointerupoutside = bubblesEvent(\n      ChartEvent.POINTER_UPOUTSIDE,\n      view,\n      emitter,\n    );\n\n    // Drag and drop events.\n    const dragstart = bubblesEvent(ChartEvent.DRAG_START, view, emitter);\n    const drag = bubblesEvent(ChartEvent.DRAG, view, emitter);\n    const dragend = bubblesEvent(ChartEvent.DRAG_END, view, emitter);\n    const dragenter = bubblesEvent(ChartEvent.DRAG_ENTER, view, emitter);\n    const dragleave = bubblesEvent(ChartEvent.DRAG_LEAVE, view, emitter);\n    const dragover = bubblesEvent(ChartEvent.DRAG_OVER, view, emitter);\n    const drop = bubblesEvent(ChartEvent.DROP, view, emitter);\n\n    // For legacy usage.\n    container.addEventListener('click', click);\n    container.addEventListener('click', dblclick);\n\n    // Recommend events.\n    container.addEventListener('pointertap', pointertap);\n    container.addEventListener('pointerdown', pointerdown);\n    container.addEventListener('pointerup', pointerup);\n    container.addEventListener('pointerover', pointerover);\n    container.addEventListener('pointerout', pointerout);\n    container.addEventListener('pointermove', pointermove);\n    container.addEventListener('pointerenter', pointerenter);\n    container.addEventListener('pointerleave', pointerleave);\n    container.addEventListener('pointerupoutside', pointerupoutside);\n\n    // Plugin events.\n    container.addEventListener('dragstart', dragstart);\n    container.addEventListener('drag', drag);\n    container.addEventListener('dragend', dragend);\n    container.addEventListener('dragenter', dragenter);\n    container.addEventListener('dragleave', dragleave);\n    container.addEventListener('dragover', dragover);\n    container.addEventListener('drop', drop);\n\n    return () => {\n      container.removeEventListener('click', click);\n      container.removeEventListener('click', dblclick);\n\n      container.removeEventListener('pointertap', pointertap);\n      container.removeEventListener('pointerdown', pointerdown);\n      container.removeEventListener('pointerup', pointerup);\n      container.removeEventListener('pointerover', pointerover);\n      container.removeEventListener('pointerout', pointerout);\n      container.removeEventListener('pointermove', pointermove);\n      container.removeEventListener('pointerenter', pointerenter);\n      container.removeEventListener('pointerleave', pointerleave);\n      container.removeEventListener('pointerupoutside', pointerupoutside);\n\n      container.removeEventListener('dragstart', dragstart);\n      container.removeEventListener('drag', drag);\n      container.removeEventListener('dragend', dragend);\n      container.removeEventListener('dragenter', dragenter);\n      container.removeEventListener('dragleave', dragleave);\n      container.removeEventListener('dragover', dragover);\n      container.removeEventListener('drop', drop);\n    };\n  };\n}\n\nEvent.props = {\n  reapplyWhenUpdate: true,\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1041, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1047, "column": 0}, "map": {"version":3,"file":"tooltip.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/interaction/tooltip.ts"],"sourcesContent":["import { Circle, DisplayObject, IElement, Line } from '@antv/g';\nimport { sort, group, mean, bisector, minIndex } from '@antv/vendor/d3-array';\nimport { deepMix, lowerFirst, set, throttle, last, isNumber } from '@antv/util';\nimport { Tooltip as TooltipComponent } from '@antv/component';\nimport {\n  defined,\n  groupNameOf,\n  subObject,\n  dataOf,\n  isHeatmap,\n} from '../utils/helper';\nimport { isTranspose, isPolar } from '../utils/coordinate';\nimport { angle, sub, dist } from '../utils/vector';\nimport { invert } from '../utils/scale';\nimport { BBox } from '../runtime';\nimport { CALLBACK_ITEM_SYMBOL } from '../runtime/transform';\nimport {\n  selectG2Elements,\n  createXKey,\n  selectPlotArea,\n  mousePosition,\n  selectFacetG2Elements,\n  createDatumof,\n  selectElementByData,\n  bboxOf,\n  maybeRoot,\n} from './utils';\n\nconst LOCKED_SYMBOL = 'tooltipLocked';\n\nfunction getContainer(\n  group: IElement,\n  mount?: string | HTMLElement,\n): HTMLElement {\n  if (mount) {\n    return typeof mount === 'string' ? document.querySelector(mount) : mount;\n  }\n  const view = group.ownerDocument?.defaultView;\n  if (!view) return;\n  const canvas: any = view.getContextService().getDomElement();\n  return canvas.parentElement as unknown as HTMLElement;\n}\n\nfunction getBounding(root: DisplayObject): BBox {\n  const bbox = root.getRenderBounds();\n  const {\n    min: [x1, y1],\n    max: [x2, y2],\n  } = bbox;\n  return {\n    x: x1,\n    y: y1,\n    width: x2 - x1,\n    height: y2 - y1,\n  };\n}\n\nfunction getContainerOffset(\n  container1: HTMLElement,\n  container2: HTMLElement,\n): { x: number; y: number } {\n  const r1 = container1.getBoundingClientRect();\n  const r2 = container2.getBoundingClientRect();\n  return {\n    x: r1.x - r2.x,\n    y: r1.y - r2.y,\n  };\n}\n\nfunction createTooltip(\n  container: HTMLElement,\n  x0,\n  y0,\n  position,\n  enterable,\n  bounding,\n  containerOffset,\n  css = {},\n  offset: [number, number] = [10, 10],\n) {\n  const defaults = {\n    '.g2-tooltip': {},\n    '.g2-tooltip-title': {\n      overflow: 'hidden',\n      'white-space': 'nowrap',\n      'text-overflow': 'ellipsis',\n    },\n  };\n  const tooltipElement = new TooltipComponent({\n    className: 'tooltip',\n    style: {\n      x: x0,\n      y: y0,\n      container: containerOffset,\n      data: [],\n      bounding,\n      position,\n      enterable,\n      title: '',\n      offset,\n      template: {\n        prefixCls: 'g2-',\n      },\n      style: deepMix(defaults, css),\n    },\n  });\n  container.appendChild(tooltipElement.HTMLTooltipElement);\n  return tooltipElement;\n}\n\nfunction showTooltip({\n  root,\n  data,\n  x,\n  y,\n  render,\n  event,\n  single,\n  position = 'right-bottom',\n  enterable = false,\n  css,\n  mount,\n  bounding,\n  offset,\n}) {\n  const container = getContainer(root, mount);\n  const canvasContainer = getContainer(root);\n  // All the views share the same tooltip.\n  const parent = single ? canvasContainer : root;\n  const b = bounding || getBounding(root);\n  const containerOffset = getContainerOffset(canvasContainer, container);\n  const {\n    tooltipElement = createTooltip(\n      container,\n      x,\n      y,\n      position,\n      enterable,\n      b,\n      containerOffset,\n      css,\n      offset,\n    ),\n  } = parent as any;\n  const { items, title = '' } = data;\n  tooltipElement.update({\n    x,\n    y,\n    data: items.map((item) => ({\n      ...item,\n      value: !item.value && item.value !== 0 ? '' : item.value,\n    })),\n    title,\n    position,\n    enterable,\n    container: containerOffset,\n    ...(render !== undefined && {\n      content: render(event, { items, title }),\n    }),\n  });\n  parent.tooltipElement = tooltipElement;\n}\n\nfunction hideTooltip({\n  root,\n  single,\n  emitter,\n  nativeEvent = true,\n  event = null,\n}) {\n  if (nativeEvent) {\n    emitter.emit('tooltip:hide', { nativeEvent });\n  }\n  const container = getContainer(root);\n  const parent = single ? container : root;\n  const { tooltipElement } = parent;\n  if (tooltipElement) {\n    // Must be clientX, clientY.\n    tooltipElement.hide(event?.clientX, event?.clientY);\n  }\n  hideRuleY(root);\n  hideRuleX(root);\n  hideMarker(root);\n}\n\nfunction destroyTooltip({ root, single }) {\n  const container = getContainer(root);\n  const parent = single ? container : root;\n  if (!parent) return;\n  const { tooltipElement } = parent;\n  if (tooltipElement) {\n    tooltipElement.destroy();\n    parent.tooltipElement = undefined;\n  }\n  hideRuleY(root);\n  hideRuleX(root);\n  hideMarker(root);\n}\n\nfunction showUndefined(item) {\n  const { value } = item;\n  return { ...item, value: value === undefined ? 'undefined' : value };\n}\n\nfunction heatmapItem(element) {\n  const { __data__: datum } = element;\n  const { title, items = [] } = datum;\n\n  // Check if there are user-defined items using the existing CALLBACK_ITEM_SYMBOL\n  const hasCustomItems = items.some((item) => CALLBACK_ITEM_SYMBOL in item);\n\n  if (hasCustomItems) {\n    // User has defined custom items, pass them through as is\n    const newItems = items\n      .filter(defined)\n      .map(({ color = itemColorOf(element), ...item }) => ({\n        ...item,\n        color,\n      }))\n      .map(showUndefined);\n    return {\n      ...(title && { title }),\n      items: newItems,\n    };\n  }\n\n  // No user-defined items, use special logic for heatmap\n  const normalizedX = datum?.normalized?.x ?? 0;\n  const originalDatum = element.parentNode?.__data__;\n  const encode = originalDatum?.encode ?? {};\n  const { x = {}, y = {}, color = {} } = encode;\n  const { value: vx = [] } = x;\n  const { value: vy = [] } = y;\n  const { value: vc = [] } = color;\n  const index = Math.min(Math.round(vx.length * normalizedX), vx.length - 1);\n\n  return {\n    title: `${vx[index]}, ${vy[index]}`,\n    items: [\n      {\n        name: color.field ?? 'value',\n        value: vc[index],\n        color: element.style?.fill || element.getAttribute?.('color') || '#000',\n      },\n    ],\n  };\n}\n\nfunction singleItem(element) {\n  const { __data__: datum } = element;\n  if (isHeatmap(element)) return heatmapItem(element);\n  const { title, items = [] } = datum;\n  const newItems = items\n    .filter(defined)\n    .map(({ color = itemColorOf(element), ...item }) => ({\n      ...item,\n      color,\n    }))\n    .map(showUndefined);\n  return {\n    ...(title && { title }),\n    items: newItems,\n  };\n}\n\nfunction itemColorOf(element) {\n  const fill = element.getAttribute('fill');\n  const stroke = element.getAttribute('stroke');\n  const { __data__: datum } = element;\n  const { color = fill && fill !== 'transparent' ? fill : stroke } = datum;\n  return color;\n}\n\nfunction unique(items, key = (d) => d) {\n  const valueName = new Map(items.map((d) => [key(d), d]));\n  return Array.from(valueName.values());\n}\n\nfunction groupItems(\n  elements,\n  scale,\n  groupName,\n  data = elements.map((d) => d['__data__']),\n  theme: Record<string, any> = {},\n) {\n  const key = (d) => (d instanceof Date ? +d : d);\n  const T = unique(\n    data.map((d) => d.title),\n    key,\n  ).filter(defined);\n  const newItems = data\n    .flatMap((datum, i) => {\n      // Fix: Get the corresponding element from datum instead of using index i\n      // When data and elements don't correspond one-to-one, using index will cause color errors\n      const element = datum.element || elements[i];\n      const { items = [], title } = datum;\n      const definedItems = items.filter(defined);\n\n      // If there is only one item, use groupName as title by default.\n      const useGroupName =\n        groupName !== undefined ? groupName : items.length <= 1 ? true : false;\n\n      return definedItems.map(\n        ({ color = itemColorOf(element) || theme.color, name, ...item }) => {\n          const groupName = groupNameOf(scale, datum);\n          // callback's priority is higher than groupName.\n          const name1 =\n            useGroupName && !(CALLBACK_ITEM_SYMBOL in item)\n              ? groupName || name\n              : name || groupName;\n\n          return {\n            ...item,\n            color,\n            name: name1 || title,\n          };\n        },\n      );\n    })\n    .map(showUndefined);\n  return {\n    ...(T.length > 0 && { title: T.join(',') }),\n    items: unique(\n      newItems,\n      (d) => `(${key(d.name)}, ${key(d.value)}, ${key(d.color)})`,\n    ),\n  };\n}\n\nfunction updateRuleX(\n  root,\n  points,\n  mouse,\n  {\n    plotWidth,\n    plotHeight,\n    mainWidth,\n    mainHeight,\n    startX,\n    startY,\n    transposed,\n    polar,\n    insetLeft,\n    insetTop,\n    ...rest\n  },\n) {\n  const defaults = {\n    lineWidth: 1,\n    stroke: '#1b1e23',\n    strokeOpacity: 0.5,\n    ...rest,\n  };\n\n  const createCircle = (cx, cy, r) => {\n    const circle = new Circle({\n      style: {\n        cx,\n        cy,\n        r,\n        ...defaults,\n      },\n    });\n    root.appendChild(circle);\n    return circle;\n  };\n\n  const createLine = (x1, x2, y1, y2) => {\n    const line = new Line({\n      style: {\n        x1,\n        x2,\n        y1,\n        y2,\n        ...defaults,\n      },\n    });\n    root.appendChild(line);\n    return line;\n  };\n\n  const minDistPoint = (mouse, points) => {\n    // only one point do not need compute\n    if (points.length === 1) {\n      return points[0];\n    }\n    const dists = points.map((p) => dist(p, mouse));\n    const minDistIndex = minIndex(dists, (d) => d);\n    return points[minDistIndex];\n  };\n\n  const target = minDistPoint(mouse, points);\n\n  const pointsOf = () => {\n    if (transposed)\n      return [\n        startX + target[0],\n        startX + target[0],\n        startY,\n        startY + plotHeight,\n      ];\n    return [startX, startX + plotWidth, target[1] + startY, target[1] + startY];\n  };\n\n  const pointsOfPolar = () => {\n    const cx = startX + insetLeft + mainWidth / 2;\n    const cy = startY + insetTop + mainHeight / 2;\n    const cdist = dist([cx, cy], target);\n    return [cx, cy, cdist];\n  };\n\n  if (polar) {\n    const [cx, cy, r] = pointsOfPolar();\n    const ruleX = root.ruleX || createCircle(cx, cy, r);\n    ruleX.style.cx = cx;\n    ruleX.style.cy = cy;\n    ruleX.style.r = r;\n    root.ruleX = ruleX;\n  } else {\n    const [x1, x2, y1, y2] = pointsOf();\n    const ruleX = root.ruleX || createLine(x1, x2, y1, y2);\n    ruleX.style.x1 = x1;\n    ruleX.style.x2 = x2;\n    ruleX.style.y1 = y1;\n    ruleX.style.y2 = y2;\n    root.ruleX = ruleX;\n  }\n}\n\nfunction updateRuleY(\n  root,\n  points,\n  {\n    plotWidth,\n    plotHeight,\n    mainWidth,\n    mainHeight,\n    startX,\n    startY,\n    transposed,\n    polar,\n    insetLeft,\n    insetTop,\n    ...rest\n  },\n) {\n  const defaults = {\n    lineWidth: 1,\n    stroke: '#1b1e23',\n    strokeOpacity: 0.5,\n    ...rest,\n  };\n\n  const Y = points.map((p) => p[1]);\n  const X = points.map((p) => p[0]);\n  const y = mean(Y);\n  const x = mean(X);\n\n  const pointsOf = () => {\n    if (polar) {\n      const r = Math.min(mainWidth, mainHeight) / 2;\n      const cx = startX + insetLeft + mainWidth / 2;\n      const cy = startY + insetTop + mainHeight / 2;\n      const a = angle(sub([x, y], [cx, cy]));\n      const x0 = cx + r * Math.cos(a);\n      const y0 = cy + r * Math.sin(a);\n      return [cx, x0, cy, y0];\n    }\n    if (transposed) return [startX, startX + plotWidth, y + startY, y + startY];\n    return [x + startX, x + startX, startY, startY + plotHeight];\n  };\n\n  const [x1, x2, y1, y2] = pointsOf();\n  const createLine = () => {\n    const line = new Line({\n      style: {\n        x1,\n        x2,\n        y1,\n        y2,\n        ...defaults,\n      },\n    });\n\n    root.appendChild(line);\n    return line;\n  };\n  // Only update rule with defined series elements.\n  if (X.length > 0) {\n    const ruleY = root.ruleY || createLine();\n    ruleY.style.x1 = x1;\n    ruleY.style.x2 = x2;\n    ruleY.style.y1 = y1;\n    ruleY.style.y2 = y2;\n    root.ruleY = ruleY;\n  }\n}\n\nfunction hideRuleY(root) {\n  if (root.ruleY) {\n    root.ruleY.remove();\n    root.ruleY = undefined;\n  }\n}\n\nfunction hideRuleX(root) {\n  if (root.ruleX) {\n    root.ruleX.remove();\n    root.ruleX = undefined;\n  }\n}\n\nfunction updateMarker(root, { data, style, theme }) {\n  if (root.markers) root.markers.forEach((d) => d.remove());\n  const { type = '' } = style;\n\n  const markers = data\n    .filter((d) => {\n      const [{ x, y }] = d;\n      return defined(x) && defined(y);\n    })\n    .map((d) => {\n      const [{ color, element }, point] = d;\n      const originColor =\n        color || // encode value\n        element.style.fill ||\n        element.style.stroke ||\n        theme.color;\n      const fill = type === 'hollow' ? 'transparent' : originColor;\n      const stroke = type === 'hollow' ? originColor : '#fff';\n      const shape = new Circle({\n        className: 'g2-tooltip-marker',\n        style: {\n          cx: point[0],\n          cy: point[1],\n          fill,\n          r: 4,\n          stroke,\n          lineWidth: 2,\n          // Prevents blocking clicks on elements behind.\n          pointerEvents: 'none',\n          ...style,\n        },\n      });\n      return shape;\n    });\n  for (const marker of markers) root.appendChild(marker);\n  root.markers = markers;\n}\n\nfunction hideMarker(root) {\n  if (root.markers) {\n    root.markers.forEach((d) => d.remove());\n    root.markers = [];\n  }\n}\n\nfunction interactionKeyof(markState, key) {\n  return Array.from(markState.values()).some(\n    // @ts-ignore\n    (d) => d.interaction?.[key],\n  );\n}\n\nexport function maybeValue(specified, defaults) {\n  return specified === undefined ? defaults : specified;\n}\n\nfunction isEmptyTooltipData(data) {\n  const { title, items } = data;\n  if (items.length === 0 && title === undefined) return true;\n  return false;\n}\n\nfunction hasSeries(markState): boolean {\n  return Array.from(markState.values()).some(\n    // @ts-ignore\n    (d) => d.interaction?.seriesTooltip && d.tooltip,\n  );\n}\n\nfunction normalizedPosition(coordinate, position) {\n  const {\n    innerWidth,\n    innerHeight,\n    marginLeft,\n    paddingLeft,\n    insetLeft,\n    marginTop,\n    paddingTop,\n    insetTop,\n  } = coordinate.getOptions();\n  return {\n    x: (position.x - marginLeft - paddingLeft - insetLeft) / innerWidth,\n    y: (position.y - marginTop - paddingTop - insetTop) / innerHeight,\n  };\n}\n\n/**\n * Determine whether the band widths occupied by different categories are the same.\n */\nfunction equalBandWidth(scale) {\n  const { x } = scale;\n  if (!x || !x.valueBandWidth) return true;\n  const { valueBandWidth } = x;\n  if (isNumber(valueBandWidth)) return true;\n  return new Set(valueBandWidth.values()).size === 1;\n}\n\n/**\n * Get the index of the element closest to the abstractX\n */\nfunction findNearestElementIndex(scale, abstractX): number {\n  const { adjustedRange, valueBandWidth, valueStep } = scale;\n  const values: number[] = Array.from(valueBandWidth.values());\n  const steps: number[] = Array.from(valueStep.values());\n  const ranges = adjustedRange.map((v, i) => {\n    const halfStep = (steps[i] - values[i]) / 2;\n    return [v - halfStep, v + values[i] + halfStep];\n  });\n  const index = ranges.findIndex(\n    ([start, end]) => start <= abstractX && abstractX <= end,\n  );\n  if (index !== -1) return index;\n  return abstractX > 0.5 ? adjustedRange.length - 1 : 0;\n}\n\n/**\n * Finds a single element based on the mouse event in a non-series context (e.g., single item tooltip).\n * @param root - The root display object of the chart.\n * @param event - The mouse event object (e.g., pointermove, pointerdown).\n * @param elements - Array of chart elements to search within.\n * @param coordinate - The coordinate system of the chart (e.g., Cartesian, polar).\n * @param scale - The scale configurations (e.g., x, series scales).\n * @param shared - Whether the tooltip is shared among multiple elements (e.g., grouped bars).\n * @returns The matched display object or `undefined` if no element is found.\n * @description\n * - Handles bar charts by sorting elements and using bisector search for efficient lookup.\n * - For non-bar charts, directly finds the target element from the event's target.\n * - Adjusts for bar spacing in grouped charts when `shared` is false.\n */\nexport function findSingleElement({\n  root,\n  event,\n  elements = [],\n  coordinate,\n  scale,\n  shared,\n}): DisplayObject | undefined {\n  const inInterval = (d) => d.markType === 'interval';\n  const isBar = elements.every(inInterval) && !isPolar(coordinate);\n  const scaleX = scale.x;\n  const isEqualWidth = equalBandWidth(scale);\n  const scaleSeries = scale.series;\n  const bandWidth = scaleX?.getBandWidth?.() ?? 0;\n  const xof =\n    scaleSeries && scaleSeries.valueBandWidth\n      ? (d) => {\n          const seriesCount = Math.round(1 / scaleSeries.valueBandWidth);\n          return (\n            d.__data__.x +\n            d.__data__.series * bandWidth +\n            bandWidth / (seriesCount * 2)\n          );\n        }\n      : (d) => d.__data__.x + bandWidth / 2;\n\n  // Sort for bisector search.\n  if (isBar) elements.sort((a, b) => xof(a) - xof(b));\n  const findElementByTarget = (event) => {\n    const { target = last(elements) } = event;\n    return maybeRoot(target, (node) => {\n      if (!node.classList) return false;\n      if (isHeatmap(node)) {\n        set(\n          node,\n          '__data__.normalized',\n          normalizedPosition(coordinate, {\n            x: event.offsetX,\n            y: event.offsetY,\n          }),\n        );\n      }\n      return node.classList.includes('element');\n    });\n  };\n\n  const element = isBar\n    ? (event) => {\n        const mouse = mousePosition(root, event);\n        if (!mouse) return;\n        const [abstractX] = coordinate.invert(mouse);\n        const search = bisector(xof).center;\n        const i = isEqualWidth\n          ? search(elements, abstractX)\n          : findNearestElementIndex(scaleX, abstractX);\n        const target = elements[i];\n\n        if (!shared) {\n          // For grouped bar chart without shared options.\n          const isGrouped = elements.find(\n            (d) => d !== target && xof(d) === xof(target),\n          );\n          if (isGrouped) return findElementByTarget(event) || isGrouped;\n        }\n        return target;\n      }\n    : findElementByTarget;\n\n  return element(event);\n}\n\n/**\n * Finds series-related elements and data based on the mouse event for series tooltips.\n * @param root - The root display object of the chart.\n * @param event - The mouse event object (e.g., pointermove, pointerdown).\n * @param elements - Array of chart elements to search within.\n * @param coordinate - The coordinate system of the chart (e.g., Cartesian, polar).\n * @param scale - The scale configurations (e.g., x, series scales).\n * @param startX - The starting X position of the plot area.\n * @param startY - The starting Y position of the plot area.\n * @returns An object containing:\n * - `selectedElements`: Matched display objects (series and item elements).\n * - `selectedData`: Corresponding data records of the selected elements.\n * - `filteredSeriesData`: Filtered series data closest to the mouse focus.\n * - `abstractX`: A function to convert mouse coordinates to abstract X values.\n * @description\n * - Splits elements into series and item elements for targeted searching.\n * - Handles bar charts and band scales using bisector search and coordinate inversion.\n * - Sorts elements to ensure correct visual ordering (top-to-bottom or right-to-left in transposed mode).\n * - Filters and groups data to provide accurate tooltip information for series.\n */\nexport function findSeriesElement({\n  root,\n  event,\n  elements,\n  coordinate,\n  scale,\n  startX,\n  startY,\n}): {\n  selectedElements: DisplayObject[];\n  selectedData: Record<string, any>[];\n  filteredSeriesData: any[];\n  abstractX: (number) => number;\n} {\n  const transposed = isTranspose(coordinate);\n\n  // Split elements into series elements and item elements.\n  const seriesElements = [];\n  const itemElements = [];\n  for (const element of elements) {\n    const { __data__: data } = element;\n    const { seriesX, title, items } = data;\n    if (seriesX) seriesElements.push(element);\n    else if (title || items) itemElements.push(element);\n  }\n  const inInterval = (d) => d.markType === 'interval';\n  const isBar =\n    itemElements.length &&\n    itemElements.every(inInterval) &&\n    !isPolar(coordinate);\n  const xof = (d) => d.__data__.x;\n\n  // For band scale x, find the closest series element to focus,\n  // useful for interval + line mark.\n  const isBandScale = !!scale.x.getBandWidth;\n  const closest = isBandScale && itemElements.length > 0;\n\n  // Sorted elements from top to bottom visually,\n  // or from right to left in transpose coordinate.\n  seriesElements.sort((a, b) => {\n    const index = transposed ? 0 : 1;\n    const minY = (d) => d.getBounds().min[index];\n    return transposed ? minY(b) - minY(a) : minY(a) - minY(b);\n  });\n\n  const extent = (d) => {\n    const index = transposed ? 1 : 0;\n    const { min, max } = d.getLocalBounds();\n    return sort([min[index], max[index]]);\n  };\n\n  // Sort itemElements for bisector search.\n  if (isBar) elements.sort((a, b) => xof(a) - xof(b));\n  else {\n    itemElements.sort((a, b) => {\n      const [minA, maxA] = extent(a);\n      const [minB, maxB] = extent(b);\n      const midA = (minA + maxA) / 2;\n      const midB = (minB + maxB) / 2;\n      return transposed ? midB - midA : midA - midB;\n    });\n  }\n\n  // Get sortedIndex and X for each series elements\n  const elementSortedX = new Map(\n    seriesElements.map((element) => {\n      const { __data__: data } = element;\n      const { seriesX } = data;\n      const seriesIndex = seriesX.map((_, i) => i);\n      const sortedIndex = sort(seriesIndex, (i) => seriesX[+i]);\n      return [element, [sortedIndex, seriesX]];\n    }),\n  );\n\n  const { x: scaleX } = scale;\n\n  // Apply offset for band scale x.\n  const offsetX = scaleX?.getBandWidth ? scaleX.getBandWidth() / 2 : 0;\n\n  const abstractX = (focus) => {\n    const [normalizedX] = coordinate.invert(focus);\n    return normalizedX - offsetX;\n  };\n\n  const indexByFocus = (event, focus, I, X) => {\n    // _x is from emit event, to find the right element.\n    const { _x } = event;\n    const finalX = _x !== undefined ? scaleX.map(_x) : abstractX(focus);\n    const DX = X.filter(defined);\n    const [minX, maxX] = sort([DX[0], DX[DX.length - 1]]);\n    // If only has one element(minX == maxX), show tooltip when hover whole chart\n    const isOnlyOneElement = minX === maxX;\n\n    // If closest is true, always find at least one element.\n    // Otherwise, skip element out of plot area.\n    if (!closest && (finalX < minX || finalX > maxX) && !isOnlyOneElement)\n      return null;\n    const search = bisector((i) => X[+i]).center;\n    const i = search(I, finalX);\n    return I[i];\n  };\n\n  const elementsByFocus = isBar\n    ? (focus, elements) => {\n        const search = bisector(xof).center;\n        const i = search(elements, abstractX(focus));\n        const find = elements[i];\n        const groups = group(elements, xof);\n        const selected = groups.get(xof(find));\n        return selected;\n      }\n    : (focus, elements) => {\n        const index = transposed ? 1 : 0;\n        const x = focus[index];\n        const filtered = elements.filter((element) => {\n          const [min, max] = extent(element);\n          return x >= min && x <= max;\n        });\n        // If closet is true, always find at least one element.\n        if (!closest || filtered.length > 0) return filtered;\n\n        // Search the closet element to the focus.\n        const search = bisector((element) => {\n          const [min, max] = extent(element);\n          return (min + max) / 2;\n        }).center;\n        const i = search(elements, x);\n        return [elements[i]].filter(defined);\n      };\n\n  const seriesData = (element, index) => {\n    const { __data__: data } = element;\n    return Object.fromEntries(\n      Object.entries(data)\n        .filter(([key]) => key.startsWith('series') && key !== 'series')\n        .map(([key, V]) => {\n          const d = V[index];\n          return [lowerFirst(key.replace('series', '')), d];\n        }),\n    );\n  };\n  const mouse = mousePosition(root, event);\n  if (!mouse) return;\n  const focus = [mouse[0] - startX, mouse[1] - startY];\n  if (!focus) return;\n  // Get selected item element.\n  const selectedItems = elementsByFocus(focus, itemElements);\n\n  // Get selected data item from both series element and item element.\n  const selectedSeriesElements = [];\n  const selectedSeriesData = [];\n  for (const element of seriesElements) {\n    const [sortedIndex, X] = elementSortedX.get(element);\n    const index = indexByFocus(event, focus, sortedIndex, X);\n    if (index !== null) {\n      selectedSeriesElements.push(element);\n      const d = seriesData(element, index);\n      const { x, y } = d;\n      const p = coordinate.map([(x || 0) + offsetX, y || 0]);\n      selectedSeriesData.push([{ ...d, element }, p] as const);\n    }\n  }\n\n  // Filter selectedSeriesData with different x,\n  // make sure there is only one x closest to focusX.\n  const SX = Array.from(new Set(selectedSeriesData.map((d) => d[0].x)));\n  const closestX = SX[minIndex(SX, (x) => Math.abs(x - abstractX(focus)))];\n  const filteredSeriesData = selectedSeriesData.filter(\n    (d) => d[0].x === closestX,\n  );\n\n  const selectedData = [\n    ...filteredSeriesData.map((d) => d[0]),\n    ...selectedItems.map((d) => d.__data__),\n  ];\n\n  // Get the displayed tooltip data.\n  const selectedElements = [...selectedSeriesElements, ...selectedItems];\n\n  return { selectedElements, selectedData, filteredSeriesData, abstractX };\n}\n\n/**\n * Show tooltip for series item.\n */\nexport function seriesTooltip(\n  root: DisplayObject,\n  {\n    elements: elementsof,\n    sort: sortFunction,\n    filter: filterFunction,\n    scale,\n    coordinate,\n    crosshairs,\n    crosshairsX,\n    crosshairsY,\n    render,\n    groupName,\n    emitter,\n    wait = 50,\n    leading = true,\n    trailing = false,\n    startX = 0,\n    startY = 0,\n    body = true,\n    single = true,\n    position,\n    enterable,\n    mount,\n    bounding,\n    theme,\n    offset,\n    disableNative = false,\n    marker = true,\n    preserve = false,\n    style: _style = {},\n    css = {},\n    clickLock = false,\n    ...rest\n  }: Record<string, any>,\n) {\n  const elements = elementsof(root);\n  const style = deepMix(_style, rest);\n  const polar = isPolar(coordinate);\n  const transposed = isTranspose(coordinate);\n  const {\n    innerWidth: plotWidth,\n    innerHeight: plotHeight,\n    width: mainWidth,\n    height: mainHeight,\n    insetLeft,\n    insetTop,\n  } = coordinate.getOptions();\n  const update = throttle(\n    (event) => {\n      if (clickLock && root.getAttribute(LOCKED_SYMBOL)) return;\n      const mouse = mousePosition(root, event);\n      if (!mouse) return;\n      const bbox = bboxOf(root);\n      const x = bbox.min[0];\n      const y = bbox.min[1];\n      const { selectedElements, selectedData, filteredSeriesData, abstractX } =\n        findSeriesElement({\n          root,\n          event,\n          elements,\n          coordinate,\n          scale,\n          startX,\n          startY,\n        });\n      const tooltipData = groupItems(\n        selectedElements,\n        scale,\n        groupName,\n        selectedData,\n        theme,\n      );\n\n      // Sort items and filter items.\n      if (sortFunction) {\n        tooltipData.items.sort((a, b) => sortFunction(a) - sortFunction(b));\n      }\n      if (filterFunction) {\n        tooltipData.items = tooltipData.items.filter(filterFunction);\n      }\n\n      // Hide tooltip with no selected tooltip.\n      if (selectedElements.length === 0 || isEmptyTooltipData(tooltipData)) {\n        hide(event);\n        return;\n      }\n\n      if (body) {\n        showTooltip({\n          root,\n          data: tooltipData,\n          x: mouse[0] + x,\n          y: mouse[1] + y,\n          render,\n          event,\n          single,\n          position,\n          enterable,\n          mount,\n          bounding,\n          css,\n          offset,\n        });\n      }\n\n      if (crosshairs || crosshairsX || crosshairsY) {\n        const ruleStyle = subObject(style, 'crosshairs');\n\n        const ruleStyleX = {\n          ...ruleStyle,\n          ...subObject(style, 'crosshairsX'),\n        };\n        const ruleStyleY = {\n          ...ruleStyle,\n          ...subObject(style, 'crosshairsY'),\n        };\n\n        const points = filteredSeriesData.map((d) => d[1]);\n        if (crosshairsX) {\n          updateRuleX(root, points, mouse, {\n            ...ruleStyleX,\n            plotWidth,\n            plotHeight,\n            mainWidth,\n            mainHeight,\n            insetLeft,\n            insetTop,\n            startX,\n            startY,\n            transposed,\n            polar,\n          });\n        }\n\n        if (crosshairsY) {\n          updateRuleY(root, points, {\n            ...ruleStyleY,\n            plotWidth,\n            plotHeight,\n            mainWidth,\n            mainHeight,\n            insetLeft,\n            insetTop,\n            startX,\n            startY,\n            transposed,\n            polar,\n          });\n        }\n      }\n\n      if (marker) {\n        const markerStyles = subObject(style, 'marker');\n        updateMarker(root, {\n          data: filteredSeriesData,\n          style: markerStyles,\n          theme,\n        });\n      }\n\n      // X in focus may related multiple points when dataset is large,\n      // so we need to find the first x to show tooltip.\n      const firstX = filteredSeriesData[0]?.[0].x;\n      const transformedX = firstX ?? abstractX(focus);\n\n      emitter.emit('tooltip:show', {\n        ...event,\n        nativeEvent: true,\n        data: {\n          ...tooltipData,\n          data: { x: invert(scale.x, transformedX, true) },\n        },\n      });\n    },\n    wait,\n    { leading, trailing },\n  ) as (...args: any[]) => void;\n\n  const hide = (event: MouseEvent) => {\n    if (clickLock && root.getAttribute(LOCKED_SYMBOL)) return;\n    hideTooltip({ root, single, emitter, event });\n  };\n\n  const destroy = () => {\n    destroyTooltip({ root, single });\n  };\n\n  const onTooltipShow = ({ nativeEvent, data, offsetX, offsetY, ...rest }) => {\n    if (nativeEvent) return;\n    const x = data?.data?.x;\n    const scaleX = scale.x;\n    const x1 = scaleX.map(x);\n    const [x2, y2] = coordinate.map([x1, 0.5]);\n    const rootBounds = root.getRenderBounds();\n    const minX = rootBounds.min[0];\n    const minY = rootBounds.min[1];\n    update({\n      ...rest,\n      offsetX: offsetX !== undefined ? offsetX : minX + x2,\n      offsetY: offsetY !== undefined ? offsetY : minY + y2,\n      _x: x, // a hint, to lookup for the right element if multiple element in the same abstractX.\n    });\n  };\n\n  const onTooltipHide = () => {\n    hideTooltip({ root, single, emitter, nativeEvent: false });\n  };\n\n  const onTooltipDisable = () => {\n    removeEventListeners();\n    destroy();\n  };\n\n  const pointerleave = (e) => {\n    if (mousePosition(root, e)) return;\n    hide(e);\n  };\n\n  const onTooltipEnable = () => {\n    addEventListeners();\n  };\n\n  const pointerdown = (e) => {\n    if (clickLock) {\n      root.setAttribute(LOCKED_SYMBOL, !root.getAttribute(LOCKED_SYMBOL));\n    }\n    update(e);\n  };\n\n  const addEventListeners = () => {\n    if (!disableNative) {\n      root.addEventListener('pointerdown', pointerdown);\n      root.addEventListener('pointerenter', update);\n      root.addEventListener('pointermove', update);\n      // Only emit pointerleave event when the pointer is not in the root area.\n      root.addEventListener('pointerleave', pointerleave);\n      root.addEventListener('pointerup', hide);\n    }\n  };\n\n  const removeEventListeners = () => {\n    if (!disableNative) {\n      root.removeEventListener('pointerdown', pointerdown);\n      root.removeEventListener('pointerenter', update);\n      root.removeEventListener('pointermove', update);\n      root.removeEventListener('pointerleave', pointerleave);\n      root.removeEventListener('pointerup', hide);\n    }\n  };\n\n  addEventListeners();\n\n  emitter.on('tooltip:show', onTooltipShow);\n  emitter.on('tooltip:hide', onTooltipHide);\n  emitter.on('tooltip:disable', onTooltipDisable);\n  emitter.on('tooltip:enable', onTooltipEnable);\n\n  return () => {\n    removeEventListeners();\n    emitter.off('tooltip:show', onTooltipShow);\n    emitter.off('tooltip:hide', onTooltipHide);\n    emitter.off('tooltip:disable', onTooltipDisable);\n    emitter.off('tooltip:enable', onTooltipEnable);\n    if (preserve) {\n      hideTooltip({ root, single, emitter, nativeEvent: false });\n    } else {\n      destroy();\n    }\n  };\n}\n\n/**\n * Show tooltip for non-series item.\n */\nexport function tooltip(\n  root: DisplayObject,\n  {\n    elements: elementsof,\n    coordinate,\n    scale,\n    render,\n    groupName,\n    sort: sortFunction,\n    filter: filterFunction,\n    emitter,\n    wait = 50,\n    leading = true,\n    trailing = false,\n    groupKey = (d) => d, // group elements by specified key\n    single = true,\n    position,\n    enterable,\n    datum,\n    view,\n    mount,\n    bounding,\n    theme,\n    offset,\n    shared = false,\n    body = true,\n    disableNative = false,\n    preserve = false,\n    css = {},\n    clickLock = false,\n  }: Record<string, any>,\n) {\n  const elements = elementsof(root);\n  const keyGroup = group(elements, groupKey);\n  const pointermove = throttle(\n    (event) => {\n      if (clickLock && root.getAttribute(LOCKED_SYMBOL)) return;\n      const element = findSingleElement({\n        root,\n        event,\n        elements,\n        coordinate,\n        scale,\n        shared,\n      });\n      if (!element) {\n        hideTooltip({ root, single, emitter, event });\n        return;\n      }\n      const k = groupKey(element);\n      const group = keyGroup.get(k);\n      if (!group) {\n        return;\n      }\n      const data =\n        group.length === 1 && !shared\n          ? singleItem(group[0])\n          : groupItems(group, scale, groupName, undefined, theme);\n\n      // Sort items and sort.\n      if (sortFunction) {\n        data.items.sort((a, b) => sortFunction(a) - sortFunction(b));\n      }\n      if (filterFunction) {\n        data.items = data.items.filter(filterFunction);\n      }\n\n      if (isEmptyTooltipData(data)) {\n        hideTooltip({ root, single, emitter, event });\n        return;\n      }\n\n      const { offsetX, offsetY } = event;\n      if (body) {\n        showTooltip({\n          root,\n          data,\n          x: offsetX,\n          y: offsetY,\n          render,\n          event,\n          single,\n          position,\n          enterable,\n          mount,\n          bounding,\n          css,\n          offset,\n        });\n      }\n\n      emitter.emit('tooltip:show', {\n        ...event,\n        nativeEvent: true,\n        data: {\n          ...data,\n          data: dataOf(element, view),\n        },\n      });\n    },\n    wait,\n    { leading, trailing },\n  ) as (...args: any[]) => void;\n\n  const pointerleave = (event) => {\n    hideTooltip({ root, single, emitter, event });\n  };\n\n  const pointerdown = (e) => {\n    if (clickLock) {\n      root.setAttribute(LOCKED_SYMBOL, !root.getAttribute(LOCKED_SYMBOL));\n    }\n    pointermove(e);\n  };\n\n  const addEventListeners = () => {\n    if (!disableNative) {\n      root.addEventListener('pointerdown', pointerdown);\n      root.addEventListener('pointermove', pointermove);\n      // Only emit pointerleave event when the pointer is not in the root area.\n      // !!!DO NOT USE pointerout event, it will emit when the pointer is in the child area.\n      root.addEventListener('pointerleave', pointerleave);\n      root.addEventListener('pointerup', pointerleave);\n    }\n  };\n\n  const removeEventListeners = () => {\n    if (!disableNative) {\n      root.removeEventListener('pointerdown', pointerdown);\n      root.removeEventListener('pointermove', pointermove);\n      root.removeEventListener('pointerleave', pointerleave);\n      root.removeEventListener('pointerup', pointerleave);\n    }\n  };\n\n  const onTooltipShow = ({ nativeEvent, offsetX, offsetY, data: raw }) => {\n    if (nativeEvent) return;\n    const { data } = raw;\n    const element = selectElementByData(elements, data, datum);\n    if (!element) return;\n    const bbox = element.getBBox();\n    const { x, y, width, height } = bbox;\n    const rootBBox = root.getBBox();\n    pointermove({\n      target: element,\n      offsetX: offsetX !== undefined ? offsetX + rootBBox.x : x + width / 2,\n      offsetY: offsetY !== undefined ? offsetY + rootBBox.y : y + height / 2,\n    });\n  };\n\n  const onTooltipHide = ({ nativeEvent }: any = {}) => {\n    if (nativeEvent) return;\n    hideTooltip({ root, single, emitter, nativeEvent: false });\n  };\n\n  const onTooltipDisable = () => {\n    removeEventListeners();\n    destroyTooltip({ root, single });\n  };\n\n  const onTooltipEnable = () => {\n    addEventListeners();\n  };\n\n  emitter.on('tooltip:show', onTooltipShow);\n  emitter.on('tooltip:hide', onTooltipHide);\n  emitter.on('tooltip:enable', onTooltipEnable);\n  emitter.on('tooltip:disable', onTooltipDisable);\n\n  addEventListeners();\n\n  return () => {\n    removeEventListeners();\n    emitter.off('tooltip:show', onTooltipShow);\n    emitter.off('tooltip:hide', onTooltipHide);\n    emitter.off('tooltip:enable', onTooltipEnable);\n    emitter.off('tooltip:disable', onTooltipDisable);\n    if (preserve) {\n      hideTooltip({ root, single, emitter, nativeEvent: false });\n    } else {\n      destroyTooltip({ root, single });\n    }\n  };\n}\n\nexport function Tooltip(options) {\n  const {\n    shared,\n    crosshairs,\n    crosshairsX,\n    crosshairsY,\n    series,\n    name,\n    item = () => ({}),\n    facet = false,\n    ...rest\n  } = options;\n\n  return (target, viewInstances, emitter) => {\n    const { container, view } = target;\n    const { scale, markState, coordinate, theme } = view;\n    // Get default value from mark states.\n    const defaultSeries = interactionKeyof(markState, 'seriesTooltip');\n    const defaultShowCrosshairs = interactionKeyof(markState, 'crosshairs');\n    const plotArea = selectPlotArea(container);\n    const isSeries = maybeValue(series, defaultSeries);\n    const crosshairsSetting = maybeValue(crosshairs, defaultShowCrosshairs);\n    if (rest.clickLock && !facet) plotArea.setAttribute(LOCKED_SYMBOL, false);\n    // For non-facet and series tooltip.\n    if (isSeries && hasSeries(markState) && !facet) {\n      return seriesTooltip(plotArea, {\n        ...rest,\n        theme,\n        elements: selectG2Elements,\n        scale,\n        coordinate,\n        crosshairs: crosshairsSetting,\n        // the crosshairsX settings level: crosshairsX > crosshairs > false\n        // it means crosshairsX default is false\n        crosshairsX: maybeValue(maybeValue(crosshairsX, crosshairs), false),\n        // crosshairsY default depend on the crossharisSettings\n        crosshairsY: maybeValue(crosshairsY, crosshairsSetting),\n        item,\n        emitter,\n      });\n    }\n\n    // For facet and series tooltip.\n    if (isSeries && facet) {\n      // Get sub view instances for this view.\n      const facetInstances = viewInstances.filter(\n        (d) => d !== target && d.options.parentKey === target.options.key,\n      );\n      const elements = selectFacetG2Elements(target, viewInstances);\n      // Use the scale of the first view.\n      const scale = facetInstances[0].view.scale;\n      const bbox = plotArea.getBounds();\n      const startX = bbox.min[0];\n      const startY = bbox.min[1];\n      Object.assign(scale, { facet: true });\n      const root = plotArea.parentNode.parentNode as DisplayObject;\n      if (rest.clickLock) root.setAttribute(LOCKED_SYMBOL, false);\n      // @todo Nested structure rather than flat structure for facet?\n      // Add listener to the root area.\n      // @ts-ignore\n      return seriesTooltip(root, {\n        ...rest,\n        theme,\n        elements: () => elements,\n        scale,\n        coordinate,\n        crosshairs: maybeValue(crosshairs, defaultShowCrosshairs),\n        // the crosshairsX settings level: crosshairsX > crosshairs > false\n        // it means crosshairsX default is false\n        crosshairsX: maybeValue(maybeValue(crosshairsX, crosshairs), false),\n        crosshairsY: maybeValue(crosshairsY, crosshairsSetting),\n        item,\n        startX,\n        startY,\n        emitter,\n      });\n    }\n\n    return tooltip(plotArea, {\n      ...rest,\n      datum: createDatumof(view),\n      elements: selectG2Elements,\n      scale,\n      coordinate,\n      groupKey: shared ? createXKey(view) : undefined,\n      item,\n      emitter,\n      view,\n      theme,\n      shared,\n    });\n  };\n}\n\nTooltip.props = {\n  reapplyWhenUpdate: true,\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2319, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2325, "column": 0}, "map": {"version":3,"file":"elementHighlight.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/interaction/elementHighlight.ts"],"sourcesContent":["import { DisplayObject } from '@antv/g';\nimport { deepMix } from '@antv/util';\nimport { group } from '@antv/vendor/d3-array';\nimport { subObject } from '../utils/helper';\nimport {\n  createDatumof,\n  createFindElementByEvent,\n  createUseState,\n  createValueof,\n  createXKey,\n  mergeState,\n  offsetTransform,\n  renderBackground,\n  renderLink,\n  selectElementByData,\n  selectG2Elements,\n  selectPlotArea,\n  VALID_FIND_BY_X_MARKS,\n} from './utils';\n\n/**\n * highlight a group of elements.\n */\nexport function elementHighlight(\n  root: DisplayObject,\n  {\n    elements: elementsof, // given the root of chart returns elements to be manipulated\n    datum, // given each element returns the datum of it\n    groupKey: eleGroupKey = (d) => d, // group elements by specified key\n    regionGroupKey = (d) => d, // how to group elements when hover region\n    link = false, // draw link or not\n    background = false, // draw background or not\n    delay = 60, // delay to unhighlighted element\n    scale,\n    coordinate,\n    emitter,\n    state = {},\n    region = false,\n    regionEleFilter = (el) => VALID_FIND_BY_X_MARKS.includes(el.markType), // some elements can not be highlighted by region, like shapes in pie.\n  }: Record<string, any>,\n) {\n  const allElements = elementsof(root) ?? [];\n  const elements = region ? allElements.filter(regionEleFilter) : allElements;\n  const elementSet = new Set(elements);\n  const groupKey = region ? regionGroupKey : eleGroupKey;\n  const keyGroup = group(elements, groupKey);\n  const findElement = createFindElementByEvent({\n    elementsof,\n    root,\n    coordinate,\n    scale,\n  });\n\n  const valueof = createValueof(elements, datum);\n  const [appendLink, removeLink] = renderLink({\n    elements,\n    valueof,\n    link,\n    coordinate,\n    ...subObject(state.active, 'link'),\n  });\n  const [appendBackground, removeBackground, isBackground] = renderBackground({\n    document: root.ownerDocument,\n    scale,\n    coordinate,\n    background,\n    valueof,\n    ...subObject(state.active, 'background'),\n  });\n\n  const elementStyle = deepMix(state, {\n    active: {\n      ...(state.active?.offset && {\n        //Apply translate to mock slice out.\n        transform: (...params) => {\n          const value = state.active.offset(...params);\n          const [, i] = params;\n          return offsetTransform(elements[i], value, coordinate);\n        },\n      }),\n    },\n  });\n\n  const useState = createUseState(elementStyle, elements);\n\n  const { updateState, removeState, hasState } = useState(valueof);\n\n  let out; // Timer for delaying unhighlighted.\n  const pointerover = (event) => {\n    const { nativeEvent = true } = event;\n    let element = event.target;\n    if (region) {\n      element = findElement(event);\n    }\n    if (!elementSet.has(element)) return;\n    if (out) clearTimeout(out);\n    const k = groupKey(element);\n    const group = keyGroup.get(k);\n    const groupSet = new Set(group);\n    for (const e of elements) {\n      if (groupSet.has(e)) {\n        if (!hasState(e, 'active')) updateState(e, 'active');\n      } else {\n        updateState(e, 'inactive');\n        removeLink(e);\n      }\n      if (e !== element) removeBackground(e);\n    }\n    appendBackground(element);\n    appendLink(group);\n\n    // Emit events.\n    if (!nativeEvent) return;\n    emitter.emit('element:highlight', {\n      nativeEvent,\n      data: {\n        data: datum(element),\n        group: group.map(datum),\n      },\n    });\n  };\n\n  const delayUnhighlighted = () => {\n    if (out) clearTimeout(out);\n    out = setTimeout(() => {\n      unhighlighted();\n      out = null;\n    }, delay);\n  };\n\n  const unhighlighted = (nativeEvent = true) => {\n    for (const e of elements) {\n      removeState(e, 'active', 'inactive');\n      removeBackground(e);\n      removeLink(e);\n    }\n    if (nativeEvent) {\n      emitter.emit('element:unhighlight', { nativeEvent });\n    }\n  };\n\n  const pointerout = (event) => {\n    let element = event.target;\n    if (region) {\n      element = findElement(event);\n    }\n    if (!element) {\n      if (delay > 0) delayUnhighlighted();\n      else unhighlighted();\n      return;\n    }\n    if (background && !isBackground(element)) return;\n    if (!background && !elementSet.has(element)) return;\n    if (delay > 0) delayUnhighlighted();\n    else unhighlighted();\n  };\n\n  const pointerleave = () => {\n    unhighlighted();\n  };\n\n  root.addEventListener('pointerover', pointerover);\n  root.addEventListener('pointermove', pointerover);\n  root.addEventListener('pointerout', pointerout);\n  root.addEventListener('pointerleave', pointerleave);\n\n  const onRest = (e) => {\n    const { nativeEvent } = e;\n    if (nativeEvent) return;\n    unhighlighted(false);\n  };\n\n  const onHighlight = (e) => {\n    const { nativeEvent } = e;\n    if (nativeEvent) return;\n    const { data } = e.data;\n    const element = selectElementByData(elements, data, datum);\n    if (!element) return;\n    pointerover({ target: element, nativeEvent: false });\n  };\n\n  emitter.on('element:highlight', onHighlight);\n  emitter.on('element:unhighlight', onRest);\n\n  return () => {\n    root.removeEventListener('pointerover', pointerover);\n    root.removeEventListener('pointermove', pointerover);\n    root.removeEventListener('pointerout', pointerout);\n    root.removeEventListener('pointerleave', pointerleave);\n    emitter.off('element:highlight', onHighlight);\n    emitter.off('element:unhighlight', onRest);\n    for (const e of elements) {\n      removeBackground(e);\n      removeLink(e);\n    }\n  };\n}\n\nexport function ElementHighlight({\n  delay,\n  createGroup,\n  createRegionGroup,\n  background = false,\n  link = false,\n  ...rest\n}) {\n  return (context, _, emitter) => {\n    const { container, view, options } = context;\n    const { scale, coordinate } = view;\n    const plotArea = selectPlotArea(container);\n\n    return elementHighlight(plotArea, {\n      elements: selectG2Elements,\n      datum: createDatumof(view),\n      groupKey: createGroup ? createGroup(view) : undefined,\n      regionGroupKey: createRegionGroup\n        ? createRegionGroup(view)\n        : createXKey(view),\n      coordinate,\n      scale,\n      state: mergeState(options, [\n        ['active', background ? {} : { lineWidth: '1', stroke: '#000' }],\n        'inactive',\n      ]),\n      background,\n      link,\n      delay,\n      emitter,\n      ...rest,\n    });\n  };\n}\n\nElementHighlight.props = {\n  reapplyWhenUpdate: true,\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2529, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2535, "column": 0}, "map": {"version":3,"file":"elementHighlightByX.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/interaction/elementHighlightByX.ts"],"sourcesContent":["import { createXKey } from './utils';\nimport { ElementHighlight } from './elementHighlight';\n\nexport function ElementHighlightByX(options) {\n  return ElementHighlight({ ...options, createGroup: createXKey });\n}\n\nElementHighlightByX.props = {\n  reapplyWhenUpdate: true,\n};\n"],"names":[],"mappings":";;;AACA,OAAO,EAAE,gBAAgB,EAAE,MAAM,oBAAoB,CAAC;AADtD,OAAO,EAAE,UAAU,EAAE,MAAM,SAAS,CAAC;;;AAG/B,SAAU,mBAAmB,CAAC,OAAO;IACzC,qLAAO,mBAAA,AAAgB,EAAA,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA,CAAA,GAAM,OAAO,GAAA;QAAE,WAAW,iKAAE,aAAU;IAAA,GAAG,CAAC;AACnE,CAAC;AAED,mBAAmB,CAAC,KAAK,GAAG;IAC1B,iBAAiB,EAAE,IAAI;CACxB,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2550, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2556, "column": 0}, "map": {"version":3,"file":"elementHighlightByColor.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/interaction/elementHighlightByColor.ts"],"sourcesContent":["import { createColorKey } from './utils';\nimport { ElementHighlight } from './elementHighlight';\n\nexport function ElementHighlightByColor(options) {\n  return ElementHighlight({ ...options, createGroup: createColorKey });\n}\n\nElementHighlightByColor.props = {\n  reapplyWhenUpdate: true,\n};\n"],"names":[],"mappings":";;;AACA,OAAO,EAAE,gBAAgB,EAAE,MAAM,oBAAoB,CAAC;AADtD,OAAO,EAAE,cAAc,EAAE,MAAM,SAAS,CAAC;;;AAGnC,SAAU,uBAAuB,CAAC,OAAO;IAC7C,qLAAO,mBAAA,AAAgB,EAAA,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA,CAAA,GAAM,OAAO,GAAA;QAAE,WAAW,iKAAE,iBAAc;IAAA,GAAG,CAAC;AACvE,CAAC;AAED,uBAAuB,CAAC,KAAK,GAAG;IAC9B,iBAAiB,EAAE,IAAI;CACxB,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2571, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2577, "column": 0}, "map": {"version":3,"file":"elementSelect.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/interaction/elementSelect.ts"],"sourcesContent":["import { DisplayObject } from '@antv/g';\nimport { group } from '@antv/vendor/d3-array';\nimport { deepMix } from '@antv/util';\nimport { subObject } from '../utils/helper';\nimport { traverseElements } from '../utils/traverse-elements';\nimport {\n  createValueof,\n  createDatumof,\n  selectG2Elements,\n  renderLink,\n  renderBackground,\n  selectPlotArea,\n  offsetTransform,\n  mergeState,\n  selectElementByData,\n  createXKey,\n  createFindElementByEvent,\n  VALID_FIND_BY_X_MARKS,\n  createUseState,\n} from './utils';\n\n/**\n * Active a group of elements.\n */\nexport function elementSelect(\n  root: DisplayObject,\n  {\n    elements: elementsof, // given the root of chart returns elements to be manipulated\n    datum, // given each element returns the datum of it\n    groupKey = (d) => d, // group elements by specified key\n    regionGroupKey = (d) => d, // how to group elements when click region\n    link = false, // draw link or not\n    single = false, // single select or not\n    multipleSelectHotkey, // hotkey for multi-select mode\n    coordinate,\n    background = false,\n    scale,\n    emitter,\n    state = {},\n    region = false,\n    regionEleFilter = (el) => VALID_FIND_BY_X_MARKS.includes(el.markType),\n  }: Record<string, any>,\n) {\n  const elements = elementsof(root);\n  const elementSet: Set<DisplayObject> = new Set(elements);\n  const findElement = createFindElementByEvent({\n    elementsof,\n    root,\n    coordinate,\n    scale,\n  });\n  const keyGroup = group(elements, groupKey);\n  const regionGroup = group(elements, regionGroupKey);\n\n  const valueof = createValueof(elements, datum);\n\n  const [appendLink, removeLink] = renderLink({\n    link,\n    elements,\n    valueof,\n    coordinate,\n    ...subObject(state.selected, 'link'),\n  });\n\n  const [appendBackground, removeBackground] = renderBackground({\n    document: root.ownerDocument,\n    background,\n    coordinate,\n    scale,\n    valueof,\n    ...subObject(state.selected, 'background'),\n  });\n\n  const elementStyle = deepMix(state, {\n    selected: {\n      ...(state.selected?.offset && {\n        // Apply translate to mock slice out.\n        transform: (...params) => {\n          const value = state.selected.offset(...params);\n          const [, i] = params;\n          return offsetTransform(elements[i], value, coordinate);\n        },\n      }),\n    },\n  });\n\n  const useState = createUseState(elementStyle, elements);\n\n  const { updateState, removeState, hasState } = useState(valueof);\n  let isMultiSelectMode = !single; // \"single\" determines whether to multi-select by default\n  let activeHotkey = null; // Track the currently active hotkey\n\n  const clear = (nativeEvent = true) => {\n    for (const e of elements) {\n      removeState(e, 'selected', 'unselected');\n      removeLink(e);\n      removeBackground(e);\n    }\n    if (nativeEvent) emitter.emit('element:unselect', { nativeEvent: true });\n    return;\n  };\n\n  const singleSelect = ({\n    event,\n    element,\n    nativeEvent = true,\n    filter = (el) => true,\n    groupBy = groupKey,\n    groupMap = keyGroup,\n  }) => {\n    const filteredElements = elements.filter(filter);\n    // Clear states if clicked selected element.\n    if (hasState(element, 'selected')) clear();\n    else {\n      const k = groupBy(element);\n      const group = groupMap.get(k);\n      const groupSet = new Set(group);\n      for (const e of filteredElements) {\n        if (groupSet.has(e)) updateState(e, 'selected');\n        else {\n          updateState(e, 'unselected');\n          removeLink(e);\n        }\n        if (e !== element) removeBackground(e);\n      }\n      appendLink(group);\n      appendBackground(element);\n\n      if (!nativeEvent) return;\n      emitter.emit('element:select', {\n        ...event,\n        nativeEvent,\n        data: {\n          data: [datum(element), ...group.map(datum)],\n        },\n      });\n    }\n  };\n\n  const multipleSelect = ({\n    event,\n    element,\n    nativeEvent = true,\n    filter = (el) => true,\n    groupBy = groupKey,\n    groupMap = keyGroup,\n  }) => {\n    const k = groupBy(element);\n    const group = groupMap.get(k);\n    const groupSet = new Set(group);\n    const filteredElements = elements.filter(filter);\n\n    if (!hasState(element, 'selected')) {\n      const hasSelectedGroup = group.some((e) => hasState(e, 'selected'));\n      for (const e of filteredElements) {\n        if (groupSet.has(e)) updateState(e, 'selected');\n        else if (!hasState(e, 'selected')) updateState(e, 'unselected');\n      }\n      // Append link for each group only once.\n      if (!hasSelectedGroup && link) appendLink(group);\n      appendBackground(element);\n    } else {\n      // If there is no selected elements after resetting this group,\n      // clear the states.\n      const hasSelected = elements.some(\n        (e) => !groupSet.has(e) && hasState(e, 'selected'),\n      );\n      if (!hasSelected) return clear();\n      // If there are still some selected elements after resetting this group,\n      // only remove the link.\n      for (const e of group) {\n        updateState(e, 'unselected');\n        removeLink(e);\n        removeBackground(e);\n      }\n    }\n    if (!nativeEvent) return;\n    emitter.emit('element:select', {\n      ...event,\n      nativeEvent,\n      data: {\n        data: elements.filter((e) => hasState(e, 'selected')).map(datum),\n      },\n    });\n  };\n\n  const isClickElementOrGroup = (element: DisplayObject): boolean => {\n    if (elementSet.has(element)) return true;\n\n    for (const group of elementSet) {\n      const found = traverseElements(group, (el) => el === element);\n      if (found) return true;\n    }\n\n    return false;\n  };\n\n  const getRealElement = (element: DisplayObject): DisplayObject => {\n    if (elementSet.has(element)) return element;\n    for (const group of elementSet) {\n      let match: DisplayObject | null = null;\n      traverseElements(group, (el) => {\n        if (el === element) match = group;\n      });\n      if (match) return match;\n    }\n    return element;\n  };\n\n  const click = (event) => {\n    const { target: element, nativeEvent = true } = event;\n\n    const select = !isMultiSelectMode ? singleSelect : multipleSelect;\n    let el = element;\n    const isClickElement = isClickElementOrGroup(element);\n\n    if (!region || isClickElement) {\n      // Click non-element shape, reset.\n      // Such as the rest of content area(background).\n      if (!isClickElement) return clear();\n      return select({\n        event,\n        element: getRealElement(el),\n        nativeEvent,\n        groupBy: groupKey,\n      });\n    } else {\n      // Click background region area, select elements in the region.\n      // Get element at cursor.x position.\n      el = findElement(event);\n\n      if (!elementSet.has(el)) return clear();\n\n      return select({\n        event,\n        element: el,\n        nativeEvent,\n        filter: regionEleFilter,\n        groupBy: regionGroupKey,\n        groupMap: regionGroup,\n      });\n    }\n  };\n\n  // Handle keyboard events for multi-select mode\n  const hotkeys = Array.isArray(multipleSelectHotkey)\n    ? multipleSelectHotkey\n    : [multipleSelectHotkey];\n  const handleKeyDown = (event) => {\n    if (hotkeys.includes(event.code) && !activeHotkey) {\n      activeHotkey = event.code;\n      isMultiSelectMode = true;\n    }\n  };\n  const handleKeyUp = (event) => {\n    if (event.code === activeHotkey) {\n      activeHotkey = null;\n      isMultiSelectMode = false;\n    }\n  };\n\n  root.addEventListener('click', click);\n  if (multipleSelectHotkey) {\n    // If a hotkey is set, the initial state should be single mode\n    isMultiSelectMode = false;\n    document.addEventListener('keydown', handleKeyDown);\n    document.addEventListener('keyup', handleKeyUp);\n  }\n\n  const onSelect = (e) => {\n    const { nativeEvent, data } = e;\n    if (nativeEvent) return;\n    const selectedData = !isMultiSelectMode ? data.data.slice(0, 1) : data.data;\n    for (const d of selectedData) {\n      const element = selectElementByData(elements, d, datum);\n      click({ target: element, nativeEvent: false });\n    }\n  };\n\n  const onUnSelect = () => {\n    clear(false);\n  };\n\n  emitter.on('element:select', onSelect);\n  emitter.on('element:unselect', onUnSelect);\n\n  return () => {\n    for (const e of elements) removeLink(e);\n    root.removeEventListener('click', click);\n    if (multipleSelectHotkey) {\n      document.removeEventListener('keydown', handleKeyDown);\n      document.removeEventListener('keyup', handleKeyUp);\n    }\n    emitter.off('element:select', onSelect);\n    emitter.off('element:unselect', onUnSelect);\n  };\n}\n\nexport function ElementSelect({\n  createGroup,\n  createRegionGroup,\n  background = false,\n  link = false,\n  ...rest\n}) {\n  return (context, _, emitter) => {\n    const { container, view, options } = context;\n    const { coordinate, scale } = view;\n    const plotArea = selectPlotArea(container);\n    return elementSelect(plotArea, {\n      elements: selectG2Elements,\n      datum: createDatumof(view),\n      groupKey: createGroup ? createGroup(view) : undefined,\n      regionGroupKey: createRegionGroup\n        ? createRegionGroup(view)\n        : createXKey(view),\n      coordinate,\n      scale,\n      state: mergeState(options, [\n        ['selected', background ? {} : { lineWidth: '1', stroke: '#000' }],\n        'unselected',\n      ]),\n      background,\n      link,\n      emitter,\n      ...rest,\n    });\n  };\n}\n\nElementSelect.props = {\n  reapplyWhenUpdate: true,\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2853, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2859, "column": 0}, "map": {"version":3,"file":"elementSelectByX.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/interaction/elementSelectByX.ts"],"sourcesContent":["import { createXKey } from './utils';\nimport { ElementSelect } from './elementSelect';\n\nexport function ElementSelectByX(options) {\n  return ElementSelect({ ...options, createGroup: createXKey });\n}\n\nElementSelectByX.props = {\n  reapplyWhenUpdate: true,\n};\n"],"names":[],"mappings":";;;AACA,OAAO,EAAE,aAAa,EAAE,MAAM,iBAAiB,CAAC;AADhD,OAAO,EAAE,UAAU,EAAE,MAAM,SAAS,CAAC;;;AAG/B,SAAU,gBAAgB,CAAC,OAAO;IACtC,kLAAO,gBAAA,AAAa,EAAA,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA,CAAA,GAAM,OAAO,GAAA;QAAE,WAAW,iKAAE,aAAU;IAAA,GAAG,CAAC;AAChE,CAAC;AAED,gBAAgB,CAAC,KAAK,GAAG;IACvB,iBAAiB,EAAE,IAAI;CACxB,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2874, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2880, "column": 0}, "map": {"version":3,"file":"elementSelectByColor.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/interaction/elementSelectByColor.ts"],"sourcesContent":["import { createColorKey } from './utils';\nimport { ElementSelect } from './elementSelect';\n\nexport function ElementSelectByColor(options) {\n  return ElementSelect({ ...options, createGroup: createColorKey });\n}\n\nElementSelectByColor.props = {\n  reapplyWhenUpdate: true,\n};\n"],"names":[],"mappings":";;;AACA,OAAO,EAAE,aAAa,EAAE,MAAM,iBAAiB,CAAC;AADhD,OAAO,EAAE,cAAc,EAAE,MAAM,SAAS,CAAC;;;AAGnC,SAAU,oBAAoB,CAAC,OAAO;IAC1C,kLAAO,gBAAA,AAAa,EAAA,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA,CAAA,GAAM,OAAO,GAAA;QAAE,WAAW,iKAAE,iBAAc;IAAA,GAAG,CAAC;AACpE,CAAC;AAED,oBAAoB,CAAC,KAAK,GAAG;IAC3B,iBAAiB,EAAE,IAAI;CACxB,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2895, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2901, "column": 0}, "map": {"version":3,"file":"fisheye.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/interaction/fisheye.ts"],"sourcesContent":["import { throttle, deepMix } from '@antv/util';\nimport { selectPlotArea, mousePosition } from './utils';\n\nfunction maybeCoordinate(options) {\n  const { coordinate = {} } = options;\n  const { transform = [] } = coordinate;\n  const fisheye = transform.find((d) => d.type === 'fisheye');\n  if (fisheye) return fisheye;\n  const newFisheye = { type: 'fisheye' };\n  transform.push(newFisheye);\n  coordinate.transform = transform;\n  options.coordinate = coordinate;\n  return newFisheye;\n}\n\n/**\n * @todo Bind abstract data or data index.\n */\nexport function Fisheye({\n  wait = 30,\n  leading,\n  trailing = false,\n}: Record<string, any>) {\n  return (context) => {\n    const { options, update, setState, container } = context;\n    const plotArea = selectPlotArea(container);\n\n    const updateFocus = throttle(\n      (event) => {\n        const focus = mousePosition(plotArea, event);\n        if (!focus) {\n          setState('fisheye');\n          update();\n          return;\n        }\n        setState('fisheye', (options) => {\n          // Clone options and mutate it.\n          // Disable animation.\n          const clonedOptions = deepMix({}, options, {\n            interaction: { tooltip: { preserve: true } },\n          });\n          for (const mark of clonedOptions.marks) mark.animate = false;\n          const [x, y] = focus;\n          const fisheye = maybeCoordinate(clonedOptions);\n          fisheye.focusX = x;\n          fisheye.focusY = y;\n          fisheye.visual = true;\n          return clonedOptions;\n        });\n        update();\n      },\n      wait,\n      { leading, trailing },\n    ) as (...args: any[]) => void;\n\n    // Bind events.\n    plotArea.addEventListener('pointerenter', updateFocus);\n    plotArea.addEventListener('pointermove', updateFocus);\n    plotArea.addEventListener('pointerleave', updateFocus);\n\n    return () => {\n      plotArea.removeEventListener('pointerenter', updateFocus);\n      plotArea.removeEventListener('pointermove', updateFocus);\n      plotArea.removeEventListener('pointerleave', updateFocus);\n    };\n  };\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2967, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2973, "column": 0}, "map": {"version":3,"file":"chartIndex.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/interaction/chartIndex.ts"],"sourcesContent":["import { Line, Text } from '@antv/g';\nimport { deepMix, throttle } from '@antv/util';\nimport {\n  max,\n  min,\n  rollup,\n  sort,\n  bisectCenter,\n  bisector,\n  group,\n} from '@antv/vendor/d3-array';\nimport { G2Element } from 'utils/selection';\nimport { subObject } from '../utils/helper';\nimport {\n  ELEMENT_CLASS_NAME,\n  G2Mark,\n  G2MarkState,\n  LABEL_CLASS_NAME,\n} from '../runtime';\nimport { selectPlotArea, mousePosition } from './utils';\n\nfunction maybeTransform(options) {\n  const { transform = [] } = options;\n  const normalizeY = transform.find((d) => d.type === 'normalizeY');\n  if (normalizeY) return normalizeY;\n  const newNormalizeY = { type: 'normalizeY' };\n  transform.push(newNormalizeY);\n  options.transform = transform;\n  return newNormalizeY;\n}\n\nfunction markValue(\n  markState: Map<G2Mark, G2MarkState>,\n  markName: string,\n  channels: string[],\n) {\n  const [value] = Array.from(markState.entries())\n    .filter(([mark]) => mark.type === markName)\n    .map(([mark]) => {\n      const { encode } = mark;\n      const channel = (name) => {\n        const channel = encode[name];\n        return [name, channel ? channel.value : undefined];\n      };\n      return Object.fromEntries(channels.map(channel));\n    });\n  return value;\n}\n\n/**\n * @todo Perf\n */\nexport function ChartIndex({\n  wait = 20,\n  leading,\n  trailing = false,\n  labelFormatter = (date) => `${date}`,\n  ...style\n}: Record<string, any>) {\n  return (context) => {\n    const { view, container, update, setState } = context;\n    const { markState, scale, coordinate } = view;\n\n    // Get line mark value, exit if it is not existed.\n    const value = markValue(markState, 'line', ['x', 'y', 'series']);\n    if (!value) return;\n\n    // Prepare channel value.\n    const { y: Y, x: X, series: S = [] } = value;\n    const I = Y.map((_, i) => i);\n    const sortedX: number[] = sort(I.map((i) => X[i]));\n\n    // Prepare shapes.\n    const plotArea = selectPlotArea(container);\n    const lines = container.getElementsByClassName(ELEMENT_CLASS_NAME);\n    const labels = container.getElementsByClassName(\n      LABEL_CLASS_NAME,\n    ) as G2Element[];\n\n    // The format of label key: `${elementKey}-index`,\n    // group labels by elementKey.\n    const keyofLabel = (d) => d.__data__.key.split('-')[0];\n    const keyLabels = group(labels, keyofLabel);\n\n    const rule = new Line({\n      style: {\n        x1: 0,\n        y1: 0,\n        x2: 0,\n        y2: plotArea.getAttribute('height'),\n        stroke: 'black',\n        lineWidth: 1,\n        ...subObject(style, 'rule'),\n      },\n    });\n    const text = new Text({\n      style: {\n        x: 0,\n        y: plotArea.getAttribute('height'),\n        text: '',\n        fontSize: 10,\n        ...subObject(style, 'label'),\n      },\n    });\n    rule.append(text);\n    plotArea.appendChild(rule);\n\n    // Get the closet date to the rule.\n    const dateByFocus = (coordinate, scaleX, focus) => {\n      const [normalizedX] = coordinate.invert(focus);\n      const date = scaleX.invert(normalizedX);\n      return sortedX[bisectCenter(sortedX, date)];\n    };\n\n    // Update rule and label content.\n    const updateRule = (focus, date) => {\n      rule.setAttribute('x1', focus[0]);\n      rule.setAttribute('x2', focus[0]);\n      text.setAttribute('text', labelFormatter(date));\n    };\n\n    // Store the new inner state alter rerender the view.\n    let newView;\n\n    // Rerender the view to update basis for each line.\n    const updateBasisByRerender = async (focus) => {\n      // Find the closetDate to the rule.\n      const { x: scaleX } = scale;\n      const date = dateByFocus(coordinate, scaleX, focus);\n\n      updateRule(focus, date);\n\n      setState('chartIndex', (options) => {\n        // Clone options and get line mark.\n        const clonedOptions = deepMix({}, options);\n        const lineMark = clonedOptions.marks.find((d) => d.type === 'line');\n\n        // Update domain of y scale for the line mark.\n        const r = (I: number[]) => max(I, (i) => +Y[i]) / min(I, (i) => +Y[i]);\n        const k = max(rollup(I, r, (i) => S[i]).values());\n        const domainY = [1 / k, k];\n        deepMix(lineMark, {\n          scale: { y: { domain: domainY } },\n        });\n        // Update normalize options.\n        const normalizeY = maybeTransform(lineMark);\n        normalizeY.groupBy = 'color';\n        normalizeY.basis = (I, Y) => {\n          const i = I[bisector((i) => X[+i]).center(I, date)];\n          return Y[i];\n        };\n        // Disable animation.\n        for (const mark of clonedOptions.marks) mark.animate = false;\n        return clonedOptions;\n      });\n\n      const newState = await update('chartIndex');\n      newView = newState.view;\n    };\n\n    // Only apply translate to update basis for each line.\n    // If performance is ok, there is no need to use this\n    // strategy to update basis.\n    const updateBasisByTranslate = (focus) => {\n      // Find the closetDate to the rule.\n      const { scale, coordinate } = newView;\n      const { x: scaleX, y: scaleY } = scale;\n      const date = dateByFocus(coordinate, scaleX, focus);\n\n      updateRule(focus, date);\n\n      // Translate mark and label for better performance.\n      for (const line of lines) {\n        // Compute transform in y direction.\n        const { seriesIndex: SI, key } = line.__data__;\n        const i = SI[bisector((i) => X[+i]).center(SI, date)];\n        const p0 = [0, scaleY.map(1)]; // basis point\n        const p1 = [0, scaleY.map(Y[i] / Y[SI[0]])];\n        const [, y0] = coordinate.map(p0);\n        const [, y1] = coordinate.map(p1);\n        const dy = y0 - y1;\n        line.setAttribute('transform', `translate(0, ${dy})`);\n\n        // Update line and related label.\n        const labels = keyLabels.get(key) || [];\n        for (const label of labels) {\n          // @todo Replace with style.transform.\n          // It now has unexpected behavior.\n          label.setAttribute('dy', dy);\n        }\n      }\n    };\n\n    const updateBasis = throttle(\n      (event) => {\n        const focus = mousePosition(plotArea, event);\n        if (!focus) return;\n        updateBasisByTranslate(focus);\n      },\n      wait,\n      { leading, trailing },\n    ) as (...args: any[]) => void;\n\n    updateBasisByRerender([0, 0]);\n\n    plotArea.addEventListener('pointerenter', updateBasis);\n    plotArea.addEventListener('pointermove', updateBasis);\n    plotArea.addEventListener('pointerleave', updateBasis);\n\n    return () => {\n      rule.remove();\n      plotArea.removeEventListener('pointerenter', updateBasis);\n      plotArea.removeEventListener('pointermove', updateBasis);\n      plotArea.removeEventListener('pointerleave', updateBasis);\n    };\n  };\n}\n\nChartIndex.props = {\n  reapplyWhenUpdate: true,\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3219, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3225, "column": 0}, "map": {"version":3,"file":"legendFilter.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/interaction/legendFilter.ts"],"sourcesContent":["import { DisplayObject } from '@antv/g';\nimport { deepMix, throttle } from '@antv/util';\nimport { subObject } from '../utils/helper';\nimport { ANNOTATION_MARKS } from '../component/constant';\nimport { useState, setCursor, restoreCursor } from './utils';\n\nexport const CATEGORY_LEGEND_CLASS_NAME = 'legend-category';\n\nexport const CONTINUOUS_LEGEND_CLASS_NAME = 'legend-continuous';\n\nexport const LEGEND_ITEMS_CLASS_NAME = 'items-item';\n\nexport const LEGEND_MAKER_CLASS_NAME = 'legend-category-item-marker';\n\nexport const LEGEND_LABEL_CLASS_NAME = 'legend-category-item-label';\n\nexport const LEGEND_FOCUS_ICON_CLASS_NAME = 'legend-category-item-focus-group';\n\nexport function markerOf(item) {\n  return item.getElementsByClassName(LEGEND_MAKER_CLASS_NAME)[0];\n}\n\nexport function labelOf(item) {\n  return item.getElementsByClassName(LEGEND_LABEL_CLASS_NAME)[0];\n}\n\nexport function focusIconOf(item) {\n  return item.getElementsByClassName(LEGEND_FOCUS_ICON_CLASS_NAME)[0];\n}\n\nexport function itemsOf(root) {\n  return root.getElementsByClassName(LEGEND_ITEMS_CLASS_NAME);\n}\n\nexport function legendsOf(root) {\n  return root.getElementsByClassName(CATEGORY_LEGEND_CLASS_NAME);\n}\n\nexport function legendsContinuousOf(root) {\n  return root.getElementsByClassName(CONTINUOUS_LEGEND_CLASS_NAME);\n}\n\nexport function legendClearSetState(root, setState) {\n  const legends = [...legendsOf(root), ...legendsContinuousOf(root)];\n\n  legends.forEach((legend) => {\n    setState(legend, (v) => v);\n  });\n}\n\nexport function dataOf(root) {\n  // legend -> layout -> container\n  let parent = root.parentNode;\n  while (parent && !parent.__data__) {\n    parent = parent.parentNode;\n  }\n  return parent.__data__;\n}\n\nexport function attributesOf(root) {\n  let child = root;\n  while (child && !child.attr('class').startsWith('legend')) {\n    child = child.children[0];\n  }\n  return child.attributes;\n}\n\nfunction legendFilterOrdinal(\n  root: DisplayObject,\n  {\n    legends, // given the root of chart returns legends to be manipulated\n    marker: markerOf, // given the legend returns the marker\n    label: labelOf, // given the legend returns the label\n    datum, // given the legend returns the value\n    filter, // invoke when dispatch filter event,\n    defaultSelect,\n    emitter,\n    channel,\n    state = {} as Record<string, any>, // state options\n  },\n) {\n  // Index handler by item.\n  const itemClick = new Map();\n  const itemPointerenter = new Map();\n  const itemPointerout = new Map();\n  const focusIconClick = new Map();\n\n  const {\n    unselected = {\n      markerStroke: '#aaa',\n      markerFill: '#aaa',\n      labelFill: '#aaa',\n    },\n  } = state;\n  const markerStyle = { unselected: subObject(unselected, 'marker') };\n  const labelStyle = { unselected: subObject(unselected, 'label') };\n  const { setState: setM, removeState: removeM } = useState(\n    markerStyle,\n    undefined,\n  );\n  const { setState: setL, removeState: removeL } = useState(\n    labelStyle,\n    undefined,\n  );\n\n  const items: DisplayObject[] = Array.from(legends(root));\n  let selectedValues = items.map(datum);\n  const updateLegendState = () => {\n    for (const item of items) {\n      const value = datum(item);\n      const marker = markerOf(item);\n      const label = labelOf(item);\n      if (!selectedValues.includes(value)) {\n        setM(marker, 'unselected');\n        setL(label, 'unselected');\n      } else {\n        removeM(marker, 'unselected');\n        removeL(label, 'unselected');\n      }\n    }\n  };\n\n  for (const item of items) {\n    // Defined handlers.\n    const pointerenter = () => {\n      setCursor(root, 'pointer');\n    };\n\n    const pointerout = () => {\n      restoreCursor(root);\n    };\n\n    const click = async (event) => {\n      const value = datum(item);\n      const index = selectedValues.indexOf(value);\n      if (index === -1) selectedValues.push(value);\n      else selectedValues.splice(index, 1);\n      await filter(selectedValues);\n      updateLegendState();\n\n      const { nativeEvent = true } = event;\n      if (!nativeEvent) return;\n      if (selectedValues.length === items.length) {\n        emitter.emit('legend:reset', { nativeEvent });\n      } else {\n        // Emit events.\n        emitter.emit('legend:filter', {\n          ...event,\n          nativeEvent,\n          data: {\n            channel,\n            values: selectedValues,\n          },\n        });\n      }\n    };\n\n    // Bind and store handlers.\n    item.addEventListener('click', click);\n    item.addEventListener('pointerenter', pointerenter);\n    item.addEventListener('pointerout', pointerout);\n    itemClick.set(item, click);\n    itemPointerenter.set(item, pointerenter);\n    itemPointerout.set(item, pointerout);\n\n    const focusIcon = focusIconOf(item);\n    if (focusIcon) {\n      const focusClick = async (event) => {\n        event.stopPropagation();\n        const value = datum(item);\n        const index = selectedValues.indexOf(value);\n        const { nativeEvent = true } = event;\n\n        if (index !== -1 && selectedValues.length === 1) {\n          if (!nativeEvent) return;\n          // If the item is already focused, reset to show all items.\n          selectedValues = items.map(datum);\n          await filter(selectedValues);\n          updateLegendState();\n          emitter.emit('legend:reset', { nativeEvent });\n        } else {\n          // Otherwise, focus on the clicked item.\n          selectedValues = [value];\n          await filter(selectedValues);\n          updateLegendState();\n\n          if (!nativeEvent) return;\n          emitter.emit('legend:focus', {\n            ...event,\n            nativeEvent,\n            data: {\n              channel,\n              value,\n            },\n          });\n        }\n      };\n\n      // Bind focus icon handlers.\n      focusIcon.addEventListener('click', focusClick);\n      focusIconClick.set(item, focusClick);\n    }\n  }\n\n  const onFocus = async (event) => {\n    const { nativeEvent } = event;\n    if (nativeEvent) return;\n\n    const { data } = event;\n    const { channel: specifiedChannel, value } = data;\n    if (specifiedChannel !== channel) return;\n\n    selectedValues = [value];\n\n    await filter(selectedValues);\n    updateLegendState();\n  };\n\n  const onFilter = async (event) => {\n    const { nativeEvent } = event;\n    if (nativeEvent) return;\n    const { data } = event;\n    const { channel: specifiedChannel, values } = data;\n    if (specifiedChannel !== channel) return;\n    selectedValues = values;\n    await filter(selectedValues);\n    updateLegendState();\n  };\n\n  const onEnd = async (event) => {\n    const { nativeEvent } = event;\n    if (nativeEvent) return;\n    selectedValues = items.map(datum);\n    await filter(selectedValues);\n    updateLegendState();\n  };\n\n  emitter.on('legend:filter', onFilter);\n  emitter.on('legend:focus', onFocus);\n  emitter.on('legend:reset', onEnd);\n\n  if (defaultSelect) {\n    emitter.emit('legend:filter', {\n      data: { channel, values: defaultSelect },\n    });\n  }\n\n  return () => {\n    for (const item of items) {\n      item.removeEventListener('click', itemClick.get(item));\n      item.removeEventListener('pointerenter', itemPointerenter.get(item));\n      item.removeEventListener('pointerout', itemPointerout.get(item));\n      const focusIcon = focusIconOf(item);\n      if (focusIcon) {\n        focusIcon.removeEventListener('click', focusIconClick.get(item));\n      }\n\n      emitter.on('legend:focus', onFocus);\n      emitter.off('legend:filter', onFilter);\n      emitter.off('legend:reset', onEnd);\n    }\n  };\n}\n\nfunction legendFilterContinuous(_, { legend, filter, emitter, channel }) {\n  const onValueChange = ({ detail: { value } }) => {\n    filter(value);\n    emitter.emit({\n      nativeEvent: true,\n      data: {\n        channel,\n        values: value,\n      },\n    });\n  };\n  legend.addEventListener('valuechange', onValueChange);\n  return () => {\n    legend.removeEventListener('valuechange', onValueChange);\n  };\n}\n\nasync function filterView(\n  context, // View instance,\n  {\n    legend, // Legend instance.\n    channel, // Filter Channel.\n    value, // Filtered Values.\n    ordinal, // Data type of the legend.\n    channels, // Channels for this legend.\n    allChannels, // Channels for all legends.\n    facet = false, // For facet.\n  },\n) {\n  const { view, update, setState } = context;\n  setState(legend, (viewOptions) => {\n    const { marks } = viewOptions;\n    // Add filter transform for every marks,\n    // which will skip for mark without color channel.\n    const newMarks = marks.map((mark) => {\n      if (mark.type === 'legends') return mark;\n\n      // Skip Annotation marks.\n      if (ANNOTATION_MARKS.includes(mark.type)) return mark;\n\n      // Inset after aggregate transform, such as group, and bin.\n      const { transform = [], data = [] } = mark;\n      const index = transform.findIndex(\n        ({ type }) => type.startsWith('group') || type.startsWith('bin'),\n      );\n      const newTransform = [...transform];\n      if (data.length) {\n        newTransform.splice(index + 1, 0, {\n          type: 'filter',\n          [channel]: { value, ordinal },\n        });\n      }\n\n      // Set domain of scale to preserve encoding.\n      const newScale = Object.fromEntries(\n        channels.map((channel) => [\n          channel,\n          { domain: view.scale[channel].getOptions().domain },\n        ]),\n      );\n      return deepMix({}, mark, {\n        transform: newTransform,\n        scale: newScale,\n        ...(!ordinal && { animate: false }),\n        legend: facet\n          ? false\n          : Object.fromEntries(allChannels.map((d) => [d, { preserve: true }])),\n      });\n    });\n    return { ...viewOptions, marks: newMarks };\n  });\n  await update();\n}\n\nfunction filterFacets(facets, options) {\n  for (const facet of facets) {\n    filterView(facet, { ...options, facet: true });\n  }\n}\n\nexport function LegendFilter() {\n  return (context, contexts, emitter) => {\n    const { container } = context;\n    const facets = contexts.filter((d) => d !== context);\n    const isFacet = facets.length > 0;\n\n    const channelsOf = (legend) => {\n      return dataOf(legend).scales.map((d) => d.name);\n    };\n    const legends = [\n      ...legendsOf(container),\n      ...legendsContinuousOf(container),\n    ];\n    const allChannels = legends.flatMap(channelsOf);\n\n    const filter = isFacet\n      ? throttle(filterFacets, 50, { trailing: true })\n      : throttle(filterView, 50, { trailing: true });\n\n    const removes = legends.map((legend) => {\n      const { name: channel, domain } = dataOf(legend).scales[0];\n      const channels = channelsOf(legend);\n      const common = {\n        legend,\n        channel,\n        channels,\n        allChannels,\n      };\n      if (legend.className === CATEGORY_LEGEND_CLASS_NAME) {\n        return legendFilterOrdinal(container, {\n          legends: itemsOf,\n          marker: markerOf,\n          label: labelOf,\n          datum: (d) => {\n            const { __data__: datum } = d;\n            const { index } = datum;\n            return domain[index];\n          },\n          filter: (value) => {\n            const options = { ...common, value, ordinal: true };\n            if (isFacet) filter(facets, options);\n            else filter(context, options);\n          },\n          state: legend.attributes.state,\n          defaultSelect: legend.attributes.defaultSelect,\n          channel,\n          emitter,\n        });\n      } else {\n        return legendFilterContinuous(container, {\n          legend,\n          filter: (value) => {\n            const options = { ...common, value, ordinal: false };\n            if (isFacet) filter(facets, options);\n            else filter(context, options);\n          },\n          emitter,\n          channel,\n        });\n      }\n    });\n    return () => {\n      removes.forEach((remove) => remove());\n    };\n  };\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3642, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3648, "column": 0}, "map": {"version":3,"file":"legendHighlight.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/interaction/legendHighlight.ts"],"sourcesContent":["import { InternMap, group } from '@antv/vendor/d3-array';\nimport { subObject } from '../utils/helper';\nimport {\n  mergeState,\n  selectG2Elements,\n  useState,\n  createValueof,\n  createDatumof,\n} from './utils';\nimport { markerOf, labelOf, itemsOf, legendsOf, dataOf } from './legendFilter';\n\nexport function LegendHighlight() {\n  return (context, _, emitter) => {\n    const { container, view, options } = context;\n    const legends = legendsOf(container);\n    const elements = selectG2Elements(container);\n    const channelOf = (legend) => {\n      return dataOf(legend).scales[0].name;\n    };\n    const scaleOf = (channel) => {\n      const {\n        scale: { [channel]: scale },\n      } = view;\n      return scale;\n    };\n    const markState = mergeState(options, ['active', 'inactive']);\n    const valueof = createValueof(elements, createDatumof(view));\n    const destroys = [];\n\n    // Bind events for each legend.\n    for (const legend of legends) {\n      const datumOf = (item) => {\n        const { data } = legend.attributes;\n        const { __data__: datum } = item;\n        const { index } = datum;\n        return data[index].label;\n      };\n      const channel = channelOf(legend);\n      const items = itemsOf(legend);\n      const scale = scaleOf(channel);\n      const elementGroup = group<any, any>(elements, (d) =>\n        scale.invert(d.__data__[channel]),\n      );\n      const { state: legendState = {} } = legend.attributes;\n      const { inactive = {} } = legendState;\n      const { setState, removeState } = useState(markState, valueof);\n\n      // Handle styles of inner item.\n      const markerStyle = { inactive: subObject(inactive, 'marker') };\n      const labelStyle = { inactive: subObject(inactive, 'label') };\n      const { setState: setM, removeState: removeM } = useState(markerStyle);\n      const { setState: setL, removeState: removeL } = useState(labelStyle);\n      const updateLegendState = (highlight) => {\n        for (const item of items) {\n          const marker = markerOf(item);\n          const label = labelOf(item);\n          if (item === highlight || highlight === null) {\n            removeM(marker, 'inactive');\n            removeL(label, 'inactive');\n          } else {\n            setM(marker, 'inactive');\n            setL(label, 'inactive');\n          }\n        }\n      };\n      const highlightItem = (event, item) => {\n        // Update UI.\n        const value = datumOf(item);\n        const elementSet = new Set(\n          (elementGroup as InternMap<unknown, any[]>).get(value),\n        );\n        for (const e of elements) {\n          if (elementSet.has(e)) setState(e, 'active');\n          else setState(e, 'inactive');\n        }\n        updateLegendState(item);\n\n        // Emit events.\n        const { nativeEvent = true } = event;\n        if (!nativeEvent) return;\n        emitter.emit('legend:highlight', {\n          ...event,\n          nativeEvent,\n          data: { channel, value },\n        });\n      };\n\n      const itemPointerover = new Map();\n\n      // Add listener for the legend items.\n      for (const item of items) {\n        const pointerover = (event) => {\n          highlightItem(event, item);\n        };\n        item.addEventListener('pointerover', pointerover);\n        itemPointerover.set(item, pointerover);\n      }\n\n      // Add listener for the legend group.\n      const pointerleave = (event) => {\n        for (const e of elements) removeState(e, 'inactive', 'active');\n        updateLegendState(null);\n\n        // Emit events.\n        const { nativeEvent = true } = event;\n        if (!nativeEvent) return;\n        emitter.emit('legend:unhighlight', { nativeEvent });\n      };\n\n      const onHighlight = (event) => {\n        const { nativeEvent, data } = event;\n        if (nativeEvent) return;\n        const { channel: specifiedChannel, value } = data;\n        if (specifiedChannel !== channel) return;\n        const item = items.find((d) => datumOf(d) === value);\n        if (!item) return;\n        highlightItem({ nativeEvent: false }, item);\n      };\n\n      const onUnHighlight = (event) => {\n        const { nativeEvent } = event;\n        if (nativeEvent) return;\n        pointerleave({ nativeEvent: false });\n      };\n\n      legend.addEventListener('pointerleave', pointerleave);\n      emitter.on('legend:highlight', onHighlight);\n      emitter.on('legend:unhighlight', onUnHighlight);\n\n      const destroy = () => {\n        legend.removeEventListener(pointerleave);\n        emitter.off('legend:highlight', onHighlight);\n        emitter.off('legend:unhighlight', onUnHighlight);\n        for (const [item, pointerover] of itemPointerover) {\n          item.removeEventListener(pointerover);\n        }\n      };\n      destroys.push(destroy);\n    }\n\n    return () => destroys.forEach((d) => d());\n  };\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3789, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3795, "column": 0}, "map": {"version":3,"file":"brushHighlight.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/interaction/brushHighlight.ts"],"sourcesContent":["import { DisplayObject, Rect, Path } from '@antv/g';\nimport { subObject, omitPrefixObject } from '../utils/helper';\nimport { selectionOf, pixelsOf } from '../utils/scale';\nimport { createElement } from '../utils/createElement';\nimport { G2Element, select, Selection } from '../utils/selection';\nimport {\n  selectG2Elements,\n  selectPlotArea,\n  createDatumof,\n  useState,\n  createValueof,\n  setCursor,\n  brushMousePosition,\n  selectFacetG2Elements,\n  mergeState,\n  selectFacetViews,\n} from './utils';\n\nfunction intersect(bbox1: any, bbox2: any) {\n  const [minX1, minY1, maxX1, maxY1] = bbox1;\n  const [minX2, minY2, maxX2, maxY2] = bbox2;\n  return !(minX2 > maxX1 || maxX2 < minX1 || minY2 > maxY1 || maxY2 < minY1);\n}\n\nfunction normalizeBounds(x, y, x1, y1, extent) {\n  const [minX, minY, maxX, maxY] = extent;\n  return [\n    Math.max(minX, Math.min(x, x1)),\n    Math.max(minY, Math.min(y, y1)),\n    Math.min(maxX, Math.max(x, x1)),\n    Math.min(maxY, Math.max(y, y1)),\n  ];\n}\n\nfunction bboxOf(root: DisplayObject) {\n  const { width, height } = root.getBBox();\n  return [0, 0, width, height];\n}\n\nfunction applyStyle(selection: Selection, style: Record<string, any>) {\n  for (const [key, value] of Object.entries(style)) {\n    selection.style(key, value);\n  }\n}\n\nconst ResizableMask = createElement((g) => {\n  const {\n    x,\n    y,\n    width,\n    height,\n    class: className,\n    renders = {},\n    handleSize: size = 10,\n    document,\n    ...style\n  } = g.attributes;\n\n  if (\n    !document ||\n    width === undefined ||\n    height === undefined ||\n    x === undefined ||\n    y === undefined\n  )\n    return;\n\n  const half = size / 2;\n\n  const renderRect = (g, options, document) => {\n    if (!g.handle) {\n      g.handle = document.createElement('rect');\n      g.append(g.handle);\n    }\n    const { handle } = g;\n    handle.attr(options);\n    return handle;\n  };\n\n  const { render: handleNRender = renderRect, ...handleNStyle } = subObject(\n    omitPrefixObject(style, 'handleNW', 'handleNE'),\n    'handleN',\n  );\n\n  const { render: handleERender = renderRect, ...handleEStyle } = subObject(\n    style,\n    'handleE',\n  );\n  const { render: handleSRender = renderRect, ...handleSStyle } = subObject(\n    omitPrefixObject(style, 'handleSE', 'handleSW'),\n    'handleS',\n  );\n  const { render: handleWRender = renderRect, ...handleWStyle } = subObject(\n    style,\n    'handleW',\n  );\n  const { render: handleNWRender = renderRect, ...handleNWStyle } = subObject(\n    style,\n    'handleNW',\n  );\n  const { render: handleNERender = renderRect, ...handleNEStyle } = subObject(\n    style,\n    'handleNE',\n  );\n  const { render: handleSERender = renderRect, ...handleSEStyle } = subObject(\n    style,\n    'handleSE',\n  );\n  const { render: handleSWRender = renderRect, ...handleSWStyle } = subObject(\n    style,\n    'handleSW',\n  );\n\n  const renderHandle = (g, renderNode) => {\n    const { id } = g;\n    const handle = renderNode(g, g.attributes, document);\n    handle.id = id;\n    handle.style.draggable = true;\n  };\n\n  const appendHandle = (handleRender) => {\n    return () => {\n      const Node = createElement((g) => renderHandle(g, handleRender));\n      return new Node({});\n    };\n  };\n\n  const container = select(g)\n    .attr('className', className)\n    .style('transform', `translate(${x}, ${y})`)\n    .style('draggable', true);\n\n  container\n    .maybeAppend('selection', 'rect')\n    .style('draggable', true)\n    .style('fill', 'transparent')\n    .call(applyStyle, {\n      width,\n      height,\n      ...omitPrefixObject(style, 'handle'),\n      transform: undefined,\n    });\n\n  container\n    .maybeAppend('handle-n', appendHandle(handleNRender))\n    .style('x', half)\n    .style('y', -half)\n    .style('width', width - size)\n    .style('height', size)\n    .style('fill', 'transparent')\n    .call(applyStyle, handleNStyle);\n\n  container\n    .maybeAppend('handle-e', appendHandle(handleERender))\n    .style('x', width - half)\n    .style('y', half)\n    .style('width', size)\n    .style('height', height - size)\n    .style('fill', 'transparent')\n    .call(applyStyle, handleEStyle);\n\n  container\n    .maybeAppend('handle-s', appendHandle(handleSRender))\n    .style('x', half)\n    .style('y', height - half)\n    .style('width', width - size)\n    .style('height', size)\n    .style('fill', 'transparent')\n    .call(applyStyle, handleSStyle);\n\n  container\n    .maybeAppend('handle-w', appendHandle(handleWRender))\n    .style('x', -half)\n    .style('y', half)\n    .style('width', size)\n    .style('height', height - size)\n    .style('fill', 'transparent')\n    .call(applyStyle, handleWStyle);\n\n  container\n    .maybeAppend('handle-nw', appendHandle(handleNWRender))\n    .style('x', -half)\n    .style('y', -half)\n    .style('width', size)\n    .style('height', size)\n    .style('fill', 'transparent')\n    .call(applyStyle, handleNWStyle);\n\n  container\n    .maybeAppend('handle-ne', appendHandle(handleNERender))\n    .style('x', width - half)\n    .style('y', -half)\n    .style('width', size)\n    .style('height', size)\n    .style('fill', 'transparent')\n    .call(applyStyle, handleNEStyle);\n\n  container\n    .maybeAppend('handle-se', appendHandle(handleSERender))\n    .style('x', width - half)\n    .style('y', height - half)\n    .style('width', size)\n    .style('height', size)\n    .style('fill', 'transparent')\n    .call(applyStyle, handleSEStyle);\n\n  container\n    .maybeAppend('handle-sw', appendHandle(handleSWRender))\n    .style('x', -half)\n    .style('y', height - half)\n    .style('width', size)\n    .style('height', size)\n    .style('fill', 'transparent')\n    .call(applyStyle, handleSWStyle);\n});\n\nexport function brush(\n  root: DisplayObject,\n  {\n    brushed = () => {},\n    brushended = () => {},\n    brushcreated = () => {},\n    brushstarted = () => {},\n    brushupdated = () => {},\n    extent = bboxOf(root),\n    brushRegion = (x, y, x1, y1, extent) => [x, y, x1, y1],\n    reverse = false,\n    fill = '#777',\n    fillOpacity = '0.3',\n    stroke = '#fff',\n    selectedHandles = [\n      'handle-n',\n      'handle-e',\n      'handle-s',\n      'handle-w',\n      'handle-nw',\n      'handle-ne',\n      'handle-se',\n      'handle-sw',\n    ],\n    ...style\n  }: Record<string, any>,\n) {\n  let start = null; // Start point of mask.\n  let end = null; // End point of mask.\n  let moveStart = null; // Start point of moving mask.\n  let mask = null; // Mask instance.\n  let background = null;\n  let creating = false;\n\n  const [originX, originY, width, height] = extent;\n\n  setCursor(root, 'crosshair');\n  root.style.draggable = true; // Make it response to drag event.\n\n  // Remove old mask and init new mask.\n  const initMask = (x, y, event) => {\n    brushstarted(event);\n    if (mask) mask.remove();\n    if (background) background.remove();\n    start = [x, y];\n    if (reverse) return initReverseMask();\n    initNormalMask();\n  };\n\n  const initReverseMask = () => {\n    background = new Path({\n      style: {\n        ...style,\n        fill,\n        fillOpacity,\n        stroke,\n        pointerEvents: 'none',\n      },\n    });\n    mask = new ResizableMask({\n      // @ts-ignore\n      style: {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0,\n        draggable: true,\n        document: root.ownerDocument,\n      },\n      className: 'mask',\n    });\n    root.appendChild(background);\n    root.appendChild(mask);\n  };\n\n  const initNormalMask = () => {\n    mask = new ResizableMask({\n      // @ts-ignore\n      style: {\n        document: root.ownerDocument,\n        x: 0,\n        y: 0,\n        ...style,\n        fill,\n        fillOpacity,\n        stroke,\n        draggable: true, // Make it response to drag event.\n      },\n      className: 'mask',\n    });\n    root.appendChild(mask);\n  };\n\n  // Remove mask and reset states.\n  const removeMask = (emit = true) => {\n    if (mask) mask.remove();\n    if (background) background.remove();\n    start = null;\n    end = null;\n    moveStart = null;\n    creating = false;\n    mask = null;\n    background = null;\n    brushended(emit);\n  };\n\n  // Update mask and invoke brushended callback.\n  const updateMask = (start, end, emit = true) => {\n    const [x, y, x1, y1] = normalizeBounds(\n      start[0],\n      start[1],\n      end[0],\n      end[1],\n      extent,\n    );\n    const [fx, fy, fx1, fy1] = brushRegion(x, y, x1, y1, extent);\n    if (reverse) updateReverseMask(fx, fy, fx1, fy1);\n    else updateNormalMask(fx, fy, fx1, fy1);\n    brushed(fx, fy, fx1, fy1, emit);\n    return [fx, fy, fx1, fy1];\n  };\n\n  const updateNormalMask = (x, y, x1, y1) => {\n    mask.style.x = x;\n    mask.style.y = y;\n    mask.style.width = x1 - x;\n    mask.style.height = y1 - y;\n  };\n\n  const updateReverseMask = (x, y, x1, y1) => {\n    background.style.d = `\n      M${originX},${originY}L${width},${originY}L${width},${height}L${originX},${height}Z\n      M${x},${y}L${x},${y1}L${x1},${y1}L${x1},${y}Z\n    `;\n    mask.style.x = x;\n    mask.style.y = y;\n    mask.style.width = x1 - x;\n    mask.style.height = y1 - y;\n  };\n\n  // Move and update mask.\n  const moveMask = (current) => {\n    const clip = (dt, start, end, min, max) => {\n      if (dt + start < min) return min - start;\n      if (dt + end > max) return max - end;\n      return dt;\n    };\n    const dx = current[0] - moveStart[0];\n    const dy = current[1] - moveStart[1];\n    const dx1 = clip(dx, start[0], end[0], originX, width);\n    const dy1 = clip(dy, start[1], end[1], originY, height);\n    const currentStart = [start[0] + dx1, start[1] + dy1];\n    const currentEnd = [end[0] + dx1, end[1] + dy1];\n    updateMask(currentStart, currentEnd);\n  };\n\n  const handles = {\n    'handle-n': { vector: [0, 1, 0, 0], cursor: 'ns-resize' },\n    'handle-e': { vector: [0, 0, 1, 0], cursor: 'ew-resize' },\n    'handle-s': { vector: [0, 0, 0, 1], cursor: 'ns-resize' },\n    'handle-w': { vector: [1, 0, 0, 0], cursor: 'ew-resize' },\n    'handle-nw': { vector: [1, 1, 0, 0], cursor: 'nwse-resize' },\n    'handle-ne': { vector: [0, 1, 1, 0], cursor: 'nesw-resize' },\n    'handle-se': { vector: [0, 0, 1, 1], cursor: 'nwse-resize' },\n    'handle-sw': { vector: [1, 0, 0, 1], cursor: 'nesw-resize' },\n  };\n\n  const isMask = (target) => {\n    return isSelection(target) || isHandle(target);\n  };\n\n  const isHandle = (target) => {\n    const { id } = target;\n    if (selectedHandles.indexOf(id) === -1) return false;\n    return new Set(Object.keys(handles)).has(id);\n  };\n\n  const isSelection = (target) => {\n    return target === mask.getElementById('selection');\n  };\n\n  // If target is plot area, create mask.\n  // If target is mask, about to update position.\n  const dragstart = (event) => {\n    const { target } = event;\n    const [offsetX, offsetY] = brushMousePosition(root, event);\n    if (!mask || !isMask(target)) {\n      initMask(offsetX, offsetY, event);\n      creating = true;\n      return;\n    }\n    if (isMask(target)) {\n      moveStart = [offsetX, offsetY];\n    }\n  };\n\n  const drag = (event) => {\n    const { target } = event;\n    const mouse = brushMousePosition(root, event);\n    if (!start) return;\n    // If target is plot area, resize mask.\n    if (!moveStart) return updateMask(start, mouse);\n\n    // If target is selection area, move mask.\n    if (isSelection(target)) return moveMask(mouse);\n\n    // If target is handle area, resize mask.\n    const [dx, dy] = [mouse[0] - moveStart[0], mouse[1] - moveStart[1]];\n    const { id } = target;\n    if (handles[id]) {\n      const [sx, sy, ex, ey] = handles[id].vector;\n      return updateMask(\n        [start[0] + dx * sx, start[1] + dy * sy],\n        [end[0] + dx * ex, end[1] + dy * ey],\n      );\n    }\n  };\n\n  // If target is plot area, finish creating.\n  // If target is mask, finish moving mask.\n  const dragend = (event) => {\n    if (moveStart) {\n      moveStart = null;\n      // Update start and end;\n      const { x, y, width, height } = mask.style;\n      start = [x, y];\n      end = [x + width, y + height];\n      brushupdated(x, y, x + width, y + height, event);\n      return;\n    }\n    end = brushMousePosition(root, event);\n    const [fx, fy, fx1, fy1] = updateMask(start, end);\n    creating = false;\n    brushcreated(fx, fy, fx1, fy1, event);\n  };\n\n  // Hide mask.\n  const click = (event) => {\n    const { target } = event;\n    if (mask && !isMask(target)) removeMask();\n  };\n\n  // Update cursor depends on hovered element.\n  const pointermove = (event) => {\n    const { target } = event;\n    if (!mask || !isMask(target) || creating) setCursor(root, 'crosshair');\n    else if (isSelection(target)) setCursor(root, 'move');\n    else if (isHandle(target)) setCursor(root, handles[target.id].cursor);\n  };\n\n  const pointerleave = () => {\n    setCursor(root, 'default');\n  };\n\n  root.addEventListener('dragstart', dragstart);\n  root.addEventListener('drag', drag);\n  root.addEventListener('dragend', dragend);\n  root.addEventListener('click', click);\n  root.addEventListener('pointermove', pointermove);\n  root.addEventListener('pointerleave', pointerleave);\n\n  return {\n    mask,\n    move(x, y, x1, y1, emit = true) {\n      if (!mask) initMask(x, y, {});\n      start = [x, y];\n      end = [x1, y1];\n      updateMask([x, y], [x1, y1], emit);\n    },\n    remove(emit = true) {\n      if (mask) removeMask(emit);\n    },\n    destroy() {\n      // Do not emit brush:end event.\n      if (mask) removeMask(false);\n      setCursor(root, 'default');\n      root.removeEventListener('dragstart', dragstart);\n      root.removeEventListener('drag', drag);\n      root.removeEventListener('dragend', dragend);\n      root.removeEventListener('click', click);\n      root.removeEventListener('pointermove', pointermove);\n      root.removeEventListener('pointerleave', pointerleave);\n    },\n  };\n}\n\nfunction selectSiblingViews(target, viewInstances, brushKey) {\n  return viewInstances.filter((d) => {\n    if (d === target) return false;\n    const { interaction = {} } = d.options;\n    return Object.values(interaction as Record<string, any>).find(\n      (d) => d.brushKey === brushKey,\n    );\n  });\n}\n\nfunction selectSiblingContainers(target, viewInstances, brushKey) {\n  return selectSiblingViews(target, viewInstances, brushKey).map((d) =>\n    selectPlotArea(d.container),\n  );\n}\n\nfunction selectSiblingOptions(target, viewInstances, brushKey) {\n  return selectSiblingViews(target, viewInstances, brushKey).map(\n    (d) => d.options,\n  );\n}\n\n/**\n * @todo Brush over view for series view.\n * @todo Test perf.\n */\nexport function brushHighlight(\n  root,\n  {\n    elements: elementof,\n    selectedHandles,\n    siblings: siblingsof = (root) => [],\n    datum,\n    brushRegion,\n    extent: optionalExtent,\n    reverse,\n    scale,\n    coordinate,\n    series = false,\n    key = (d) => d,\n    bboxOf = (root) => {\n      const { x, y, width, height } = root.style;\n      return { x, y, width, height };\n    },\n    state = {},\n    emitter,\n    ...rest\n  },\n) {\n  const elements = elementof(root);\n  const siblings = siblingsof(root);\n  const siblingElements = siblings.flatMap(elementof);\n  const valueof = createValueof(elements, datum);\n  const brushStyle = subObject(rest, 'mask');\n  const { setState, removeState } = useState(state, valueof);\n  const clonedElement = new Map();\n  const {\n    width: rootWidth,\n    height: rootHeight,\n    x: ordinalX = 0,\n    y: ordinalY = 0,\n  } = bboxOf(root);\n  const extent = optionalExtent\n    ? optionalExtent\n    : [0, 0, rootWidth, rootHeight];\n\n  const brushended = () => {\n    for (const element of [...elements, ...siblingElements]) {\n      removeState(element, 'active', 'inactive');\n    }\n  };\n\n  const brushed = (x, y, x1, y1) => {\n    // Hide brush for the sibling view.\n    for (const sibling of siblings) sibling.brush?.remove();\n\n    // Store the key of the active element.\n    const keys = new Set();\n\n    // Highlight and store selected elements.\n    for (const element of elements) {\n      const { min, max } = element.getLocalBounds();\n      const [ex, ey] = min;\n      const [ex1, ey1] = max;\n      if (!intersect([ex, ey, ex1, ey1], [x, y, x1, y1])) {\n        setState(element, 'inactive');\n      } else {\n        setState(element, 'active');\n        keys.add(key(element));\n      }\n    }\n\n    // Highlight elements with same key in sibling view.\n    for (const element of siblingElements) {\n      if (keys.has(key(element))) setState(element, 'active');\n      else setState(element, 'inactive');\n    }\n  };\n\n  const seriesBrushend = () => {\n    for (const element of elements) removeState(element, 'inactive');\n    for (const cloned of clonedElement.values()) cloned.remove();\n    clonedElement.clear();\n  };\n\n  const seriesBrushed = (x, y, x1, y1) => {\n    const clone = (element) => {\n      const cloned = element.cloneNode();\n      cloned.__data__ = element.__data__;\n      element.parentNode.appendChild(cloned);\n      clonedElement.set(element, cloned);\n      return cloned;\n    };\n\n    // Create a clipPath shared between all children.\n    const clipPath = new Rect({\n      style: {\n        x: x + ordinalX,\n        y: y + ordinalY,\n        width: x1 - x,\n        height: y1 - y,\n      },\n    });\n    root.appendChild(clipPath);\n\n    for (const element of elements) {\n      const cloned = clonedElement.get(element) || clone(element);\n      cloned.style.clipPath = clipPath;\n      setState(element, 'inactive');\n      setState(cloned, 'active');\n    }\n  };\n\n  const brushHandler = brush(root, {\n    ...brushStyle,\n    extent,\n    brushRegion,\n    reverse,\n    selectedHandles,\n    brushended: (emit) => {\n      const handler = series ? seriesBrushend : brushended;\n      if (emit) {\n        emitter.emit('brush:remove', { nativeEvent: true });\n      }\n      handler();\n    },\n    brushed: (x, y, x1, y1, emit) => {\n      const selection = selectionOf(x, y, x1, y1, scale, coordinate);\n      if (emit) {\n        emitter.emit('brush:highlight', {\n          nativeEvent: true,\n          data: { selection },\n        });\n      }\n      const handler = series ? seriesBrushed : brushed;\n      handler(x, y, x1, y1);\n    },\n    brushcreated: (x, y, x1, y1, event) => {\n      const selection = selectionOf(x, y, x1, y1, scale, coordinate);\n      emitter.emit('brush:end', {\n        ...event,\n        nativeEvent: true,\n        data: { selection },\n      });\n    },\n    brushupdated: (x, y, x1, y1, event) => {\n      const selection = selectionOf(x, y, x1, y1, scale, coordinate);\n      emitter.emit('brush:end', {\n        ...event,\n        nativeEvent: true,\n        data: { selection },\n      });\n    },\n    brushstarted: (e) => {\n      emitter.emit('brush:start', e);\n    },\n  });\n\n  // Move brush and highlight data.\n  const onHighlight = ({ nativeEvent, data }) => {\n    if (nativeEvent) return;\n    const { selection } = data;\n    const [x, y, x1, y1] = pixelsOf(selection, scale, coordinate);\n    brushHandler.move(x, y, x1, y1, false);\n  };\n  emitter.on('brush:highlight', onHighlight);\n\n  // Remove brush and reset data.\n  const onRemove = ({ nativeEvent }: any = {}) => {\n    if (nativeEvent) return;\n    brushHandler.remove(false);\n  };\n  emitter.on('brush:remove', onRemove);\n\n  // Remove event handlers.\n  const preBrushDestroy = brushHandler.destroy.bind(brushHandler);\n  brushHandler.destroy = () => {\n    emitter.off('brush:highlight', onHighlight);\n    emitter.off('brush:remove', onRemove);\n    preBrushDestroy();\n  };\n\n  return brushHandler;\n}\n\nexport function BrushHighlight({ facet, brushKey, ...rest }) {\n  return (target, viewInstances, emitter) => {\n    const { container, view, options } = target;\n    const plotArea = selectPlotArea(container);\n    const defaultOptions = {\n      maskFill: '#777',\n      maskFillOpacity: '0.3',\n      maskStroke: '#fff',\n      reverse: false,\n    };\n    const defaultStates = ['active', ['inactive', { opacity: 0.5 }]];\n    const { scale, coordinate } = view;\n\n    if (facet) {\n      const bbox = plotArea.getBounds();\n      const x = bbox.min[0];\n      const y = bbox.min[1];\n      const x1 = bbox.max[0];\n      const y1 = bbox.max[1];\n      return brushHighlight(plotArea.parentNode.parentNode, {\n        elements: () => selectFacetG2Elements(target, viewInstances),\n        datum: createDatumof(\n          selectFacetViews(target, viewInstances).map((d) => d.view),\n        ),\n        brushRegion: (x, y, x1, y1) => [x, y, x1, y1],\n        extent: [x, y, x1, y1],\n        state: mergeState(\n          selectFacetViews(target, viewInstances).map((d) => d.options),\n          defaultStates,\n        ),\n        emitter,\n        scale,\n        coordinate,\n        selectedHandles: undefined,\n        ...defaultOptions,\n        ...rest,\n      });\n    }\n\n    const brush = brushHighlight(plotArea, {\n      elements: selectG2Elements,\n      key: (element) => element.__data__.key,\n      siblings: () => selectSiblingContainers(target, viewInstances, brushKey),\n      datum: createDatumof([\n        view,\n        ...selectSiblingViews(target, viewInstances, brushKey).map(\n          (d) => d.view,\n        ),\n      ]),\n      brushRegion: (x, y, x1, y1) => [x, y, x1, y1],\n      extent: undefined,\n      state: mergeState(\n        [options, ...selectSiblingOptions(target, viewInstances, brushKey)],\n        defaultStates,\n      ),\n      emitter,\n      scale,\n      coordinate,\n      selectedHandles: undefined,\n      ...defaultOptions,\n      ...rest,\n    });\n\n    // Bind brush to the view it belongs to.\n    //@ts-ignore\n    plotArea.brush = brush;\n\n    return () => brush.destroy();\n  };\n}\n\n// Ensure BrushHighlight gets reapplied when view updates (e.g., after slider filter)\nBrushHighlight.props = {\n  reapplyWhenUpdate: true,\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4566, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4572, "column": 0}, "map": {"version":3,"file":"brushXHighlight.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/interaction/brushXHighlight.ts"],"sourcesContent":["import { BrushHighlight } from './brushHighlight';\n\nexport function brushXRegion(x, y, x1, y1, extent) {\n  const [, minY, , maxY] = extent;\n  return [x, minY, x1, maxY];\n}\n\nexport function BrushXHighlight(options) {\n  return BrushHighlight({\n    ...options,\n    brushRegion: brushXRegion,\n    selectedHandles: ['handle-e', 'handle-w'],\n  });\n}\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,cAAc,EAAE,MAAM,kBAAkB,CAAC;;AAE5C,SAAU,YAAY,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,MAAM;IAC/C,MAAM,CAAC,EAAE,IAAI,EAAE,AAAD,EAAG,IAAI,CAAC,GAAG,MAAM,CAAC;IAChC,OAAO;QAAC,CAAC;QAAE,IAAI;QAAE,EAAE;QAAE,IAAI;KAAC,CAAC;AAC7B,CAAC;AAEK,SAAU,eAAe,CAAC,OAAO;IACrC,mLAAO,iBAAA,AAAc,EAAA,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA,CAAA,GAChB,OAAO,GAAA;QACV,WAAW,EAAE,YAAY;QACzB,eAAe,EAAE;YAAC,UAAU;YAAE,UAAU;SAAC;IAAA,GACzC,CAAC;AACL,CAAC","ignoreList":[0]}},
    {"offset": {"line": 4596, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4602, "column": 0}, "map": {"version":3,"file":"brushYHighlight.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/interaction/brushYHighlight.ts"],"sourcesContent":["import { BrushHighlight } from './brushHighlight';\n\nexport function brushYRegion(x, y, x1, y1, extent) {\n  const [minX, , maxX] = extent;\n  return [minX, y, maxX, y1];\n}\n\nexport function BrushYHighlight(options) {\n  return BrushHighlight({\n    ...options,\n    brushRegion: brushYRegion,\n    selectedHandles: ['handle-n', 'handle-s'],\n  });\n}\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,cAAc,EAAE,MAAM,kBAAkB,CAAC;;AAE5C,SAAU,YAAY,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,MAAM;IAC/C,MAAM,CAAC,IAAI,EAAE,AAAD,EAAG,IAAI,CAAC,GAAG,MAAM,CAAC;IAC9B,OAAO;QAAC,IAAI;QAAE,CAAC;QAAE,IAAI;QAAE,EAAE;KAAC,CAAC;AAC7B,CAAC;AAEK,SAAU,eAAe,CAAC,OAAO;IACrC,mLAAO,iBAAA,AAAc,EAAA,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA,CAAA,GAChB,OAAO,GAAA;QACV,WAAW,EAAE,YAAY;QACzB,eAAe,EAAE;YAAC,UAAU;YAAE,UAAU;SAAC;IAAA,GACzC,CAAC;AACL,CAAC","ignoreList":[0]}},
    {"offset": {"line": 4626, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4632, "column": 0}, "map": {"version":3,"file":"brushAxisHighlight.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/interaction/brushAxisHighlight.ts"],"sourcesContent":["import { Rect } from '@antv/g';\nimport { subObject } from '../utils/helper';\nimport { domainOf, pixelsOf } from '../utils/scale';\nimport { brush } from './brushHighlight';\nimport { brushXRegion } from './brushXHighlight';\nimport { brushYRegion } from './brushYHighlight';\nimport {\n  selectG2Elements,\n  createDatumof,\n  createValueof,\n  useState,\n  selectPlotArea,\n  mergeState,\n} from './utils';\n\nexport const AXIS_CLASS_NAME = 'axis';\n\nexport const AXIS_LINE_CLASS_NAME = 'axis-line';\n\nexport const AXIS_MAIN_CLASS_NAME = 'axis-main-group';\n\nexport const AXIS_HOT_AREA_CLASS_NAME = 'axis-hot-area';\n\nfunction axesOf(container) {\n  return container.getElementsByClassName(AXIS_CLASS_NAME);\n}\n\nfunction lineOf(axis) {\n  return axis.getElementsByClassName(AXIS_LINE_CLASS_NAME)[0];\n}\n\nfunction mainGroupOf(axis) {\n  return axis.getElementsByClassName(AXIS_MAIN_CLASS_NAME)[0];\n}\n\n// Use the bounds of main group of axis as the bounds of axis,\n// get rid of grid and title.\nfunction boundsOfAxis(axis) {\n  return mainGroupOf(axis).getLocalBounds();\n}\n\n// Brush for vertical axis.\nfunction verticalBrush(axis, { cross, offsetX, offsetY, ...style }) {\n  const bounds = boundsOfAxis(axis);\n  const axisLine = lineOf(axis);\n  const [lineX] = axisLine.getLocalBounds().min;\n  const [minX, minY] = bounds.min;\n  const [maxX, maxY] = bounds.max;\n  const size = (maxX - minX) * 2;\n  return {\n    brushRegion: brushYRegion,\n    hotZone: new Rect({\n      className: AXIS_HOT_AREA_CLASS_NAME,\n      style: {\n        // If it is not cross, draw brush in both side of axisLine,\n        // otherwise the draw brush within bounds area.\n        width: cross ? size / 2 : size,\n        transform: `translate(${(cross ? minX : lineX - size / 2).toFixed(\n          2,\n        )}, ${minY})`,\n        height: maxY - minY,\n        ...style,\n      },\n    }),\n    extent: cross\n      ? // If it is cross, the x range is ignored.\n        (x, y, x1, y1) => [-Infinity, y, Infinity, y1]\n      : (x, y, x1, y1) => [\n          Math.floor(minX - offsetX),\n          y,\n          Math.ceil(maxX - offsetX),\n          y1,\n        ],\n  };\n}\n\n// Brush for horizontal axis.\nfunction horizontalBrush(axis, { offsetY, offsetX, cross = false, ...style }) {\n  const bounds = boundsOfAxis(axis);\n  const axisLine = lineOf(axis);\n  const [, lineY] = axisLine.getLocalBounds().min;\n  const [minX, minY] = bounds.min;\n  const [maxX, maxY] = bounds.max;\n  const size = maxY - minY;\n  return {\n    brushRegion: brushXRegion,\n    hotZone: new Rect({\n      className: AXIS_HOT_AREA_CLASS_NAME,\n      style: {\n        width: maxX - minX,\n        // If it is not cross, draw brush in both side of axisLine,\n        // otherwise the draw brush within bounds area.\n        height: cross ? size : size * 2,\n        transform: `translate(${minX}, ${cross ? minY : lineY - size})`,\n        ...style,\n      },\n    }),\n    extent: cross\n      ? // If it is cross, the y range is ignored.\n        (x, y, x1, y1) => [x, -Infinity, x1, Infinity]\n      : (x, y, x1, y1) => [\n          x,\n          Math.floor(minY - offsetY),\n          x1,\n          Math.ceil(maxY - offsetY),\n        ],\n  };\n}\n\nexport function brushAxisHighlight(\n  root,\n  {\n    axes: axesOf, // given root, return axes\n    elements: elementsOf, // given root, return elements\n    points: pointsOf, // given shape, return control points\n    horizontal: isHorizontal, // given axis, return direction\n    datum, // given shape, return datum\n    offsetY, // offsetY for shape area\n    offsetX, // offsetX for shape area\n    reverse = false,\n    state = {},\n    emitter,\n    coordinate,\n    ...rest // style\n  },\n) {\n  const elements = elementsOf(root);\n  const axes = axesOf(root);\n  const valueof = createValueof(elements, datum);\n  const { setState, removeState } = useState(state, valueof);\n  const axisExtent = new Map();\n  const brushStyle = subObject(rest, 'mask');\n\n  // Only some of shape's points in all mask, it is selected.\n  const brushed = (points) =>\n    Array.from(axisExtent.values()).every(([x, y, x1, y1]) =>\n      points.some(([x0, y0]) => {\n        return x0 >= x && x0 <= x1 && y0 >= y && y0 <= y1;\n      }),\n    );\n\n  const scales = axes.map((d) => d.attributes.scale);\n\n  const extentOf = (D) => (D.length > 2 ? [D[0], D[D.length - 1]] : D);\n\n  const indexDomain = new Map<number, [any, any]>();\n\n  const initIndexDomain = () => {\n    indexDomain.clear();\n    for (let i = 0; i < axes.length; i++) {\n      const scale = scales[i];\n      const { domain } = scale.getOptions();\n      indexDomain.set(i, extentOf(domain));\n    }\n  };\n\n  initIndexDomain();\n\n  // Update element when brush changed.\n  const updateElement = (i, emit) => {\n    const selectedElements = [];\n    for (const element of elements) {\n      const points = pointsOf(element);\n      if (brushed(points)) {\n        setState(element, 'active');\n        selectedElements.push(element);\n      } else setState(element, 'inactive');\n    }\n\n    indexDomain.set(i, selectionOf(selectedElements, i));\n\n    if (!emit) return;\n\n    // Emit events.\n    const selection = () => {\n      if (!cross) return Array.from(indexDomain.values());\n      const S = [];\n      for (const [index, domain] of indexDomain) {\n        const scale = scales[index];\n        const { name } = scale.getOptions();\n        if (name === 'x') S[0] = domain;\n        else S[1] = domain;\n      }\n      return S;\n    };\n    emitter.emit('brushAxis:highlight', {\n      nativeEvent: true,\n      data: {\n        selection: selection(),\n      },\n    });\n  };\n\n  const clearElement = (emit) => {\n    for (const element of elements) removeState(element, 'active', 'inactive');\n    initIndexDomain();\n    if (!emit) return;\n    emitter.emit('brushAxis:remove', { nativeEvent: true });\n  };\n\n  const selectionOf = (selected, i) => {\n    const scale = scales[i];\n    const { name } = scale.getOptions();\n    const domain = selected.map((d) => {\n      const data = d.__data__;\n      return scale.invert(data[name]);\n    });\n    return extentOf(domainOf(scale, domain));\n  };\n\n  // Distinguish between parallel coordinates and normal charts.\n  const cross = axes.some(isHorizontal) && axes.some((d) => !isHorizontal(d));\n  const handlers = [];\n  for (let i = 0; i < axes.length; i++) {\n    const axis = axes[i];\n    const createBrush = isHorizontal(axis) ? horizontalBrush : verticalBrush;\n    const { hotZone, brushRegion, extent } = createBrush(axis, {\n      offsetY,\n      offsetX,\n      cross,\n      zIndex: 999, // Pin mask to top.\n      fill: 'transparent', // Make it interactive.\n    });\n    axis.parentNode.appendChild(hotZone);\n\n    const brushHandler = brush(hotZone, {\n      ...brushStyle,\n      reverse,\n      brushRegion,\n      brushended(emit) {\n        axisExtent.delete(axis);\n        if (Array.from(axisExtent.entries()).length === 0) clearElement(emit);\n        else updateElement(i, emit);\n      },\n      brushed(x, y, x1, y1, emit) {\n        axisExtent.set(axis, extent(x, y, x1, y1));\n        updateElement(i, emit);\n      },\n    });\n    handlers.push(brushHandler);\n  }\n\n  const onRemove = (event: any = {}) => {\n    const { nativeEvent } = event;\n    if (nativeEvent) return;\n    handlers.forEach((d) => d.remove(false));\n  };\n\n  const rangeOf = (domain, scale, axis) => {\n    const [d0, d1] = domain;\n    const maybeStep = (scale) => (scale.getStep ? scale.getStep() : 0);\n    const x = abstractOf(d0, scale, axis);\n    const x1 = abstractOf(d1, scale, axis) + maybeStep(scale);\n    if (isHorizontal(axis)) return [x, -Infinity, x1, Infinity];\n    return [-Infinity, x, Infinity, x1];\n  };\n\n  const abstractOf = (x, scale, axis) => {\n    const { height, width } = coordinate.getOptions();\n    const scale1 = scale.clone();\n    if (isHorizontal(axis)) scale1.update({ range: [0, width] });\n    else scale1.update({ range: [height, 0] });\n    return scale1.map(x);\n  };\n\n  const onHighlight = (event) => {\n    const { nativeEvent } = event;\n    if (nativeEvent) return;\n    const { selection } = event.data;\n    for (let i = 0; i < handlers.length; i++) {\n      const domain = selection[i];\n      const handler = handlers[i];\n      const axis = axes[i];\n      if (domain) {\n        const scale = scales[i];\n        handler.move(...rangeOf(domain, scale, axis), false);\n      } else {\n        handler.remove(false);\n      }\n    }\n  };\n\n  emitter.on('brushAxis:remove', onRemove);\n  emitter.on('brushAxis:highlight', onHighlight);\n\n  return () => {\n    handlers.forEach((d) => d.destroy());\n    emitter.off('brushAxis:remove', onRemove);\n    emitter.off('brushAxis:highlight', onHighlight);\n  };\n}\n\n/**\n * @todo Support mask size.\n */\nexport function BrushAxisHighlight(options) {\n  return (target, _, emitter) => {\n    const { container, view, options: viewOptions } = target;\n    const plotArea = selectPlotArea(container);\n    const { x: x0, y: y0 } = plotArea.getBBox();\n    const { coordinate } = view;\n    return brushAxisHighlight(container, {\n      elements: selectG2Elements,\n      axes: axesOf,\n      offsetY: y0,\n      offsetX: x0,\n      points: (element) => element.__data__.points,\n      horizontal: (axis) => {\n        const {\n          startPos: [sx, sy],\n          endPos: [ex, ey],\n        } = axis.attributes;\n        // attention, non-horizontal does not mean vertical\n        // it may has a specific degree angle\n        return sx !== ex && sy === ey;\n      },\n      datum: createDatumof(view),\n      state: mergeState(viewOptions, [\n        'active',\n        ['inactive', { opacity: 0.5 }],\n      ]),\n      coordinate,\n      emitter,\n      ...options,\n    });\n  };\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4971, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4977, "column": 0}, "map": {"version":3,"file":"brushFilter.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/interaction/brushFilter.ts"],"sourcesContent":["import { deepMix } from '@antv/util';\nimport { subObject } from '../utils/helper';\nimport { selectionOf } from '../utils/scale';\nimport { brush as createBrush } from './brushHighlight';\nimport { selectPlotArea } from './utils';\n\n// Mock dblclick events.\nfunction dblclick(interval = 300) {\n  let preTimeStamp = null;\n  return (e) => {\n    const { timeStamp } = e;\n    if (preTimeStamp !== null && timeStamp - preTimeStamp < interval) {\n      preTimeStamp = timeStamp;\n      return true;\n    }\n    preTimeStamp = timeStamp;\n    return false;\n  };\n}\n\nexport function brushFilter(\n  root,\n  {\n    filter,\n    reset,\n    brushRegion,\n    extent: optionalExtent,\n    reverse,\n    emitter,\n    scale,\n    coordinate,\n    selection,\n    series = false,\n    ...rest\n  },\n) {\n  const brushStyle = subObject(rest, 'mask');\n  const { width: rootWidth, height: rootHeight } = root.getBBox();\n  const extent = optionalExtent\n    ? optionalExtent\n    : [0, 0, rootWidth, rootHeight];\n  const isDblclick = dblclick();\n\n  const brush = createBrush(root, {\n    ...brushStyle,\n    extent,\n    brushRegion,\n    reverse,\n    brushcreated,\n  });\n\n  root.addEventListener('click', click);\n\n  // Filter when brush created.\n  function brushcreated(x, y, x1, y1, event) {\n    if (x === x1 && y === y1) return;\n    event.nativeEvent = true;\n    filter(selection(x, y, x1, y1), event);\n    brush.remove();\n  }\n\n  // Reset when dblclick.\n  function click(e) {\n    if (isDblclick(e)) {\n      e.nativeEvent = true;\n      reset(e);\n    }\n  }\n\n  const onFilter = ({ nativeEvent, data }) => {\n    if (nativeEvent) return;\n    const { selection } = data;\n    filter(selection, { nativeEvent: false });\n  };\n  emitter.on('brush:filter', onFilter);\n\n  return () => {\n    brush.destroy();\n    emitter.off('brush:filter', onFilter);\n    root.removeEventListener('click', click);\n  };\n}\n\nexport function BrushFilter({ hideX = true, hideY = true, ...rest }) {\n  return (target, viewInstances, emitter) => {\n    const { container, view, options: viewOptions, update, setState } = target;\n    const plotArea = selectPlotArea(container);\n    const defaultOptions = {\n      maskFill: '#777',\n      maskFillOpacity: '0.3',\n      maskStroke: '#fff',\n      unhighlightedOpacity: 0.5,\n      reverse: false,\n    };\n\n    let filtered = false;\n    let filtering = false;\n    let newView = view;\n\n    const { scale, coordinate } = view;\n    return brushFilter(plotArea, {\n      brushRegion: (x, y, x1, y1) => [x, y, x1, y1],\n      selection: (x, y, x1, y1) => {\n        const { scale, coordinate } = newView;\n        return selectionOf(x, y, x1, y1, scale, coordinate);\n      },\n      filter: async (selection, event) => {\n        // Avoid redundant filter.\n        if (filtering) return;\n        filtering = true;\n\n        // Update the domain of x and y scale to filter data.\n        const [domainX, domainY] = selection;\n\n        setState('brushFilter', (options) => {\n          const { marks } = options;\n          const newMarks = marks.map((mark) =>\n            deepMix(\n              {\n                // Hide label to keep smooth transition.\n                axis: {\n                  ...(hideX && { x: { transform: [{ type: 'hide' }] } }),\n                  ...(hideY && { y: { transform: [{ type: 'hide' }] } }),\n                },\n              },\n              mark,\n              {\n                // Set nice to false to avoid modify domain.\n                scale: {\n                  x: { domain: domainX, nice: false },\n                  y: { domain: domainY, nice: false },\n                },\n              },\n            ),\n          );\n\n          return {\n            ...viewOptions,\n            marks: newMarks,\n            clip: true, // Clip shapes out of plot area.\n          };\n        });\n\n        // Emit event.\n        emitter.emit('brush:filter', {\n          ...event,\n          data: { selection: [domainX, domainY] },\n        });\n\n        const newState = await update();\n        newView = newState.view;\n        filtering = false;\n        filtered = true;\n      },\n      reset: (event) => {\n        if (filtering || !filtered) return;\n\n        // Emit event.\n        const { scale } = view;\n        const { x: scaleX, y: scaleY } = scale;\n        const domainX = scaleX.getOptions().domain;\n        const domainY = scaleY.getOptions().domain;\n        emitter.emit('brush:filter', {\n          ...event,\n          data: { selection: [domainX, domainY] },\n        });\n        filtered = false;\n        newView = view;\n        setState('brushFilter');\n        update();\n      },\n      extent: undefined,\n      emitter,\n      scale,\n      coordinate,\n      ...defaultOptions,\n      ...rest,\n    });\n  };\n}\n"],"names":[],"mappings":";;;;AACA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAE5C,OAAO,EAAE,KAAK,IAAI,WAAW,EAAE,MAAM,kBAAkB,CAAC;AACxD,OAAO,EAAE,cAAc,EAAE,MAAM,SAAS,CAAC;AAFzC,OAAO,EAAE,WAAW,EAAE,MAAM,gBAAgB,CAAC;AAF7C,OAAO,EAAE,OAAO,EAAE,MAAM,YAAY,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMrC,wBAAwB;AACxB,SAAS,QAAQ,CAAC,QAAQ,GAAG,GAAG;IAC9B,IAAI,YAAY,GAAG,IAAI,CAAC;IACxB,OAAO,CAAC,CAAC,EAAE,EAAE;QACX,MAAM,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC;QACxB,IAAI,YAAY,KAAK,IAAI,IAAI,SAAS,GAAG,YAAY,GAAG,QAAQ,EAAE;YAChE,YAAY,GAAG,SAAS,CAAC;YACzB,OAAO,IAAI,CAAC;SACb;QACD,YAAY,GAAG,SAAS,CAAC;QACzB,OAAO,KAAK,CAAC;IACf,CAAC,CAAC;AACJ,CAAC;AAEK,SAAU,WAAW,CACzB,IAAI,EACJ,EAYC;QAZD,EACE,MAAM,EACN,KAAK,EACL,WAAW,EACX,MAAM,EAAE,cAAc,EACtB,OAAO,EACP,OAAO,EACP,KAAK,EACL,UAAU,EACV,SAAS,EACT,MAAM,GAAG,KAAK,EAAA,GAAA,EAEf,EADI,IAAI,GAAA,OAAA,IAXT;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;KAYC,CADQ;IAGT,MAAM,UAAU,iKAAG,YAAA,AAAS,EAAC,IAAI,EAAE,MAAM,CAAC,CAAC;IAC3C,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,MAAM,EAAE,UAAU,EAAE,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC;IAChE,MAAM,MAAM,GAAG,cAAc,GACzB,cAAc,GACd;QAAC,CAAC;QAAE,CAAC;QAAE,SAAS;QAAE,UAAU;KAAC,CAAC;IAClC,MAAM,UAAU,GAAG,QAAQ,EAAE,CAAC;IAE9B,MAAM,KAAK,+KAAG,QAAA,AAAW,EAAC,IAAI,EAAA,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA,CAAA,GACzB,UAAU,GAAA;QACb,MAAM;QACN,WAAW;QACX,OAAO;QACP,YAAY;IAAA,GACZ,CAAC;IAEH,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;IAEtC,6BAA6B;IAC7B,SAAS,YAAY,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,KAAK;QACvC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,EAAE,OAAO;QACjC,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC;QACzB,MAAM,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;QACvC,KAAK,CAAC,MAAM,EAAE,CAAC;IACjB,CAAC;IAED,uBAAuB;IACvB,SAAS,KAAK,CAAC,CAAC;QACd,IAAI,UAAU,CAAC,CAAC,CAAC,EAAE;YACjB,CAAC,CAAC,WAAW,GAAG,IAAI,CAAC;YACrB,KAAK,CAAC,CAAC,CAAC,CAAC;SACV;IACH,CAAC;IAED,MAAM,QAAQ,GAAG,CAAC,EAAE,WAAW,EAAE,IAAI,EAAE,EAAE,EAAE;QACzC,IAAI,WAAW,EAAE,OAAO;QACxB,MAAM,EAAE,SAAS,EAAE,GAAG,IAAI,CAAC;QAC3B,MAAM,CAAC,SAAS,EAAE;YAAE,WAAW,EAAE,KAAK;QAAA,CAAE,CAAC,CAAC;IAC5C,CAAC,CAAC;IACF,OAAO,CAAC,EAAE,CAAC,cAAc,EAAE,QAAQ,CAAC,CAAC;IAErC,OAAO,GAAG,EAAE;QACV,KAAK,CAAC,OAAO,EAAE,CAAC;QAChB,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,QAAQ,CAAC,CAAC;QACtC,IAAI,CAAC,mBAAmB,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;IAC3C,CAAC,CAAC;AACJ,CAAC;AAEK,SAAU,WAAW,CAAC,EAAuC;QAAvC,EAAE,KAAK,GAAG,IAAI,EAAE,KAAK,GAAG,IAAI,EAAA,GAAA,EAAW,EAAN,IAAI,GAAA,OAAA,IAArC;QAAA;QAAA;KAAuC,CAAF;IAC/D,OAAO,CAAC,MAAM,EAAE,aAAa,EAAE,OAAO,EAAE,EAAE;QACxC,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,OAAO,EAAE,WAAW,EAAE,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,CAAC;QAC3E,MAAM,QAAQ,sKAAG,iBAAA,AAAc,EAAC,SAAS,CAAC,CAAC;QAC3C,MAAM,cAAc,GAAG;YACrB,QAAQ,EAAE,MAAM;YAChB,eAAe,EAAE,KAAK;YACtB,UAAU,EAAE,MAAM;YAClB,oBAAoB,EAAE,GAAG;YACzB,OAAO,EAAE,KAAK;SACf,CAAC;QAEF,IAAI,QAAQ,GAAG,KAAK,CAAC;QACrB,IAAI,SAAS,GAAG,KAAK,CAAC;QACtB,IAAI,OAAO,GAAG,IAAI,CAAC;QAEnB,MAAM,EAAE,KAAK,EAAE,UAAU,EAAE,GAAG,IAAI,CAAC;QACnC,OAAO,WAAW,CAAC,QAAQ,EAAA,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA;YACzB,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAG,CAAD;oBAAE,CAAC;oBAAE,CAAC;oBAAE,EAAE;oBAAE,EAAE;iBAAC;YAC7C,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;gBAC1B,MAAM,EAAE,KAAK,EAAE,UAAU,EAAE,GAAG,OAAO,CAAC;gBACtC,QAAO,0KAAA,AAAW,EAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,KAAK,EAAE,UAAU,CAAC,CAAC;YACtD,CAAC;YACD,MAAM,EAAE,CAAO,SAAS,EAAE,KAAK,EAAE,CAAE,CAAA,SAAA,IAAA,EAAA,KAAA,GAAA,KAAA,GAAA;oBACjC,0BAA0B;oBAC1B,IAAI,SAAS,EAAE,OAAO;oBACtB,SAAS,GAAG,IAAI,CAAC;oBAEjB,qDAAqD;oBACrD,MAAM,CAAC,OAAO,EAAE,OAAO,CAAC,GAAG,SAAS,CAAC;oBAErC,QAAQ,CAAC,aAAa,EAAE,CAAC,OAAO,EAAE,EAAE;wBAClC,MAAM,EAAE,KAAK,EAAE,GAAG,OAAO,CAAC;wBAC1B,MAAM,QAAQ,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,2MAClC,UAAA,AAAO,EACL;gCACE,wCAAwC;gCACxC,IAAI,EAAA,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA,CAAA,GACE,AAAD,KAAM,IAAI;oCAAE,CAAC,EAAE;wCAAE,SAAS,EAAE;4CAAC;gDAAE,IAAI,EAAE,MAAM;4CAAA,CAAE;yCAAC;oCAAA,CAAE;gCAAA,CAAE,CAAC,EAClD,CAAD,IAAM,IAAI;oCAAE,CAAC,EAAE;wCAAE,SAAS,EAAE;4CAAC;gDAAE,IAAI,EAAE,MAAM;4CAAA,CAAE;yCAAC;oCAAA,CAAE;gCAAA,CAAE,CAAC,CACvD;6BACF,EACD,IAAI,EACJ;gCACE,4CAA4C;gCAC5C,KAAK,EAAE;oCACL,CAAC,EAAE;wCAAE,MAAM,EAAE,OAAO;wCAAE,IAAI,EAAE,KAAK;oCAAA,CAAE;oCACnC,CAAC,EAAE;wCAAE,MAAM,EAAE,OAAO;wCAAE,IAAI,EAAE,KAAK;oCAAA,CAAE;iCACpC;6BACF,CACF,CACF,CAAC;wBAEF,OAAA,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA,CAAA,GACK,WAAW,GAAA;4BACd,KAAK,EAAE,QAAQ;4BACf,IAAI,EAAE,IAAI;wBAAA,GACV;oBACJ,CAAC,CAAC,CAAC;oBAEH,cAAc;oBACd,OAAO,CAAC,IAAI,CAAC,cAAc,EAAA,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA,CAAA,GACtB,KAAK,GAAA;wBACR,IAAI,EAAE;4BAAE,SAAS,EAAE;gCAAC,OAAO;gCAAE,OAAO;6BAAC;wBAAA,CAAE;oBAAA,GACvC,CAAC;oBAEH,MAAM,QAAQ,GAAG,MAAM,MAAM,EAAE,CAAC;oBAChC,OAAO,GAAG,QAAQ,CAAC,IAAI,CAAC;oBACxB,SAAS,GAAG,KAAK,CAAC;oBAClB,QAAQ,GAAG,IAAI,CAAC;gBAClB,CAAC,CAAA;YACD,KAAK,EAAE,CAAC,KAAK,EAAE,EAAE;gBACf,IAAI,SAAS,IAAI,CAAC,QAAQ,EAAE,OAAO;gBAEnC,cAAc;gBACd,MAAM,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC;gBACvB,MAAM,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,MAAM,EAAE,GAAG,KAAK,CAAC;gBACvC,MAAM,OAAO,GAAG,MAAM,CAAC,UAAU,EAAE,CAAC,MAAM,CAAC;gBAC3C,MAAM,OAAO,GAAG,MAAM,CAAC,UAAU,EAAE,CAAC,MAAM,CAAC;gBAC3C,OAAO,CAAC,IAAI,CAAC,cAAc,EAAA,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA,CAAA,GACtB,KAAK,GAAA;oBACR,IAAI,EAAE;wBAAE,SAAS,EAAE;4BAAC,OAAO;4BAAE,OAAO;yBAAC;oBAAA,CAAE;gBAAA,GACvC,CAAC;gBACH,QAAQ,GAAG,KAAK,CAAC;gBACjB,OAAO,GAAG,IAAI,CAAC;gBACf,QAAQ,CAAC,aAAa,CAAC,CAAC;gBACxB,MAAM,EAAE,CAAC;YACX,CAAC;YACD,MAAM,EAAE,SAAS;YACjB,OAAO;YACP,KAAK;YACL,UAAU;QAAA,GACP,cAAc,GACd,IAAI,EACP,CAAC;IACL,CAAC,CAAC;AACJ,CAAC","ignoreList":[0]}},
    {"offset": {"line": 5212, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5218, "column": 0}, "map": {"version":3,"file":"brushXFilter.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/interaction/brushXFilter.ts"],"sourcesContent":["import { BrushFilter } from './brushFilter';\nimport { brushXRegion } from './brushXHighlight';\n\nexport function BrushXFilter(options) {\n  return BrushFilter({\n    hideX: true,\n    ...options,\n    brushRegion: brushXRegion,\n  });\n}\n"],"names":[],"mappings":";;;AAAA,OAAO,EAAE,WAAW,EAAE,MAAM,eAAe,CAAC;AAC5C,OAAO,EAAE,YAAY,EAAE,MAAM,mBAAmB,CAAC;;;AAE3C,SAAU,YAAY,CAAC,OAAO;IAClC,gLAAO,cAAA,AAAW,EAAA,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA;QAChB,KAAK,EAAE,IAAI;IAAA,GACR,OAAO,GAAA;QACV,WAAW,2KAAE,eAAY;IAAA,GACzB,CAAC;AACL,CAAC","ignoreList":[0]}},
    {"offset": {"line": 5232, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5238, "column": 0}, "map": {"version":3,"file":"brushYFilter.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/interaction/brushYFilter.ts"],"sourcesContent":["import { BrushFilter } from './brushFilter';\nimport { brushYRegion } from './brushYHighlight';\n\nexport function BrushYFilter(options) {\n  return BrushFilter({\n    hideY: true,\n    ...options,\n    brushRegion: brushYRegion,\n  });\n}\n"],"names":[],"mappings":";;;AAAA,OAAO,EAAE,WAAW,EAAE,MAAM,eAAe,CAAC;AAC5C,OAAO,EAAE,YAAY,EAAE,MAAM,mBAAmB,CAAC;;;AAE3C,SAAU,YAAY,CAAC,OAAO;IAClC,gLAAO,cAAA,AAAW,EAAA,OAAA,MAAA,CAAA,OAAA,MAAA,CAAA;QAChB,KAAK,EAAE,IAAI;IAAA,GACR,OAAO,GAAA;QACV,WAAW,2KAAE,eAAY;IAAA,GACzB,CAAC;AACL,CAAC","ignoreList":[0]}},
    {"offset": {"line": 5252, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5258, "column": 0}, "map": {"version":3,"file":"adaptiveFilter.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/interaction/adaptiveFilter.ts"],"sourcesContent":["import { isOrdinalScale } from '../utils/scale';\nimport { isFalsyValue } from './utils';\n\n/**\n * Runtime scale interface for adaptive filtering operations.\n * Represents the actual scale instance available at runtime.\n */\nexport interface RuntimeScale {\n  getOptions(): {\n    domain: unknown[];\n    range?: [number, number];\n    ratio?: number;\n  };\n  map(value: unknown): number;\n  invert(value: number): unknown;\n  getBandWidth?: (value?: unknown) => number;\n  getStep?: (value?: unknown) => number;\n}\n\n/**\n * Adaptive filter mode configuration.\n */\nexport type AdaptiveFilterMode =\n  | 'filter' // Enable adaptive filtering with data window filtering\n  | false // Disable adaptive filtering\n  | null; // Disable adaptive filtering\n\n/**\n * Mark data structure for adaptive filtering.\n * Contains mark identifier and associated channel data.\n */\nexport interface MarkDataPair {\n  markKey: string;\n  channelData: { [key: string]: unknown[] };\n}\n\n/**\n * Scale information for single-axis adaptive filtering.\n */\nexport interface SingleAxisScaleInfo {\n  currentScale: RuntimeScale;\n  targetScale: RuntimeScale;\n  isSourceDiscrete: boolean;\n  isTargetDiscrete: boolean;\n  shouldPreserveZeroBaseline: boolean;\n}\n\n/**\n * Scale information for multi-axis adaptive filtering.\n */\nexport interface MultiAxisScaleInfo {\n  currentScale: RuntimeScale;\n  targetScales: RuntimeScale[];\n  isSourceDiscrete: boolean;\n  isTargetDiscrete: boolean[];\n  shouldPreserveZeroBaseline: boolean[];\n  targetScaleKeys: string[];\n}\n\n/**\n * Parameters for single-axis adaptive filtering operations.\n */\nexport interface SingleAxisFilteringParams {\n  markDataPairs: MarkDataPair[];\n  domain: unknown[];\n  scaleInfo: SingleAxisScaleInfo;\n  adaptiveMode: AdaptiveFilterMode;\n  shouldFilterXAxis?: boolean;\n}\n\n/**\n * Parameters for multi-axis adaptive filtering operations.\n */\nexport interface MultiAxisFilteringParams {\n  markDataPairs: MarkDataPair[];\n  domain: unknown[];\n  scaleInfo: MultiAxisScaleInfo;\n  markToScaleMap: Map<string, string>;\n  adaptiveMode: AdaptiveFilterMode;\n  isViewSlider: boolean;\n  shouldFilterXAxis?: boolean;\n}\n\n/**\n * Options for calculating filtered domain values.\n */\ninterface CalculateFilteredDomainOptions {\n  isTargetDiscrete: boolean;\n  filteredValues: number[];\n  shouldPreserveZeroBaseline: boolean;\n}\n\n/**\n * Extracts scale information for single-axis adaptive filtering.\n *\n * @param shouldFilterXAxis - Whether to adapt X-axis (true) or Y-axis (false)\n * @param scaleX - X-axis scale instance\n * @param scaleY - Y-axis scale instance\n * @returns Scale information required for single-axis filtering\n */\nexport function extractSingleAxisScaleInfo(\n  shouldFilterXAxis: boolean,\n  scaleX: RuntimeScale,\n  scaleY: RuntimeScale,\n): SingleAxisScaleInfo {\n  const currentScale = shouldFilterXAxis ? scaleY : scaleX;\n  const targetScale = shouldFilterXAxis ? scaleX : scaleY;\n  const isSourceDiscrete = isOrdinalScale(currentScale);\n  const isTargetDiscrete = isOrdinalScale(targetScale);\n\n  const targetOriginalDomain = targetScale.getOptions().domain;\n  const shouldPreserveZeroBaseline =\n    !isTargetDiscrete &&\n    targetOriginalDomain &&\n    targetOriginalDomain.length >= 2 &&\n    targetOriginalDomain[0] === 0;\n\n  return {\n    currentScale,\n    targetScale,\n    isSourceDiscrete,\n    isTargetDiscrete,\n    shouldPreserveZeroBaseline,\n  };\n}\n\n/**\n * Extracts scale information for multi-axis adaptive filtering.\n * Handles scenarios where multiple independent scales exist (x1, x2, y1, y2, etc.).\n *\n * @param shouldFilterXAxis - Whether to adapt X-axis (true) or Y-axis (false)\n * @param scale - Record of all available scale instances\n * @param scaleX - Primary X-axis scale instance\n * @param scaleY - Primary Y-axis scale instance\n * @param channelDomain - Channel domain configuration\n * @returns Scale information required for multi-axis filtering\n */\nexport function extractMultiAxisScaleInfo(\n  shouldFilterXAxis: boolean,\n  scale: Record<string, RuntimeScale>,\n  scaleX: RuntimeScale,\n  scaleY: RuntimeScale,\n  channelDomain: Record<string, unknown[]>,\n): MultiAxisScaleInfo {\n  const currentScale = shouldFilterXAxis ? scaleY : scaleX;\n\n  /**\n   * Retrieves scale domains for a specific axis type (x or y).\n   * Supports both primary axes (x, y) and numbered variants (x1, x2, y1, y2).\n   */\n  const getAxisScaleDomains = (axisType: 'x' | 'y') => {\n    const axisScales: Record<string, unknown[]> = {};\n    Object.keys(channelDomain).forEach((key) => {\n      if (key === axisType || key.match(new RegExp(`^${axisType}\\\\d+$`))) {\n        axisScales[key] = channelDomain[key];\n      }\n    });\n    return axisScales;\n  };\n\n  const targetScaleDomain = shouldFilterXAxis\n    ? getAxisScaleDomains('x')\n    : getAxisScaleDomains('y');\n  const targetScaleKeys = Object.keys(targetScaleDomain);\n\n  const targetScales = targetScaleKeys.map((item) => scale[item]);\n  const isSourceDiscrete = isOrdinalScale(currentScale);\n  const isTargetDiscrete = targetScales.map((targetScale) =>\n    isOrdinalScale(targetScale),\n  );\n\n  const shouldPreserveZeroBaseline = targetScales.map((targetScale, index) => {\n    const targetOriginalDomain = targetScale.getOptions().domain;\n    const isDiscrete = isTargetDiscrete[index];\n    return (\n      !isDiscrete &&\n      targetOriginalDomain &&\n      targetOriginalDomain.length >= 2 &&\n      targetOriginalDomain[0] === 0\n    );\n  });\n\n  return {\n    currentScale,\n    targetScales,\n    isSourceDiscrete,\n    isTargetDiscrete,\n    shouldPreserveZeroBaseline,\n    targetScaleKeys,\n  };\n}\n\n/**\n * Removes duplicate values from an array and returns sorted result.\n *\n * @param values - Array of numeric values\n * @returns Sorted array with unique values\n */\nfunction getUniqueSortedValues(values: number[]): number[] {\n  const uniqueValues = Array.from(new Set(values));\n  return uniqueValues.sort((a, b) => a - b);\n}\n\n/**\n * Calculates the filtered domain based on target scale type and constraints.\n *\n * @param options - Configuration for domain calculation\n * @returns Calculated domain array\n */\nfunction calculateFilteredDomain({\n  isTargetDiscrete,\n  filteredValues,\n  shouldPreserveZeroBaseline,\n}: CalculateFilteredDomainOptions): unknown[] {\n  if (isTargetDiscrete) {\n    return getUniqueSortedValues(filteredValues);\n  } else {\n    const min = Math.min(...filteredValues);\n    const max = Math.max(...filteredValues);\n    return shouldPreserveZeroBaseline ? [0, max] : [min, max];\n  }\n}\n\n/**\n * Converts various value types to numeric for comparison.\n * Handles Date objects, strings, and numbers.\n */\nfunction convertToNumeric(value: unknown): number {\n  if (value instanceof Date) {\n    return value.getTime();\n  }\n  if (typeof value === 'string') {\n    return parseFloat(value);\n  }\n  return Number(value);\n}\n\n/**\n * Filters mark data based on domain constraints with bidirectional support.\n * Supports both discrete and continuous scales with proper domain calculation.\n *\n * @param markDataPairs - Array of mark data with channel information\n * @param domain - Domain values for filtering\n * @param isSourceDiscrete - Whether the source scale is discrete\n * @param isTargetDiscrete - Whether the target scale is discrete\n * @param shouldPreserveZeroBaseline - Whether to preserve zero baseline for continuous scales\n * @param adaptiveMode - Adaptive filtering mode configuration\n * @param shouldFilterXAxis - Whether to adapt X-axis (true) or Y-axis (false)\n * @returns Filtered domain array\n */\nexport function filterMarkDataByDomain(\n  markDataPairs: MarkDataPair[],\n  domain: unknown[],\n  isSourceDiscrete: boolean,\n  isTargetDiscrete: boolean,\n  shouldPreserveZeroBaseline: boolean,\n  adaptiveMode: AdaptiveFilterMode = 'filter',\n  shouldFilterXAxis = false,\n): unknown[] {\n  if (isFalsyValue(adaptiveMode)) {\n    return [];\n  }\n\n  const sourceChannel = shouldFilterXAxis ? 'y' : 'x';\n  const targetChannel = shouldFilterXAxis ? 'x' : 'y';\n  const allFilteredTargetValues: number[] = [];\n\n  for (const markData of markDataPairs) {\n    const { channelData } = markData;\n    const sourceValues = channelData[sourceChannel] || [];\n    const targetValues = channelData[targetChannel] || [];\n\n    // Handle different data structures based on channel type:\n    // X channel: one-dimensional array [x1, x2, x3, ...]\n    // Y channel: two-dimensional array [[y1, y2, y3, ...]]\n\n    // Normalize source values to one-dimensional array\n    const normalizedSourceValues = Array.isArray(sourceValues[0])\n      ? sourceValues[0] // If it's 2D array (Y channel), take first sub-array\n      : sourceValues; // If it's 1D array (X channel), use as is\n\n    // Handle target values based on their structure\n    const isTargetArray2D = Array.isArray(targetValues[0]);\n\n    if (normalizedSourceValues.length === 0) continue;\n\n    const dataLength = normalizedSourceValues.length;\n\n    for (let i = 0; i < dataLength; i++) {\n      const sourceValue = normalizedSourceValues[i];\n      let shouldInclude = false;\n\n      if (isSourceDiscrete) {\n        shouldInclude = domain.includes(sourceValue);\n      } else {\n        // Handle both numeric and Date domains\n        if (domain.length >= 2) {\n          const sourceTime = convertToNumeric(sourceValue);\n          const domainStartTime = convertToNumeric(domain[0]);\n          const domainEndTime = convertToNumeric(domain[domain.length - 1]);\n\n          if (\n            !isNaN(sourceTime) &&\n            !isNaN(domainStartTime) &&\n            !isNaN(domainEndTime)\n          ) {\n            shouldInclude =\n              sourceTime >= domainStartTime && sourceTime <= domainEndTime;\n          }\n        }\n      }\n\n      if (adaptiveMode === 'filter' && shouldInclude) {\n        // Collect target channel values for this data point\n        if (isTargetArray2D) {\n          // Target is 2D array (Y channel)\n          const numChannels = targetValues.length;\n          for (let channelIdx = 0; channelIdx < numChannels; channelIdx++) {\n            const channelData = targetValues[channelIdx];\n            if (Array.isArray(channelData) && i < channelData.length) {\n              const targetValue = channelData[i];\n              const numericValue = convertToNumeric(targetValue);\n              if (!isNaN(numericValue)) {\n                allFilteredTargetValues.push(numericValue);\n              }\n            }\n          }\n        } else {\n          // Target is 1D array (X channel)\n          if (i < targetValues.length) {\n            const targetValue = targetValues[i];\n            const numericValue = convertToNumeric(targetValue);\n            if (!isNaN(numericValue)) {\n              allFilteredTargetValues.push(numericValue);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  if (allFilteredTargetValues.length > 0) {\n    return calculateFilteredDomain({\n      isTargetDiscrete,\n      filteredValues: allFilteredTargetValues,\n      shouldPreserveZeroBaseline,\n    });\n  }\n\n  return [];\n}\n\n/**\n * Processes adaptive filtering for single-axis scenarios.\n *\n * @param params - Single-axis filtering parameters\n * @returns Filtered domain array\n */\nexport function processSingleAxisFiltering({\n  markDataPairs,\n  domain,\n  scaleInfo,\n  adaptiveMode,\n  shouldFilterXAxis = false,\n}: SingleAxisFilteringParams): unknown[] {\n  const { isSourceDiscrete, isTargetDiscrete, shouldPreserveZeroBaseline } =\n    scaleInfo;\n\n  return filterMarkDataByDomain(\n    markDataPairs,\n    domain,\n    isSourceDiscrete,\n    isTargetDiscrete,\n    shouldPreserveZeroBaseline,\n    adaptiveMode,\n    shouldFilterXAxis,\n  );\n}\n\n/**\n * Processes multi-axis filtering for view-level sliders.\n * Handles scenarios with independent scales across multiple marks.\n *\n * @param params - Multi-axis filtering parameters\n * @returns Map of scale keys to filtered domain arrays\n */\nexport function processMultiAxisViewFiltering({\n  markDataPairs,\n  domain,\n  scaleInfo,\n  markToScaleMap,\n  adaptiveMode,\n  shouldFilterXAxis = false,\n}: MultiAxisFilteringParams): Map<string, unknown[]> {\n  const filteredDomain = new Map<string, unknown[]>();\n  const {\n    isSourceDiscrete,\n    isTargetDiscrete,\n    shouldPreserveZeroBaseline,\n    targetScaleKeys,\n  } = scaleInfo;\n\n  markDataPairs.forEach((markData) => {\n    const scaleKey = markToScaleMap.get(markData.markKey);\n    if (!scaleKey) return;\n\n    const scaleIndex = targetScaleKeys.indexOf(scaleKey);\n    if (scaleIndex === -1) return;\n\n    const currentIsTargetDiscrete = isTargetDiscrete[scaleIndex];\n    const currentShouldPreserveZeroBaseline =\n      shouldPreserveZeroBaseline[scaleIndex];\n\n    const markFilteredDomain = filterMarkDataByDomain(\n      [markData],\n      domain,\n      isSourceDiscrete,\n      currentIsTargetDiscrete,\n      currentShouldPreserveZeroBaseline,\n      adaptiveMode,\n      shouldFilterXAxis,\n    );\n\n    filteredDomain.set(scaleKey, markFilteredDomain);\n  });\n\n  return filteredDomain;\n}\n\n/**\n * Processes multi-axis filtering for mark-level sliders.\n * Uses all marks that share the same target scale key instead of just the target mark.\n *\n * @param markDataPairs - Array of mark data pairs\n * @param domain - Domain values for filtering\n * @param scaleInfo - Single-axis scale information\n * @param targetMarkKey - Key of the target mark to filter\n * @param targetScaleKey - Key of the target scale to update\n * @param adaptiveMode - Adaptive filtering mode\n * @param shouldFilterXAxis - Whether to adapt X-axis (true) or Y-axis (false)\n * @param markToScaleMap - Map from mark keys to scale keys to identify shared axes\n * @returns Map of scale keys to filtered domain arrays\n */\nexport function processMultiAxisMarkFiltering(\n  markDataPairs: MarkDataPair[],\n  domain: unknown[],\n  scaleInfo: SingleAxisScaleInfo,\n  targetMarkKey: string,\n  targetScaleKey: string,\n  adaptiveMode: AdaptiveFilterMode,\n  shouldFilterXAxis = false,\n  markToScaleMap?: Map<string, string>,\n): Map<string, unknown[]> {\n  const filteredDomain = new Map<string, unknown[]>();\n\n  // Early return if no data to process\n  if (markDataPairs.length === 0 || domain.length === 0) {\n    return filteredDomain;\n  }\n\n  const { isSourceDiscrete, isTargetDiscrete, shouldPreserveZeroBaseline } =\n    scaleInfo;\n\n  // Find all marks that share the same target scale key\n  const relevantMarkData = markToScaleMap\n    ? markDataPairs.filter((markData) => {\n        const markScaleKey = markToScaleMap.get(markData.markKey);\n        return markScaleKey === targetScaleKey;\n      })\n    : markDataPairs.filter((markData) => markData.markKey === targetMarkKey);\n\n  // Early return if no relevant marks found\n  if (relevantMarkData.length === 0) {\n    return filteredDomain;\n  }\n\n  const markFilteredDomain = filterMarkDataByDomain(\n    relevantMarkData,\n    domain,\n    isSourceDiscrete,\n    isTargetDiscrete,\n    shouldPreserveZeroBaseline,\n    adaptiveMode,\n    shouldFilterXAxis,\n  );\n\n  filteredDomain.set(targetScaleKey, markFilteredDomain);\n  return filteredDomain;\n}\n\n/**\n * Updates channel domains with filtered results.\n * Supports both single-axis and multi-axis scenarios.\n *\n * @param channelDomain - Current channel domain configuration\n * @param filteredDomain - Filtered domain values (array for single-axis, Map for multi-axis)\n * @param shouldFilterXAxis - Whether X-axis is being filtered\n * @param isMultiAxis - Whether this is a multi-axis scenario\n */\nexport function updateChannelDomains(\n  channelDomain: Record<string, unknown[]>,\n  filteredDomain: unknown[] | Map<string, unknown[]>,\n  shouldFilterXAxis: boolean,\n  isMultiAxis: boolean,\n): void {\n  if (isMultiAxis && filteredDomain instanceof Map) {\n    filteredDomain.forEach((domain, scaleKey) => {\n      if (domain && Array.isArray(domain) && domain.length > 0) {\n        channelDomain[scaleKey] = domain;\n      }\n    });\n  } else if (!isMultiAxis && Array.isArray(filteredDomain)) {\n    if (filteredDomain.length > 0) {\n      channelDomain[shouldFilterXAxis ? 'x' : 'y'] = filteredDomain;\n    }\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5488, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5494, "column": 0}, "map": {"version":3,"file":"sliderFilter.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/interaction/sliderFilter.ts"],"sourcesContent":["import { deepMix, get, throttle, upperFirst } from '@antv/util';\nimport { CustomEvent } from '@antv/g';\nimport { isTranspose } from '../utils/coordinate';\nimport { invert, domainOf, sliderAbstractOf } from '../utils/scale';\nimport { SliderFilterInteraction } from '../spec/interaction';\nimport { Mark } from '../spec';\nimport { G2ViewDescriptor, G2MarkState } from '../runtime/types/common';\nimport {\n  extractChannelValues,\n  isFalsyValue,\n  calculateMultiAxisChannelDomains,\n  calculateAllIndependentScaleInfo,\n} from './utils';\nimport {\n  RuntimeScale,\n  extractSingleAxisScaleInfo,\n  extractMultiAxisScaleInfo,\n  processSingleAxisFiltering,\n  processMultiAxisViewFiltering,\n  processMultiAxisMarkFiltering,\n  updateChannelDomains,\n} from './adaptiveFilter';\n\nexport const SLIDER_CLASS_NAME = 'slider';\n\n/**\n * Calculates extra inset needed for point marks based on size scale range or values\n *\n * @param view - View descriptor containing markState\n * @returns Calculated inset value from size scale range or values\n */\nfunction calculatePointInset(view: G2ViewDescriptor): number {\n  if (!view?.markState) return 0;\n\n  let maxSize = 0;\n\n  for (const [mark, state] of view.markState.entries()) {\n    if (mark.type !== 'point' || !state?.channels) continue;\n\n    const sizeChannel = state.channels?.find((ch) => ch.name === 'size');\n    if (!sizeChannel) continue;\n\n    // Priority 1: Use scale range if available\n    if (sizeChannel.scale?.range?.length > 0) {\n      const rangeMax = Math.max(\n        ...sizeChannel.scale.range.filter((val) => typeof val === 'number'),\n      );\n      maxSize = Math.max(maxSize, rangeMax);\n      continue;\n    }\n\n    // Priority 2: Fallback to values maximum\n    if (sizeChannel.values?.length > 0) {\n      const sizes = sizeChannel.values\n        .filter((item) => item.value !== undefined)\n        .flatMap((item) =>\n          Array.isArray(item.value) ? item.value : [item.value],\n        )\n        .filter(\n          (value): value is number =>\n            typeof value === 'number' && !isNaN(value),\n        );\n\n      if (sizes.length > 0) {\n        maxSize = Math.max(maxSize, ...sizes);\n      }\n    }\n  }\n\n  return maxSize;\n}\n\n/**\n * Options for filtering data by domain.\n * Uses Mark[] type for better type safety.\n */\ninterface FilterDataByDomainOptions {\n  marks: Mark[];\n  [key: string]: unknown;\n}\n\n/**\n * Scale configuration options.\n * Uses Record<string, unknown> to accommodate various scale property types.\n */\ninterface ScaleOptions {\n  [key: string]: unknown;\n}\n\n/**\n * Emits filter events with proper X/Y domain mapping.\n *\n * @param emitter - Event emitter instance\n * @param eventName - Name of the event to emit\n * @param event - Event data object\n * @param domain0 - Primary domain values\n * @param channelDomain - Channel domain configuration\n * @param isX - Whether this is an X-axis event\n * @param nativeEvent - Whether this is a native DOM event\n */\nfunction emitFilterEvent(\n  emitter: { emit: (eventName: string, data: unknown) => void },\n  eventName: string,\n  event: Record<string, unknown>,\n  domain0: unknown[],\n  channelDomain: Record<string, unknown[]>,\n  isX: boolean,\n  nativeEvent: boolean,\n): void {\n  if (nativeEvent) {\n    const X = isX ? domain0 : channelDomain.x;\n    const Y = isX ? channelDomain.y : domain0;\n    emitter.emit(eventName, {\n      ...event,\n      nativeEvent,\n      data: { selection: [extentOf(X), extentOf(Y)] },\n    });\n  }\n}\n\n/**\n * Updates slider state with appropriate filter function.\n * Handles both single-axis and multi-axis scenarios.\n *\n * @param setState - State setter function\n * @param slider - Slider component instance\n * @param params - Configuration parameters for state update\n */\nfunction updateSliderState(\n  setState: (slider: unknown, fn: (options: unknown) => unknown) => void,\n  slider: unknown,\n  view: G2ViewDescriptor,\n  params: {\n    domain0: unknown[];\n    filteredDomain: unknown[] | Map<string, unknown[]>;\n    channel0: string;\n    channel1: string;\n    prefix: string;\n    hasState: boolean;\n    isMultiAxis: boolean;\n    markToScaleMap?: Map<string, string>;\n    enableAdaptiveFiltering: boolean;\n  },\n): void {\n  const {\n    domain0,\n    filteredDomain,\n    channel0,\n    channel1,\n    prefix,\n    hasState,\n    isMultiAxis,\n    markToScaleMap,\n    enableAdaptiveFiltering,\n  } = params;\n\n  if (isMultiAxis && filteredDomain instanceof Map) {\n    setState(slider, (options: FilterDataByDomainOptions) => ({\n      ...filterDataByDomainMultiAxis(\n        options,\n        view,\n        {\n          [channel0]: { domain: domain0, nice: false },\n        },\n        prefix,\n        hasState,\n        channel0,\n        channel1,\n        markToScaleMap || new Map(),\n        filteredDomain,\n      ),\n    }));\n  } else {\n    setState(slider, (options: FilterDataByDomainOptions) => ({\n      ...filterDataByDomain(\n        options,\n        view,\n        {\n          [channel0]: { domain: domain0, nice: false },\n          ...(enableAdaptiveFiltering && Array.isArray(filteredDomain)\n            ? {\n                [channel1]: {\n                  domain: filteredDomain,\n                  nice: true,\n                },\n              }\n            : {}),\n        },\n        prefix,\n        hasState,\n        channel0,\n        channel1,\n      ),\n    }));\n  }\n}\n\n/**\n * Filters data by domain for single-axis scenarios.\n * Applies scale options and preserves slider state.\n *\n * @param options - Filter data options\n * @param scaleOptions - Scale configuration\n * @param prefix - Slider prefix identifier\n * @param hasState - Whether slider has state\n * @param channel0 - Primary channel (x or y)\n * @param channel1 - Secondary channel (y or x)\n * @returns Filtered options with updated marks\n */\nfunction filterDataByDomain(\n  options: FilterDataByDomainOptions,\n  view: G2ViewDescriptor,\n  scaleOptions: ScaleOptions,\n  prefix: string,\n  hasState = false,\n  channel0 = 'x',\n  channel1 = 'y',\n) {\n  const { marks } = options;\n  const extraInset = calculatePointInset(view);\n\n  const newMarks = marks.map((mark) =>\n    deepMix(\n      {\n        // Hide label to keep smooth transition.\n        axis: {\n          x: { transform: [{ type: 'hide' }] },\n          y: { transform: [{ type: 'hide' }] },\n        },\n      },\n      mark,\n      {\n        scale: scaleOptions,\n        [prefix]: {\n          ...(mark[prefix]?.[channel0] && {\n            [channel0]: { preserve: true, ...(hasState && { ratio: null }) },\n          }),\n          ...(mark[prefix]?.[channel1] && {\n            [channel1]: { preserve: true },\n          }),\n        },\n        animate: false,\n      },\n    ),\n  );\n\n  return {\n    ...options,\n    marks: newMarks,\n    // Add adaptive inset based on actual point sizes from markState\n    insetLeft: extraInset,\n    insetRight: extraInset,\n    insetTop: extraInset,\n    insetBottom: extraInset,\n    clip: true,\n    animate: false,\n  };\n}\n\n/**\n * Filters data by domain for multi-axis scenarios.\n * Handles independent scales and mark-specific filtering.\n *\n * @param options - Filter data options\n * @param scaleOptions - Scale configuration\n * @param prefix - Slider prefix identifier\n * @param hasState - Whether slider has state\n * @param channel0 - Primary channel (x or y)\n * @param channel1 - Secondary channel (y or x)\n * @param markToScaleMap - Mapping of marks to scale keys\n * @param filteredDomainList - Map of filtered domains by scale key\n * @returns Filtered options with updated marks\n */\nfunction filterDataByDomainMultiAxis(\n  options: FilterDataByDomainOptions,\n  view: G2ViewDescriptor,\n  scaleOptions: ScaleOptions,\n  prefix: string,\n  hasState = false,\n  channel0 = 'x',\n  channel1 = 'y',\n  markToScaleMap = new Map<string, string>(),\n  filteredDomainList = new Map<string, unknown[]>(),\n) {\n  const { marks } = options;\n  const extraInset = calculatePointInset(view);\n\n  const newMarks = marks.map((mark: Record<string, unknown>) => {\n    const markKey =\n      typeof mark?.key === 'string' ? mark.key : String(mark?.key || '');\n    const markToScale = markToScaleMap.get(markKey);\n    const filterDomain = filteredDomainList.get(markToScale);\n    const scaleNew = filterDomain && {\n      y: {\n        domain: filterDomain,\n        nice: true,\n        ...(markToScale !== 'y'\n          ? {\n              independent: true,\n            }\n          : undefined),\n      },\n    };\n    return deepMix(\n      {\n        // Hide label to keep smooth transition.\n        axis: {\n          x: { transform: [{ type: 'hide' }] },\n          y: { transform: [{ type: 'hide' }] },\n        },\n      },\n      mark,\n      {\n        scale: { ...scaleOptions, ...scaleNew },\n        [prefix]: {\n          ...(mark[prefix]?.[channel0] && {\n            [channel0]: { preserve: true, ...(hasState && { ratio: null }) },\n          }),\n          ...(mark[prefix]?.[channel1] && {\n            [channel1]: { preserve: true },\n          }),\n        },\n        animate: false,\n      },\n    );\n  });\n  return {\n    ...options,\n    marks: newMarks,\n    // Add adaptive inset based on actual point sizes from markState\n    insetLeft: extraInset,\n    insetRight: extraInset,\n    insetTop: extraInset,\n    insetBottom: extraInset,\n    clip: true,\n    animate: false,\n  };\n}\n\n/**\n * Converts slider values to abstract domain values.\n *\n * @param values - Slider value range [start, end]\n * @param scale - Scale instance for conversion\n * @param reverse - Whether to reverse the mapping\n * @returns Abstract domain values\n */\nfunction abstractValue(\n  values: [number, number],\n  scale: RuntimeScale,\n  reverse: boolean,\n) {\n  const [x, x1] = values;\n  const v = reverse ? (d: number) => 1 - d : (d: number) => d;\n  const d0 = invert(scale, v(x), true);\n  const d1 = invert(scale, v(x1), false);\n  return domainOf(scale, [d0, d1]);\n}\n\n/**\n * Gets the extent (first and last) values from a domain array.\n *\n * @param domain - Domain array\n * @returns Array containing first and last domain values\n */\nfunction extentOf(domain: unknown[]): unknown[] {\n  return [domain[0], domain[domain.length - 1]];\n}\n\n/**\n * @todo Support click to reset after fix click and dragend conflict.\n */\nexport function SliderFilter({\n  initDomain = {},\n  className = SLIDER_CLASS_NAME,\n  prefix = 'slider',\n  setValue = (component, values) => component.setValues(values),\n  hasState = false,\n  wait = 50,\n  leading = true,\n  trailing = false,\n  adaptiveMode = 'filter',\n  getInitValues = (slider) => {\n    const values = slider?.attributes?.values;\n    if (values[0] !== 0 || values[1] !== 1) return values;\n  },\n}: SliderFilterInteraction) {\n  return (context: any, _: any, emitter: any) => {\n    const { container, view, update, setState } = context;\n    const sliders = container.getElementsByClassName(className);\n    if (!sliders.length) return () => {};\n\n    let filtering = false;\n    const { scale, coordinate } = view;\n    const { x: scaleX, y: scaleY } = scale;\n    const transposed = isTranspose(coordinate);\n\n    const channelOf = (orientation: string) => {\n      const channel0 = orientation === 'vertical' ? 'y' : 'x';\n      const channel1 = orientation === 'vertical' ? 'x' : 'y';\n      if (transposed) return [channel1, channel0];\n      return [channel0, channel1];\n    };\n\n    const sliderHandler = new Map();\n    const emitHandlers = new Set<[string, (event: any) => void]>();\n\n    const independentScaleInfo = calculateAllIndependentScaleInfo(view);\n\n    const channelDomain = calculateMultiAxisChannelDomains(\n      view,\n      initDomain,\n      scaleX,\n      scaleY,\n      independentScaleInfo,\n    );\n\n    const sliderArray = Array.from(sliders);\n\n    const hasSliderOfType = (type: string) =>\n      sliderArray.some((slider: any) => {\n        const { orientation } = slider.attributes;\n        const [channel0] = channelOf(orientation);\n        return channel0 === type;\n      });\n\n    const hasOnlyXSlider = hasSliderOfType('x') && !hasSliderOfType('y');\n    const hasOnlyYSlider = hasSliderOfType('y') && !hasSliderOfType('x');\n\n    const enableAdaptiveFiltering =\n      !isFalsyValue(adaptiveMode) && (hasOnlyXSlider || hasOnlyYSlider);\n\n    for (const slider of sliders) {\n      const { orientation } = slider.attributes;\n      const [channel0, channel1] = channelOf(orientation);\n      const eventName = `${prefix}${upperFirst(channel0)}:filter`;\n      const isX = channel0 === 'x';\n      const { ratio: ratioX } = scaleX.getOptions();\n      const { ratio: ratioY } = scaleY.getOptions();\n      const domainsOf = (event: any): [unknown[], unknown[]] => {\n        if (event.data) {\n          const { selection } = event.data;\n          const [X = extentOf(channelDomain.x), Y = extentOf(channelDomain.y)] =\n            selection;\n          return isX\n            ? [domainOf(scaleX, X, ratioX), domainOf(scaleY, Y, ratioY)]\n            : [domainOf(scaleY, Y, ratioY), domainOf(scaleX, X, ratioX)];\n        }\n\n        const { value: values } = event.detail;\n        const scale0 = scale[channel0];\n        const domain0 = abstractValue(\n          values,\n          scale0,\n          transposed && orientation === 'horizontal',\n        );\n        const domain1 = channelDomain[channel1];\n        return [domain0, domain1];\n      };\n\n      // Create value change handler with independent filtering state\n      // Each slider maintains its own filtering state to prevent mutual interference in dual-axis scenarios\n      let isFiltering = false;\n      const setFiltering = (value: boolean) => {\n        isFiltering = value;\n        // Only reset global state when all sliders are not filtering\n        if (!value) {\n          filtering = false;\n        }\n      };\n\n      const onValueChange = createValueChangeHandler({\n        getFiltering: () => isFiltering,\n        setFiltering,\n        domainsOf,\n        view,\n        independentScaleInfo,\n        enableAdaptiveFiltering,\n        hasOnlyXSlider,\n        hasOnlyYSlider,\n        adaptiveMode,\n        scaleX,\n        scaleY,\n        scale,\n        channelDomain,\n        channel0,\n        channel1,\n        isX,\n        emitter,\n        eventName,\n        setState,\n        slider,\n        prefix,\n        hasState,\n        update,\n        wait,\n        leading,\n        trailing,\n      });\n\n      const emitHandler = (event: any) => {\n        const { nativeEvent } = event;\n        if (nativeEvent) return;\n\n        const { data } = event;\n        const { selection } = data;\n        const [X, Y] = selection;\n\n        slider.dispatchEvent(\n          new CustomEvent('valuechange', {\n            data,\n            nativeEvent: false,\n          }),\n        );\n\n        const V = isX\n          ? sliderAbstractOf(X, scaleX)\n          : sliderAbstractOf(Y, scaleY);\n        setValue(slider, V);\n      };\n\n      emitter.on(eventName, emitHandler);\n\n      slider.addEventListener('valuechange', onValueChange);\n      sliderHandler.set(slider, onValueChange);\n      emitHandlers.add([eventName, emitHandler]);\n\n      const values = getInitValues(slider);\n\n      if (values) {\n        slider.dispatchEvent(\n          new CustomEvent('valuechange', {\n            detail: {\n              value: values,\n            },\n            nativeEvent: false,\n            initValue: true,\n          }),\n        );\n      }\n    }\n\n    return () => {\n      for (const [slider, handler] of sliderHandler) {\n        slider.removeEventListener('valuechange', handler);\n      }\n      for (const [name, handler] of emitHandlers) {\n        emitter.off(name, handler);\n      }\n    };\n  };\n}\n\n/**\n * Processes multi-axis filtering for view-level sliders.\n * Handles both view-level and mark-level slider configurations.\n *\n * @param params - Multi-axis filtering parameters\n * @returns Filtered domain mapping\n */\nfunction processMultiAxisFiltering({\n  view,\n  domain0,\n  shouldFilterXAxis,\n  enableAdaptiveFiltering,\n  markDataPairs,\n  adaptiveMode,\n  scaleX,\n  scaleY,\n  scale,\n  channelDomain,\n  independentScaleInfo,\n  channel0,\n}: {\n  view: any;\n  domain0: unknown[];\n  shouldFilterXAxis: boolean;\n  enableAdaptiveFiltering: boolean;\n  markDataPairs: any[];\n  adaptiveMode: any;\n  scaleX: RuntimeScale;\n  scaleY: RuntimeScale;\n  scale: Record<string, RuntimeScale>;\n  channelDomain: Record<string, unknown[]>;\n  independentScaleInfo: any;\n  channel0: string;\n}): {\n  filteredDomain: Map<string, unknown[]>;\n  markToScaleMap: Map<string, string>;\n} {\n  const filteredDomain = new Map<string, unknown[]>();\n  const markToScaleMap = new Map<string, string>();\n\n  if (\n    !enableAdaptiveFiltering ||\n    markDataPairs.length === 0 ||\n    !domain0?.length\n  ) {\n    return { filteredDomain, markToScaleMap };\n  }\n\n  const viewSlider = get(view, 'options.slider');\n  const isViewSlider =\n    Object.keys(viewSlider).length > 0 &&\n    Object.prototype.hasOwnProperty.call(viewSlider, channel0);\n\n  if (isViewSlider) {\n    // Handle view-level slider\n    const multiAxisScaleInfo = extractMultiAxisScaleInfo(\n      shouldFilterXAxis,\n      scale,\n      scaleX,\n      scaleY,\n      channelDomain,\n    );\n\n    const scaleMapToUse = shouldFilterXAxis\n      ? independentScaleInfo.markToXScaleMap\n      : independentScaleInfo.markToYScaleMap;\n\n    scaleMapToUse.forEach((scaleKey, markKey) => {\n      markToScaleMap.set(markKey, scaleKey);\n    });\n\n    const processedFilteredDomain = processMultiAxisViewFiltering({\n      markDataPairs,\n      domain: domain0,\n      scaleInfo: multiAxisScaleInfo,\n      markToScaleMap,\n      adaptiveMode,\n      isViewSlider: true,\n      shouldFilterXAxis,\n    });\n\n    updateChannelDomains(\n      channelDomain,\n      processedFilteredDomain,\n      shouldFilterXAxis,\n      true,\n    );\n    return { filteredDomain: processedFilteredDomain, markToScaleMap };\n  } else {\n    // Handle mark-level slider\n    const targetMarkKey = findTargetMarkKey(view, channel0);\n    if (targetMarkKey) {\n      const singleAxisScaleInfo = extractSingleAxisScaleInfo(\n        shouldFilterXAxis,\n        scaleX,\n        scaleY,\n      );\n      const scaleMapping = shouldFilterXAxis\n        ? independentScaleInfo.markToXScaleMap\n        : independentScaleInfo.markToYScaleMap;\n      const targetScaleKey = scaleMapping.get(targetMarkKey) || '';\n\n      if (targetScaleKey) {\n        markToScaleMap.set(targetMarkKey, targetScaleKey);\n        const processedFilteredDomain = processMultiAxisMarkFiltering(\n          markDataPairs,\n          domain0,\n          singleAxisScaleInfo,\n          targetMarkKey,\n          targetScaleKey,\n          adaptiveMode,\n          shouldFilterXAxis,\n          scaleMapping,\n        );\n        return { filteredDomain: processedFilteredDomain, markToScaleMap };\n      }\n    }\n  }\n\n  return { filteredDomain, markToScaleMap };\n}\n\n/**\n * Finds the target mark key for mark-level sliders.\n *\n * @param view - View instance\n * @param channel0 - Channel identifier\n * @returns Target mark key or null if not found\n */\nfunction findTargetMarkKey(view: any, channel0: string): string | null {\n  for (const [mark] of view.markState.entries()) {\n    const markSlider = get(mark, 'slider');\n    const hasMarkSlider =\n      Object.keys(markSlider || {}).length > 0 &&\n      Object.prototype.hasOwnProperty.call(markSlider, channel0);\n    if (hasMarkSlider) {\n      return String(mark.key || '');\n    }\n  }\n  return null;\n}\n\n/**\n * Processes single-axis filtering for scenarios without independent scales.\n *\n * @param params - Single-axis filtering parameters\n * @returns Filtered domain array\n */\nfunction processSingleAxisFilteringWithDomainUpdate({\n  domain0,\n  domain1,\n  shouldFilterXAxis,\n  enableAdaptiveFiltering,\n  markDataPairs,\n  adaptiveMode,\n  scaleX,\n  scaleY,\n  channelDomain,\n  hasOnlyXSlider,\n  hasOnlyYSlider,\n  isX,\n}: {\n  domain0: unknown[];\n  domain1: unknown[];\n  shouldFilterXAxis: boolean;\n  enableAdaptiveFiltering: boolean;\n  markDataPairs: any[];\n  adaptiveMode: any;\n  scaleX: RuntimeScale;\n  scaleY: RuntimeScale;\n  channelDomain: Record<string, unknown[]>;\n  hasOnlyXSlider: boolean;\n  hasOnlyYSlider: boolean;\n  isX: boolean;\n}): unknown[] {\n  let filteredDomain: unknown[] = domain1;\n\n  if (\n    enableAdaptiveFiltering &&\n    markDataPairs.length > 0 &&\n    ((hasOnlyXSlider && isX) || (hasOnlyYSlider && !isX)) &&\n    domain0?.length > 0\n  ) {\n    const singleAxisScaleInfo = extractSingleAxisScaleInfo(\n      shouldFilterXAxis,\n      scaleX,\n      scaleY,\n    );\n    filteredDomain = processSingleAxisFiltering({\n      markDataPairs,\n      domain: domain0,\n      scaleInfo: singleAxisScaleInfo,\n      adaptiveMode,\n      shouldFilterXAxis,\n    });\n\n    // Update channelDomain if filtering was applied\n    updateChannelDomains(\n      channelDomain,\n      filteredDomain,\n      shouldFilterXAxis,\n      false,\n    );\n  }\n\n  return filteredDomain;\n}\n\n/**\n * Creates the main value change handler for slider filtering.\n *\n * @param params - Handler creation parameters\n * @returns Throttled value change handler\n */\nfunction createValueChangeHandler({\n  getFiltering,\n  setFiltering,\n  domainsOf,\n  view,\n  independentScaleInfo,\n  enableAdaptiveFiltering,\n  hasOnlyXSlider,\n  hasOnlyYSlider,\n  adaptiveMode,\n  scaleX,\n  scaleY,\n  scale,\n  channelDomain,\n  channel0,\n  channel1,\n  isX,\n  emitter,\n  eventName,\n  setState,\n  slider,\n  prefix,\n  hasState,\n  update,\n  wait,\n  leading,\n  trailing,\n}: {\n  getFiltering: () => boolean;\n  setFiltering: (value: boolean) => void;\n  domainsOf: (event: any) => [unknown[], unknown[]];\n  view: any;\n  independentScaleInfo: any;\n  enableAdaptiveFiltering: boolean;\n  hasOnlyXSlider: boolean;\n  hasOnlyYSlider: boolean;\n  adaptiveMode: any;\n  scaleX: RuntimeScale;\n  scaleY: RuntimeScale;\n  scale: Record<string, RuntimeScale>;\n  channelDomain: Record<string, unknown[]>;\n  channel0: string;\n  channel1: string;\n  isX: boolean;\n  emitter: any;\n  eventName: string;\n  setState: any;\n  slider: any;\n  prefix: string;\n  hasState: boolean;\n  update: () => Promise<void>;\n  wait: number;\n  leading: boolean;\n  trailing: boolean;\n}) {\n  return throttle(\n    async (event: any) => {\n      const { initValue = false } = event;\n      if (getFiltering() && !initValue) {\n        return;\n      }\n      setFiltering(true);\n\n      const { nativeEvent = true } = event;\n      const { markDataPairs } = extractChannelValues(view);\n      const hasIndependentScale =\n        independentScaleInfo[`hasIndependent${channel1.toUpperCase()}`];\n\n      if (hasIndependentScale) {\n        // Handle multi-axis scenario\n        const [domain0] = domainsOf(event);\n        const shouldFilterXAxis = hasOnlyYSlider && !isX;\n        const { filteredDomain, markToScaleMap } = processMultiAxisFiltering({\n          view,\n          domain0,\n          shouldFilterXAxis,\n          enableAdaptiveFiltering:\n            enableAdaptiveFiltering &&\n            ((hasOnlyXSlider && isX) || (hasOnlyYSlider && !isX)),\n          markDataPairs,\n          adaptiveMode,\n          scaleX,\n          scaleY,\n          scale,\n          channelDomain,\n          independentScaleInfo,\n          channel0,\n        });\n\n        // Update channelDomain to reflect the current filter state\n        channelDomain[channel0] = domain0;\n\n        emitFilterEvent(\n          emitter,\n          eventName,\n          event,\n          domain0,\n          channelDomain,\n          isX,\n          nativeEvent,\n        );\n        updateSliderState(setState, slider, view, {\n          domain0,\n          filteredDomain,\n          channel0,\n          channel1,\n          prefix,\n          hasState,\n          isMultiAxis: true,\n          markToScaleMap,\n          enableAdaptiveFiltering,\n        });\n      } else {\n        // Handle single-axis scenario\n        const [domain0, domain1] = domainsOf(event);\n        const shouldFilterXAxis = hasOnlyYSlider && !isX;\n        const filteredDomain = processSingleAxisFilteringWithDomainUpdate({\n          domain0,\n          domain1,\n          shouldFilterXAxis,\n          enableAdaptiveFiltering,\n          markDataPairs,\n          adaptiveMode,\n          scaleX,\n          scaleY,\n          channelDomain,\n          hasOnlyXSlider,\n          hasOnlyYSlider,\n          isX,\n        });\n\n        // Update channelDomain to reflect the current filter state\n        channelDomain[channel0] = domain0;\n\n        emitFilterEvent(\n          emitter,\n          eventName,\n          event,\n          domain0,\n          channelDomain,\n          isX,\n          nativeEvent,\n        );\n        updateSliderState(setState, slider, view, {\n          domain0,\n          filteredDomain,\n          channel0,\n          channel1,\n          prefix,\n          hasState,\n          isMultiAxis: false,\n          markToScaleMap: undefined,\n          enableAdaptiveFiltering,\n        });\n      }\n\n      await update();\n      setFiltering(false);\n    },\n    wait,\n    { leading, trailing },\n  );\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 6120, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6126, "column": 0}, "map": {"version":3,"file":"sliderWheel.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/interaction/sliderWheel.ts"],"sourcesContent":["import { CustomEvent, DisplayObject } from '@antv/g';\nimport { isTranspose } from '../utils/coordinate';\nimport { SLIDER_CLASS_NAME } from './sliderFilter';\nimport { calculateSensitivityMultiplier } from './utils';\n\n/**\n * SliderWheel interaction for mouse wheel/touchpad gestures on charts.\n */\n\n/**\n * Get the real DOM canvas element from G2 container.\n * This helper function provides better type safety than using 'as any' directly.\n */\nfunction getCanvasDOM(container: any): HTMLElement | null {\n  try {\n    const canvas = container.ownerDocument?.defaultView;\n    if (!canvas || typeof canvas.getContextService !== 'function') {\n      return null;\n    }\n    const dom = canvas.getContextService().getDomElement();\n    return dom instanceof HTMLElement ? dom : null;\n  } catch {\n    return null;\n  }\n}\n\ntype SliderDirection = true | false | 'shift' | 'ctrl' | 'alt';\n\ninterface SliderWheelOptions {\n  className?: string;\n  setValue?: (component: any, values: [number, number]) => void;\n  minRange?: number; // Minimum range (0.000001-1), auto-clamped\n  wheelSensitivity?: number;\n  x?: SliderDirection;\n  y?: SliderDirection;\n}\n\nexport function SliderWheel({\n  className = SLIDER_CLASS_NAME,\n  setValue = (component, values) => component.setValues(values),\n  minRange = 0.01,\n  wheelSensitivity = 0.05,\n  x = true,\n  y = true,\n}: SliderWheelOptions = {}) {\n  return (context) => {\n    const { container, view } = context;\n    const { coordinate } = view;\n    const transposed = isTranspose(coordinate);\n\n    // Get the real DOM canvas element to attach wheel listener\n    const canvasDOM = getCanvasDOM(container);\n    const safeMinRange = Math.max(0.000001, Math.min(1, minRange));\n\n    const sliders = container.getElementsByClassName(className);\n    if (!sliders.length) return () => {};\n\n    const isModifierKeyActive = (\n      config: SliderDirection,\n      event: WheelEvent,\n    ): boolean => {\n      if (config === true) return true;\n      if (config === false) return false;\n      if (config === 'shift')\n        return event.shiftKey && !event.ctrlKey && !event.altKey;\n      if (config === 'ctrl')\n        return event.ctrlKey && !event.shiftKey && !event.altKey;\n      if (config === 'alt')\n        return event.altKey && !event.shiftKey && !event.ctrlKey;\n      return false;\n    };\n\n    const triggerSliderValueChange = (\n      slider: any,\n      values: [number, number],\n    ) => {\n      setValue(slider, values);\n      slider.dispatchEvent(\n        new CustomEvent('valuechange', {\n          detail: { value: values },\n          nativeEvent: true,\n        }),\n      );\n    };\n\n    /**\n     * Calculate zoom center based on mouse position relative to slider track.\n     * @param mousePos - Mouse position (X or Y) relative to canvas\n     * @param sliderPos - Slider position (X or Y)\n     * @param trackLength - Length of slider track\n     * @param v0 - Current selection start value [0-1]\n     * @param v1 - Current selection end value [0-1]\n     * @returns Normalized center position [0-1] clamped to current selection\n     */\n    const calculateZoomCenter = (\n      mousePos: number,\n      sliderPos: number,\n      trackLength: number,\n      v0: number,\n      v1: number,\n    ): number => {\n      const relativePos = mousePos - sliderPos;\n      const normalizedPosition = relativePos / trackLength;\n      // Clamp to [0, 1] range first, then to current selection range\n      const clamped = Math.max(0, Math.min(1, normalizedPosition));\n      return Math.max(v0, Math.min(v1, clamped));\n    };\n\n    const handleWheel = (event: WheelEvent) => {\n      // Early return if canvas DOM is not available\n      if (!canvasDOM) return;\n\n      // Check if the event target is within our canvas container\n      const target = event.target as HTMLElement;\n      if (!canvasDOM.contains(target)) {\n        return;\n      }\n\n      // Get mouse position relative to canvas\n      const canvasRect = canvasDOM.getBoundingClientRect();\n      const mouseX = event.clientX - canvasRect.left;\n      const mouseY = event.clientY - canvasRect.top;\n\n      // Find all sliders that should respond to this event\n      const activeSliders: DisplayObject[] = [];\n\n      for (const slider of sliders) {\n        const { values, orientation } = (slider as any).attributes;\n        if (!values) continue;\n\n        const isHorizontal = orientation === 'horizontal';\n        const actualAxis = transposed\n          ? isHorizontal\n            ? 'y'\n            : 'x'\n          : isHorizontal\n          ? 'x'\n          : 'y';\n        const axisConfig = actualAxis === 'x' ? x : y;\n\n        if (isModifierKeyActive(axisConfig, event)) {\n          activeSliders.push(slider);\n        }\n      }\n\n      // If no slider should handle this event, let it propagate\n      if (activeSliders.length === 0) {\n        return;\n      }\n\n      // Prevent page scroll since we have active sliders\n      event.preventDefault();\n      event.stopPropagation();\n\n      // Process all active sliders\n      for (const slider of activeSliders) {\n        const {\n          values,\n          orientation,\n          x: sliderX,\n          y: sliderY,\n          trackLength,\n        } = (slider as any).attributes;\n        const [v0, v1] = values;\n        const range = v1 - v0;\n        const isHorizontal = orientation === 'horizontal';\n\n        // Calculate zoom center based on mouse position relative to slider\n        const center = isHorizontal\n          ? calculateZoomCenter(mouseX, sliderX, trackLength, v0, v1)\n          : calculateZoomCenter(mouseY, sliderY, trackLength, v0, v1);\n\n        const adaptiveSensitivity =\n          wheelSensitivity * calculateSensitivityMultiplier(range);\n\n        const delta = event.deltaY * adaptiveSensitivity;\n        const zoomFactor = 1 + delta;\n        const newRange = Math.max(\n          safeMinRange,\n          Math.min(1, range * zoomFactor),\n        );\n\n        // Calculate new range boundaries based on mouse position\n        // The zoom should maintain the ratio of distances from center to edges\n        const leftRatio = (center - v0) / range;\n        const rightRatio = (v1 - center) / range;\n\n        let newV0 = center - newRange * leftRatio;\n        let newV1 = center + newRange * rightRatio;\n\n        // Handle boundary conditions while trying to maintain mouse position as center\n        if (newV0 < 0) {\n          newV0 = 0;\n          newV1 = Math.min(1, newRange);\n        } else if (newV1 > 1) {\n          newV1 = 1;\n          newV0 = Math.max(0, 1 - newRange);\n        }\n\n        triggerSliderValueChange(slider, [newV0, newV1]);\n      }\n    };\n\n    // Listen on the real DOM canvas element with passive: false AND capture: true\n    // Capture phase ensures we intercept BEFORE @antv/g-canvas's passive listener\n    // This is the only way to preventDefault() before the passive listener receives it\n    if (canvasDOM) {\n      canvasDOM.addEventListener('wheel', handleWheel, {\n        passive: false,\n        capture: true,\n      });\n    }\n\n    return () => {\n      if (canvasDOM) {\n        canvasDOM.removeEventListener('wheel', handleWheel, { capture: true });\n      }\n    };\n  };\n}\n\nSliderWheel.props = {\n  reapplyWhenUpdate: true,\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 6282, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6288, "column": 0}, "map": {"version":3,"file":"scrollbarFilter.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/interaction/scrollbarFilter.ts"],"sourcesContent":["import { SliderFilter } from './sliderFilter';\n\nexport const SCROLLBAR_CLASS_NAME = 'g2-scrollbar';\n\nexport function ScrollbarFilter(options: any = {}) {\n  return (context, _, emitter) => {\n    const { view, container } = context;\n    const scrollbars = container.getElementsByClassName(SCROLLBAR_CLASS_NAME);\n    if (!scrollbars.length) return () => {};\n    const { scale } = view;\n    const { x: scaleX, y: scaleY } = scale;\n\n    // The filtered domain, computed by the ratio attribute.\n    const initDomain = {\n      x: [...scaleX.getOptions().domain],\n      y: [...scaleY.getOptions().domain],\n    };\n\n    // The ordinal domain for each channel.\n    scaleX.update({ domain: scaleX.getOptions().expectedDomain });\n    scaleY.update({ domain: scaleY.getOptions().expectedDomain });\n\n    const interaction = SliderFilter({\n      initDomain,\n      className: SCROLLBAR_CLASS_NAME,\n      prefix: 'scrollbar',\n      hasState: true,\n      setValue: (component, values) => component.setValue(values[0]),\n      getInitValues: (scrollbar) => {\n        const values = scrollbar.slider.attributes.values;\n        if (values[0] !== 0 || values[1] !== 1) return values;\n      },\n      ...options,\n    });\n    return interaction(context, _, emitter);\n  };\n}\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,YAAY,EAAE,MAAM,gBAAgB,CAAC;;AAEvC,MAAM,oBAAoB,GAAG,cAAc,CAAC;AAE7C,SAAU,eAAe,CAAC,UAAe,CAAA,CAAE;IAC/C,OAAO,CAAC,OAAO,EAAE,CAAC,EAAE,OAAO,EAAE,EAAE;QAC7B,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,OAAO,CAAC;QACpC,MAAM,UAAU,GAAG,SAAS,CAAC,sBAAsB,CAAC,oBAAoB,CAAC,CAAC;QAC1E,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,OAAO,GAAG,EAAE,AAAE,CAAC,CAAC;QACxC,MAAM,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC;QACvB,MAAM,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,MAAM,EAAE,GAAG,KAAK,CAAC;QAEvC,wDAAwD;QACxD,MAAM,UAAU,GAAG;YACjB,CAAC,EAAE,CAAC;mBAAG,MAAM,CAAC,UAAU,EAAE,CAAC,MAAM;aAAC;YAClC,CAAC,EAAE,CAAC;mBAAG,MAAM,CAAC,UAAU,EAAE,CAAC,MAAM;aAAC;SACnC,CAAC;QAEF,uCAAuC;QACvC,MAAM,CAAC,MAAM,CAAC;YAAE,MAAM,EAAE,MAAM,CAAC,UAAU,EAAE,CAAC,cAAc;QAAA,CAAE,CAAC,CAAC;QAC9D,MAAM,CAAC,MAAM,CAAC;YAAE,MAAM,EAAE,MAAM,CAAC,UAAU,EAAE,CAAC,cAAc;QAAA,CAAE,CAAC,CAAC;QAE9D,MAAM,WAAW,6KAAG,eAAA,AAAY,EAAA,OAAA,MAAA,CAAA;YAC9B,UAAU;YACV,SAAS,EAAE,oBAAoB;YAC/B,MAAM,EAAE,WAAW;YACnB,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,CAAC,SAAS,EAAE,MAAM,EAAE,CAAG,CAAD,QAAU,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YAC9D,aAAa,EAAE,CAAC,SAAS,EAAE,EAAE;gBAC3B,MAAM,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC;gBAClD,IAAI,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,OAAO,MAAM,CAAC;YACxD,CAAC;QAAA,GACE,OAAO,EACV,CAAC;QACH,OAAO,WAAW,CAAC,OAAO,EAAE,CAAC,EAAE,OAAO,CAAC,CAAC;IAC1C,CAAC,CAAC;AACJ,CAAC","ignoreList":[0]}},
    {"offset": {"line": 6332, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6338, "column": 0}, "map": {"version":3,"file":"poptip.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/interaction/poptip.ts"],"sourcesContent":["import { DisplayObject, HTML } from '@antv/g';\nimport { kebabCase } from '../utils/string';\nimport { subObject } from '../utils/helper';\n\nfunction dom(tag, children, style) {\n  return `<${tag} style=\"${Object.entries(style)\n    .map(([key, value]) => `${kebabCase(key)}:${value}`)\n    .join(';')}\">${children}</${tag}>`;\n}\n\nconst defaultTipStyle = {\n  backgroundColor: 'rgba(0,0,0,0.75)',\n  color: '#fff',\n  width: 'max-content',\n  padding: '1px 4px',\n  fontSize: '12px',\n  borderRadius: '2.5px',\n  boxShadow:\n    '0 3px 6px -4px rgba(0,0,0,0.12), 0 6px 16px 0 rgba(0,0,0,0.08), 0 9px 28px 8px rgba(0,0,0,0.05)',\n};\n\nfunction isTipText(element) {\n  if (element.nodeName !== 'text') return false;\n  if (element.isOverflowing()) return true;\n  return false;\n}\n\nexport function Poptip({ offsetX = 8, offsetY = 8, ...style }) {\n  return (context) => {\n    const { container } = context;\n    const [x0, y0] = container.getBounds().min;\n    const tipStyle = subObject(style, 'tip');\n    const tips = new Set();\n\n    const pointerover = (e) => {\n      const { target } = e;\n      if (!isTipText(target)) {\n        e.stopPropagation();\n        return;\n      }\n      const { offsetX: mouseX, offsetY: mouseY } = e;\n      const x = mouseX + offsetX - x0;\n      const y = mouseY + offsetY - y0;\n      if (target.tip) {\n        target.tip.style.x = x;\n        target.tip.style.y = y;\n        return;\n      }\n      const { text } = target.style;\n      const tipELement = new HTML({\n        className: 'poptip',\n        style: {\n          innerHTML: dom('div', text, {\n            ...defaultTipStyle,\n            ...tipStyle,\n          }),\n          x,\n          y,\n        },\n      });\n      container.appendChild(tipELement);\n      target.tip = tipELement;\n      tips.add(tipELement);\n    };\n\n    const pointerout = (e) => {\n      const { target } = e;\n      if (!isTipText(target)) {\n        e.stopPropagation();\n        return;\n      }\n      if (!target.tip) return;\n      target.tip.remove();\n      target.tip = null;\n      tips.delete(target.tip);\n    };\n\n    container.addEventListener('pointerover', pointerover);\n    container.addEventListener('pointerout', pointerout);\n\n    return () => {\n      container.removeEventListener('pointerover', pointerover);\n      container.removeEventListener('pointerout', pointerout);\n      tips.forEach((tip) => (tip as DisplayObject).remove());\n    };\n  };\n}\n\nPoptip.props = {\n  reapplyWhenUpdate: true,\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 6433, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6439, "column": 0}, "map": {"version":3,"file":"treemapDrillDown.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/interaction/treemapDrillDown.ts"],"sourcesContent":["import { Text, Group, Shape } from '@antv/g';\nimport { get, deepMix, pick, keys, find, size, last } from '@antv/util';\nimport type { DisplayObject } from '@antv/g';\nimport { subObject } from '../utils/helper';\nimport { PLOT_CLASS_NAME } from '../runtime';\nimport { select } from '../utils/selection';\nimport { Node, treeDataTransform } from '../utils/treeDataTransform';\nimport { legendClearSetState } from './legendFilter';\nimport { getElements } from './utils';\n\nfunction selectPlotArea(root: DisplayObject): DisplayObject {\n  return select(root).select(`.${PLOT_CLASS_NAME}`).node();\n}\n\nexport type DrillDownOptions = {\n  originData?: Node<any>[];\n  layout?: any;\n  [key: string]: any;\n};\n\n// Default breadCrumb config.\nconst DEFAULT_BREADCRUMB_STYLE = {\n  breadCrumbFill: 'rgba(0, 0, 0, 0.85)',\n  breadCrumbFontSize: 12,\n  breadCrumbY: 12,\n  activeFill: 'rgba(0, 0, 0, 0.5)',\n};\n\n/**\n * TreemapDrillDown interaction.\n */\nexport function TreemapDrillDown(drillDownOptions: DrillDownOptions = {}) {\n  const { originData = [], layout, ...style } = drillDownOptions;\n\n  const breadCrumb = deepMix({}, DEFAULT_BREADCRUMB_STYLE, style);\n\n  const breadCrumbStyle = subObject(breadCrumb, 'breadCrumb');\n  const breadCrumbActiveStyle = subObject(breadCrumb, 'active');\n\n  return (context) => {\n    const { update, setState, container, options } = context;\n    const plotArea = selectPlotArea(container);\n    const mark = options.marks[0];\n\n    const { state } = mark;\n\n    // Create breadCrumbTextsGroup,save textSeparator、drillTexts.\n    const textGroup = new Group();\n    plotArea.appendChild(textGroup);\n\n    // Modify the data and scale according to the path and the level of the current click, so as to achieve the effect of drilling down and drilling up and initialization.\n    const drillDownClick = async (path: string[], depth: number) => {\n      // Clear text.\n      textGroup.removeChildren();\n\n      // More path creation text.\n      if (depth) {\n        let name = '';\n        let y = breadCrumbStyle.y;\n        let x = 0;\n        const textPath = [];\n\n        const maxWidth = plotArea.getBBox().width;\n\n        // Create path: 'type1 / type2 / type3' -> '/ type1 / type2 / type3'.\n        const drillTexts = path.map((text, index) => {\n          name = `${name}${text}/`;\n          textPath.push(text);\n          const drillText = new Text({\n            name: name.replace(/\\/$/, ''),\n            style: {\n              text,\n              x,\n              // @ts-ignore\n              path: [...textPath],\n              depth: index,\n              ...breadCrumbStyle,\n              y,\n            },\n          });\n\n          textGroup.appendChild(drillText);\n\n          x += drillText.getBBox().width;\n\n          const textSeparator = new Text({\n            style: {\n              x,\n              text: ' / ',\n              ...breadCrumbStyle,\n              y,\n            },\n          });\n\n          textGroup.appendChild(textSeparator);\n\n          x += textSeparator.getBBox().width;\n\n          /**\n           * Page width exceeds maximum, line feed.\n           * | ----maxWidth---- |\n           * | / tyep1 / tyep2 / type3 |\n           * ->\n           * | ----maxWidth---- |\n           * | / tyep1 / tyep2  |\n           * | / type3 |\n           */\n          if (x > maxWidth) {\n            y = textGroup.getBBox().height + breadCrumbStyle.y;\n            x = 0;\n            drillText.attr({\n              x,\n              y,\n            });\n            x += drillText.getBBox().width;\n            textSeparator.attr({\n              x,\n              y,\n            });\n            x += textSeparator.getBBox().width;\n          }\n\n          if (index === size(path) - 1) {\n            textSeparator.remove();\n          }\n\n          return drillText;\n        });\n\n        // Add Active, Add TreemapDrillDown\n        drillTexts.forEach((item, index) => {\n          // Last drillText\n          if (index === size(drillTexts) - 1) return;\n          const originalAttrs = { ...item.attributes };\n          item.attr('cursor', 'pointer');\n          item.addEventListener('mouseenter', () => {\n            item.attr(breadCrumbActiveStyle);\n          });\n          item.addEventListener('mouseleave', () => {\n            item.attr(originalAttrs);\n          });\n          item.addEventListener('click', () => {\n            drillDownClick(\n              get(item, ['style', 'path']),\n              get(item, ['style', 'depth']),\n            );\n          });\n        });\n      }\n\n      // LegendFilter interaction and treemapDrillDown clash.\n      legendClearSetState(container, setState);\n\n      // Update marks.\n      setState('treemapDrillDown', (viewOptions) => {\n        const { marks } = viewOptions;\n        // Add filter transform for every marks,\n        // which will skip for mark without color channel.\n\n        const strPath = path.join('/');\n\n        const newMarks = marks.map((mark) => {\n          if (mark.type !== 'rect') return mark;\n          let newData = originData;\n\n          if (depth) {\n            const filterData = originData\n              .filter((item) => {\n                const id = get(item, ['id']);\n                return id && (id.match(`${strPath}/`) || strPath.match(id));\n              })\n              .map((item) => ({\n                value: item.height === 0 ? get(item, ['value']) : undefined,\n                name: get(item, ['id']),\n              }));\n\n            const { paddingLeft, paddingBottom, paddingRight } = layout;\n\n            // New drill layout for calculation x y and filtration data.\n            const newLayout = {\n              ...layout,\n              paddingTop:\n                (layout.paddingTop || textGroup.getBBox().height + 10) /\n                (depth + 1),\n              paddingLeft: paddingLeft / (depth + 1),\n              paddingBottom: paddingBottom / (depth + 1),\n              paddingRight: paddingRight / (depth + 1),\n              path: (d) => d.name,\n              layer: (d) => d.depth === depth + 1,\n            };\n\n            // Transform the new matrix tree data.\n            newData = treeDataTransform(filterData, newLayout, {\n              value: 'value',\n            })[0];\n          } else {\n            newData = originData.filter((item) => {\n              return item.depth === 1;\n            });\n          }\n\n          const colorDomain = [];\n          newData.forEach(({ path }) => {\n            colorDomain.push(last(path));\n          });\n\n          // TreemapDrillDown by filtering the data and scale.\n          return deepMix({}, mark, {\n            data: newData,\n            scale: {\n              color: { domain: colorDomain },\n            },\n          });\n        });\n\n        return { ...viewOptions, marks: newMarks };\n      });\n\n      // The second argument is to allow the legendFilter event to be re-added; the update method itself causes legend to lose the interaction event.\n      await update(undefined, ['legendFilter']);\n    };\n    //\n    const keyofLabel = (d) => d.attributes.key.split('-')[0];\n    const keyofRect = (d) => get(d, ['__data__', 'key']);\n    // Elements and BreadCrumb click.\n    const createDrillClick = (e) => {\n      const item = e.target;\n      const { markType, nodeName, attributes } = item || {};\n      if (markType !== 'rect' && nodeName !== Shape.TEXT) return;\n      const key =\n        nodeName === Shape.TEXT && get(attributes, 'isTreemapLabel') === true\n          ? keyofLabel(item)\n          : keyofRect(item);\n      const node = find(originData, (d) => d.id === key);\n\n      // Node height = 0 no children\n      if (get(node, 'height')) {\n        drillDownClick(get(node, 'path'), get(node, 'depth'));\n      }\n    };\n\n    // Add click drill interaction.\n    plotArea.addEventListener('click', createDrillClick);\n\n    // Change attributes keys.\n    const changeStyleKey = keys({ ...state.active, ...state.inactive });\n\n    const createActive = () => {\n      const elements = getElements(plotArea);\n      elements.forEach((element) => {\n        const cursor = get(element, ['style', 'cursor']);\n        const node = find(\n          originData,\n          (d) => d.id === get(element, ['__data__', 'key']),\n        );\n\n        if (cursor !== 'pointer' && node?.height) {\n          element.style.cursor = 'pointer';\n          const originalAttrs = pick(element.attributes, changeStyleKey);\n\n          element.addEventListener('mouseenter', () => {\n            element.attr(state.active);\n          });\n\n          element.addEventListener('mouseleave', () => {\n            element.attr(deepMix(originalAttrs, state.inactive));\n          });\n        }\n      });\n    };\n\n    createActive();\n    // Animate elements update, Add active.\n    plotArea.addEventListener('mousemove', createActive);\n\n    return () => {\n      textGroup.remove();\n      plotArea.removeEventListener('click', createDrillClick);\n      plotArea.removeEventListener('mousemove', createActive);\n    };\n  };\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 6739, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6745, "column": 0}, "map": {"version":3,"file":"elementPointMove.js","sources":["file:///Users/xiezhendong1/Documents/code/github/zeno/node_modules/%40antv/g2/src/interaction/elementPointMove.ts"],"sourcesContent":["import { Text, Group, Circle, Path } from '@antv/g';\nimport { deepMix, isUndefined, find, get } from '@antv/util';\nimport type { CircleStyleProps, TextStyleProps, PathStyleProps } from '@antv/g';\nimport { subObject } from '../utils/helper';\n\nimport {\n  selectPlotArea,\n  getPointsR,\n  getPointsPath,\n  getElements,\n  getThetaPath,\n} from './utils';\n\nexport type ElementPointMoveOptions = {\n  selection?: number[];\n  precision?: number;\n  [key: string]: any;\n};\n\nconst DEFAULT_STYLE = {\n  pointR: 6,\n  pointStrokeWidth: 1,\n  pointStroke: '#888',\n  pointActiveStroke: '#f5f5f5',\n  pathStroke: '#888',\n  pathLineDash: [3, 4],\n  labelFontSize: 12,\n  labelFill: '#888',\n  labelStroke: '#fff',\n  labelLineWidth: 1,\n  labelY: -6,\n  labelX: 2,\n};\n\n// point shape name.\nconst MOVE_POINT_NAME = 'movePoint';\n\n// Element mouseenter change style.\nconst elementMouseenter = (e) => {\n  const element = e.target;\n  const { markType } = element;\n  // Mark line.\n  if (markType === 'line') {\n    element.attr('_lineWidth', element.attr('lineWidth') || 1);\n    element.attr('lineWidth', element.attr('_lineWidth') + 3);\n  }\n  // Mark interval.\n  if (markType === 'interval') {\n    element.attr('_opacity', element.attr('opacity') || 1);\n    element.attr('opacity', 0.7 * element.attr('_opacity'));\n  }\n};\n\n// Element mouseleave change style.\nconst elementMouseleave = (e) => {\n  const element = e.target;\n  const { markType } = element;\n  // Mark line.\n  if (markType === 'line') {\n    element.attr('lineWidth', element.attr('_lineWidth'));\n  }\n  // Mark interval.\n  if (markType === 'interval') {\n    element.attr('opacity', element.attr('_opacity'));\n  }\n};\n\n// Get the latest overall data based on the individual data changes.\nconst getNewData = (newChangeData, data, encode) => {\n  return data.map((d) => {\n    const isUpdate = ['x', 'color'].reduce((v, key) => {\n      const field = encode[key];\n      if (!field) return v;\n\n      if (d[field] !== newChangeData[field]) return false;\n\n      return v;\n    }, true);\n\n    return isUpdate ? { ...d, ...newChangeData } : d;\n  });\n};\n\n// Find mark interval origin element data.\nconst getIntervalDataRatioTransformFn = (element) => {\n  const y = get(element, ['__data__', 'y']);\n  const y1 = get(element, ['__data__', 'y1']);\n  const v = y1 - y;\n\n  const {\n    __data__: { data, encode, transform },\n    childNodes,\n  } = element.parentNode;\n  const isNormalizeY = find(transform, ({ type }) => type === 'normalizeY');\n  const yField = get(encode, ['y', 'field']);\n  const value = data[childNodes.indexOf(element)][yField];\n\n  return (newValue, isTheta = false) => {\n    if (isNormalizeY || isTheta) {\n      return (newValue / (1 - newValue) / (v / (1 - v))) * value;\n    }\n\n    return newValue;\n  };\n};\n\n// Find origin path data.\nconst getPathDataRatioTransformFn = (element, index) => {\n  const v = get(element, ['__data__', 'seriesItems', index, '0', 'value']);\n  const i = get(element, ['__data__', 'seriesIndex', index]);\n\n  const {\n    __data__: { data, encode, transform },\n  } = element.parentNode;\n  const isNormalizeY = find(transform, ({ type }) => type === 'normalizeY');\n  const yField = get(encode, ['y', 'field']);\n  const value = data[i][yField];\n\n  return (newValue) => {\n    if (isNormalizeY) {\n      if (v === 1) {\n        return newValue;\n      }\n      return (newValue / (1 - newValue) / (v / (1 - v))) * value;\n    }\n\n    return newValue;\n  };\n};\n\n// Point shape select change style.\nconst selectedPointsStyle = (pointsShape, selection, defaultStyle) => {\n  pointsShape.forEach((shape, index) => {\n    shape.attr(\n      'stroke',\n      selection[1] === index\n        ? defaultStyle['activeStroke']\n        : defaultStyle['stroke'],\n    );\n  });\n};\n\n// Create help show message shape.\nconst createHelpShape = (\n  group,\n  circle,\n  pathStyle,\n  labelStyle,\n): [Path, Text] => {\n  const pathShape = new Path({\n    style: pathStyle,\n  });\n\n  const labelShape = new Text({\n    style: labelStyle,\n  });\n\n  circle.appendChild(labelShape);\n  group.appendChild(pathShape);\n  return [pathShape, labelShape];\n};\n\n// Get color scale type.\nconst getColorType = (scaleColor, color) => {\n  const indexOf = get(scaleColor, ['options', 'range', 'indexOf']);\n  if (!indexOf) return;\n  const i = scaleColor.options.range.indexOf(color);\n  return scaleColor.sortedDomain[i];\n};\n\n// Get the same direction new point.\nconst getSamePointPosition = (center, point, target) => {\n  const oldR = getPointsR(center, point);\n  const newR = getPointsR(center, target);\n  const ratio = newR / oldR;\n  const newX = center[0] + (point[0] - center[0]) * ratio;\n  const newY = center[1] + (point[1] - center[1]) * ratio;\n  return [newX, newY];\n};\n\n/**\n * ElementPointMove interaction.\n */\nexport function ElementPointMove(\n  elementPointMoveOptions: ElementPointMoveOptions = {},\n) {\n  const { selection = [], precision = 2, ...style } = elementPointMoveOptions;\n\n  const defaultStyle = { ...DEFAULT_STYLE, ...(style || {}) };\n\n  // Shape default style.\n  const pathDefaultStyle = subObject(defaultStyle, 'path') as PathStyleProps;\n  const labelDefaultStyle = subObject(defaultStyle, 'label') as TextStyleProps;\n  const pointDefaultStyle = subObject(\n    defaultStyle,\n    'point',\n  ) as CircleStyleProps;\n\n  return (context, _, emitter) => {\n    const {\n      update,\n      setState,\n      container,\n      view,\n      options: { marks, coordinate: coordinateOptions },\n    } = context;\n    const plotArea = selectPlotArea(container);\n    let elements = getElements(plotArea);\n    let newState;\n    let newSelection = selection;\n\n    const { transform = [], type: coordinateType } = coordinateOptions;\n    const isTranspose = !!find(transform, ({ type }) => type === 'transpose');\n    const isPolar = coordinateType === 'polar';\n    const isTheta = coordinateType === 'theta';\n    const isArea = !!find(elements, ({ markType }) => markType === 'area');\n\n    if (isArea) {\n      elements = elements.filter(({ markType }) => markType === 'area');\n    }\n\n    // Create points\n    const pointsGroup = new Group({\n      style: {\n        // Tooltip point need down.\n        zIndex: 2,\n      },\n    });\n    plotArea.appendChild(pointsGroup);\n\n    const selectedChange = () => {\n      emitter.emit('element-point:select', {\n        nativeEvent: true,\n        data: {\n          selection: newSelection,\n        },\n      });\n    };\n\n    const dataChange = (changeData, data) => {\n      emitter.emit('element-point:moved', {\n        nativeEvent: true,\n        data: {\n          changeData,\n          data,\n        },\n      });\n    };\n\n    // Element click change style.\n    const elementClick = (e) => {\n      const element = e.target;\n      newSelection = [element.parentNode.childNodes.indexOf(element)];\n      selectedChange();\n      createPoints(element);\n    };\n\n    const elementSelect = (d) => {\n      const {\n        data: { selection },\n        nativeEvent,\n      } = d;\n      if (nativeEvent) return;\n      newSelection = selection;\n      const element = get(elements, [newSelection?.[0]]);\n      if (element) {\n        createPoints(element);\n      }\n    };\n\n    // Create select element points.\n    const createPoints = (element) => {\n      const { attributes, markType, __data__: data } = element;\n      const { stroke: fill } = attributes;\n      const { points, seriesTitle, color, title, seriesX, y1 } = data;\n      // Transpose Currently only do mark interval;\n      if (isTranspose && markType !== 'interval') return;\n\n      const { scale, coordinate } = newState?.view || view;\n      const { color: scaleColor, y: scaleY, x: scaleX } = scale;\n      const center = coordinate.getCenter();\n\n      pointsGroup.removeChildren();\n      let downPoint;\n\n      const updateView = async (x, y, color, markTypes) => {\n        setState('elementPointMove', (viewOptions) => {\n          // Update marks.\n          const newMarks = (newState?.options?.marks || marks).map((mark) => {\n            if (!markTypes.includes(mark.type)) return mark;\n            const { data, encode } = mark;\n            const encodeKeys = Object.keys(encode);\n\n            // Get change new one element data.\n            const newChangeData = encodeKeys.reduce((value, key) => {\n              const dataKey = encode[key];\n              if (key === 'x') {\n                value[dataKey] = x;\n              }\n              if (key === 'y') {\n                value[dataKey] = y;\n              }\n              if (key === 'color') {\n                value[dataKey] = color;\n              }\n              return value;\n            }, {} as any);\n            // Get change new all data.\n            const newData = getNewData(newChangeData, data, encode);\n            dataChange(newChangeData, newData);\n\n            return deepMix({}, mark, {\n              data: newData,\n              // No need animate\n              animate: false,\n            });\n          });\n\n          return { ...viewOptions, marks: newMarks };\n        });\n\n        return await update('elementPointMove');\n      };\n\n      if (['line', 'area'].includes(markType)) {\n        points.forEach((p, index) => {\n          const title = scaleX.invert(seriesX[index]);\n\n          // Area points have bottom point.\n          if (!title) return;\n\n          const circle = new Circle({\n            name: MOVE_POINT_NAME,\n            style: {\n              cx: p[0],\n              cy: p[1],\n              fill,\n              ...pointDefaultStyle,\n            },\n          });\n\n          const ratioTransform = getPathDataRatioTransformFn(element, index);\n\n          circle.addEventListener('mousedown', (e) => {\n            const oldPoint = coordinate.output([seriesX[index], 0]);\n            const pathLength = seriesTitle?.length;\n\n            container.attr('cursor', 'move');\n\n            if (newSelection[1] !== index) {\n              newSelection[1] = index;\n              selectedChange();\n            }\n            selectedPointsStyle(\n              pointsGroup.childNodes,\n              newSelection,\n              pointDefaultStyle,\n            );\n\n            const [pathShape, labelShape] = createHelpShape(\n              pointsGroup,\n              circle,\n              pathDefaultStyle,\n              labelDefaultStyle,\n            );\n\n            // Point move change text\n            const pointMousemove = (e) => {\n              const newCy = p[1] + e.clientY - downPoint[1];\n              // Area/Radar chart.\n              if (isArea) {\n                // Radar chart.\n                if (isPolar) {\n                  const newCx = p[0] + e.clientX - downPoint[0];\n\n                  const [newX, newY] = getSamePointPosition(center, oldPoint, [\n                    newCx,\n                    newCy,\n                  ]);\n\n                  const [, initY] = coordinate.output([1, scaleY.output(0)]);\n                  const [, y] = coordinate.invert([\n                    newX,\n                    initY - (points[index + pathLength][1] - newY),\n                  ]);\n\n                  const nextIndex = (index + 1) % pathLength;\n                  const lastIndex = (index - 1 + pathLength) % pathLength;\n                  const newPath = getPointsPath([\n                    points[lastIndex],\n                    [newX, newY],\n                    seriesTitle[nextIndex] && points[nextIndex],\n                  ]);\n                  labelShape.attr(\n                    'text',\n                    ratioTransform(scaleY.invert(y)).toFixed(precision),\n                  );\n                  pathShape.attr('d', newPath);\n                  circle.attr('cx', newX);\n                  circle.attr('cy', newY);\n                } else {\n                  // Area chart.\n                  const [, initY] = coordinate.output([1, scaleY.output(0)]);\n                  const [, y] = coordinate.invert([\n                    p[0],\n                    initY - (points[index + pathLength][1] - newCy),\n                  ]);\n                  const newPath = getPointsPath([\n                    points[index - 1],\n                    [p[0], newCy],\n                    seriesTitle[index + 1] && points[index + 1],\n                  ]);\n                  labelShape.attr(\n                    'text',\n                    ratioTransform(scaleY.invert(y)).toFixed(precision),\n                  );\n                  pathShape.attr('d', newPath);\n                  circle.attr('cy', newCy);\n                }\n              } else {\n                // Line chart.\n                const [, y] = coordinate.invert([p[0], newCy]);\n                const newPath = getPointsPath([\n                  points[index - 1],\n                  [p[0], newCy],\n                  points[index + 1],\n                ]);\n                labelShape.attr('text', scaleY.invert(y).toFixed(precision));\n                pathShape.attr('d', newPath);\n                circle.attr('cy', newCy);\n              }\n            };\n\n            downPoint = [e.clientX, e.clientY];\n            window.addEventListener('mousemove', pointMousemove);\n\n            const mouseupFn = async () => {\n              container.attr('cursor', 'default');\n              window.removeEventListener('mousemove', pointMousemove);\n              container.removeEventListener('mouseup', mouseupFn);\n\n              if (isUndefined(labelShape.attr('text'))) return;\n\n              const y = Number(labelShape.attr('text'));\n              const colorType = getColorType(scaleColor, color);\n              newState = await updateView(title, y, colorType, [\n                'line',\n                'area',\n              ]);\n\n              labelShape.remove();\n              pathShape.remove();\n              createPoints(element);\n            };\n\n            container.addEventListener('mouseup', mouseupFn);\n          });\n\n          pointsGroup.appendChild(circle);\n        });\n\n        selectedPointsStyle(\n          pointsGroup.childNodes,\n          newSelection,\n          pointDefaultStyle,\n        );\n      } else if (markType === 'interval') {\n        // Column chart point.\n        let circlePoint = [(points[0][0] + points[1][0]) / 2, points[0][1]];\n        // Bar chart point.\n        if (isTranspose) {\n          circlePoint = [points[0][0], (points[0][1] + points[1][1]) / 2];\n        } else if (isTheta) {\n          // Pie chart point.\n          circlePoint = points[0];\n        }\n\n        const ratioTransform = getIntervalDataRatioTransformFn(element);\n\n        const circle = new Circle({\n          name: MOVE_POINT_NAME,\n          style: {\n            cx: circlePoint[0],\n            cy: circlePoint[1],\n            fill,\n            ...pointDefaultStyle,\n            stroke: pointDefaultStyle['activeStroke'],\n          },\n        });\n\n        circle.addEventListener('mousedown', (e) => {\n          container.attr('cursor', 'move');\n\n          const colorType = getColorType(scaleColor, color);\n\n          const [pathShape, labelShape] = createHelpShape(\n            pointsGroup,\n            circle,\n            pathDefaultStyle,\n            labelDefaultStyle,\n          );\n\n          // Point move change text\n          const pointMousemove = (e) => {\n            if (isTranspose) {\n              // Bar chart.\n              const newCx = circlePoint[0] + e.clientX - downPoint[0];\n              const [initX] = coordinate.output([\n                scaleY.output(0),\n                scaleY.output(0),\n              ]);\n\n              const [, x] = coordinate.invert([\n                initX + (newCx - points[2][0]),\n                circlePoint[1],\n              ]);\n              const newPath = getPointsPath(\n                [\n                  [newCx, points[0][1]],\n                  [newCx, points[1][1]],\n                  points[2],\n                  points[3],\n                ],\n                true,\n              );\n\n              labelShape.attr(\n                'text',\n                ratioTransform(scaleY.invert(x)).toFixed(precision),\n              );\n              pathShape.attr('d', newPath);\n              circle.attr('cx', newCx);\n            } else if (isTheta) {\n              // Pie chart.\n              const newCy = circlePoint[1] + e.clientY - downPoint[1];\n              const newCx = circlePoint[0] + e.clientX - downPoint[0];\n\n              const [newXOut, newYOut] = getSamePointPosition(\n                center,\n                [newCx, newCy],\n                circlePoint,\n              );\n              const [newXIn, newYIn] = getSamePointPosition(\n                center,\n                [newCx, newCy],\n                points[1],\n              );\n              const lastPercent = coordinate.invert([newXOut, newYOut])[1];\n              const percent = y1 - lastPercent;\n\n              if (percent < 0) return;\n              const newPath = getThetaPath(\n                center,\n                [[newXOut, newYOut], [newXIn, newYIn], points[2], points[3]],\n                percent > 0.5 ? 1 : 0,\n              );\n\n              labelShape.attr(\n                'text',\n                ratioTransform(percent, true).toFixed(precision),\n              );\n              pathShape.attr('d', newPath);\n              circle.attr('cx', newXOut);\n              circle.attr('cy', newYOut);\n            } else {\n              // Column chart.\n              const newCy = circlePoint[1] + e.clientY - downPoint[1];\n              const [, initY] = coordinate.output([1, scaleY.output(0)]);\n\n              const [, y] = coordinate.invert([\n                circlePoint[0],\n                initY - (points[2][1] - newCy),\n              ]);\n              const newPath = getPointsPath(\n                [\n                  [points[0][0], newCy],\n                  [points[1][0], newCy],\n                  points[2],\n                  points[3],\n                ],\n                true,\n              );\n\n              labelShape.attr(\n                'text',\n                ratioTransform(scaleY.invert(y)).toFixed(precision),\n              );\n              pathShape.attr('d', newPath);\n              circle.attr('cy', newCy);\n            }\n          };\n\n          downPoint = [e.clientX, e.clientY];\n          window.addEventListener('mousemove', pointMousemove);\n\n          // Change mosueup change data and update 、clear shape.\n          const mouseupFn = async () => {\n            container.attr('cursor', 'default');\n            container.removeEventListener('mouseup', mouseupFn);\n            window.removeEventListener('mousemove', pointMousemove);\n\n            if (isUndefined(labelShape.attr('text'))) return;\n\n            const y = Number(labelShape.attr('text'));\n\n            newState = await updateView(title, y, colorType, [markType]);\n\n            labelShape.remove();\n            pathShape.remove();\n            createPoints(element);\n          };\n\n          container.addEventListener('mouseup', mouseupFn);\n        });\n\n        pointsGroup.appendChild(circle);\n      }\n    };\n\n    // Add EventListener.\n    elements.forEach((element, index) => {\n      if (newSelection[0] === index) {\n        createPoints(element);\n      }\n      element.addEventListener('click', elementClick);\n      element.addEventListener('mouseenter', elementMouseenter);\n      element.addEventListener('mouseleave', elementMouseleave);\n    });\n\n    const rootClick = (e) => {\n      const element = e?.target;\n      if (\n        !element ||\n        (element.name !== MOVE_POINT_NAME && !elements.includes(element))\n      ) {\n        newSelection = [];\n        selectedChange();\n        pointsGroup.removeChildren();\n      }\n    };\n\n    emitter.on('element-point:select', elementSelect);\n    emitter.on('element-point:unselect', rootClick);\n    container.addEventListener('mousedown', rootClick);\n\n    // Remove EventListener.\n    return () => {\n      pointsGroup.remove();\n      emitter.off('element-point:select', elementSelect);\n      emitter.off('element-point:unselect', rootClick);\n      container.removeEventListener('mousedown', rootClick);\n      elements.forEach((element) => {\n        element.removeEventListener('click', elementClick);\n        element.removeEventListener('mouseenter', elementMouseenter);\n        element.removeEventListener('mouseleave', elementMouseleave);\n      });\n    };\n  };\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 7384, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}